(self.webpackChunkreact_ssr=self.webpackChunkreact_ssr||[]).push([[858],{3858:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Profile:()=>ee});var n=a(6610),r=a(5991),s=a(3349),o=a(379),i=a(6070),l=a(7608),c=a(6156),d=a(2122),m=a(1253),p=a(7294),h=a(1749),u=a(282),v=a(4837),f=a(7812),y=a(2318),E=a(2692),_=a(5477),Z=a(1959),g=a(366),b=a(2663),w=a(6083),S=a(9525),O=a(6856),x=a(6282),C=a(8286),T=a(9669),k=a.n(T),M=a(4593),I=a(7625),N=a(1436),D=a(5697),G=a.n(D),P=a(5258),B=a(65),j=a(1423),R=a(6562),A=a(553),z=a(4436),q=a(3258),F=a(7212),L=a(74),V=a(2541),W=a(6394),H=a(5639),J=a(6209),U=a(6912),K=a(2613);var Q=a(7563);function X(e){var t=e.children,a=e.value,n=e.index,r=(0,m.Z)(e,["children","value","index"]);return p.createElement("div",(0,d.Z)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},r),a===n&&p.createElement("div",{style:{width:"100%"}},t))}function Y(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function $(e){return p.createElement("svg",{width:e.width?e.width:"50",height:"20",viewBox:e.viewBox?e.viewBox:"0 0 1500 200",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",null,p.createElement("path",{id:"svg_1",d:"m219.27,252.76c63.98,-2.85 99.22,-39.48 99.22,-103.13c0,-37.42 -12.62,-65.49 -37.52,-83.44c-22.29,-16.07 -48.63,-19.21 -62.35,-19.65c-28.61,-0.92 -107.02,-0.04 -110.34,0c-5.75,0.07 -10.38,4.75 -10.38,10.5l0,174.95c-9.23,-0.11 -15.07,-0.2 -15.31,-0.21c-0.06,0 -0.11,0 -0.17,0c-5.72,0 -10.41,4.59 -10.5,10.34c-0.09,5.8 4.54,10.57 10.34,10.66c0.95,0.01 6.78,0.1 15.64,0.21l0,26.12l-15.48,0c-5.8,0 -10.5,4.7 -10.5,10.5s4.7,10.5 10.5,10.5l15.48,0l0,74.89c0,5.8 4.7,10.5 10.5,10.5s10.5,-4.7 10.5,-10.5l0,-74.9l109.39,0c5.8,0 10.5,-4.7 10.5,-10.5s-4.7,-10.5 -10.5,-10.5l-109.39,0l0,-25.88c32.67,0.31 78.53,0.51 100.37,-0.46zm-100.37,-185.33c22.81,-0.21 76.99,-0.61 99.05,0.1c23.92,0.77 79.55,10.31 79.55,82.1c0,52.17 -26.63,79.82 -79.16,82.16c-21.17,0.94 -66.91,0.74 -99.44,0.43l0,-164.79z"})))}X.propTypes={children:G().node,index:G().any.isRequired,value:G().any.isRequired};var ee=function(e){(0,o.Z)(T,e);var t,a,m=(t=T,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var r=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return(0,i.Z)(this,e)});function T(e){var t;if((0,n.Z)(this,T),t=m.call(this,e),(0,c.Z)((0,s.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),x.Z.setPage("profile"),x.Z.getToken()||t.props.history.replace({pathname:"/"+t.state.city_name+"/"}),T.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),t.loadData()})),(0,c.Z)((0,s.Z)(t),"changeTab",(function(e,a){t.setState({valueTab:a})})),(0,c.Z)((0,s.Z)(t),"changeM",(function(e){t.setState({changeM:e.target.value})})),(0,c.Z)((0,s.Z)(t),"changeDay",(function(e){t.setState({changeDay:e.target.value})})),(0,c.Z)((0,s.Z)(t),"changeMail",(function(e){t.setState({userMail:e.target.value})})),(0,c.Z)((0,s.Z)(t),"changeCheck",(function(e){var a=e.target.checked;fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q.stringify({type:"save_profile_spam",my_spam:a?1:0,user_id:x.Z.getToken()})}).then((function(e){return e.json()})).then((function(e){t.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены",spam:a?1:0})}))})),(0,c.Z)((0,s.Z)(t),"changeName",(function(e){t.setState({userName:e.target.value})})),(0,c.Z)((0,s.Z)(t),"changeAddr",(function(e){t.setState({typeDel:e.target.value})})),t.state={actii:[],is_load:!1,openDialog:!1,delOrder:!1,errorOpen:!1,error:{title:"",text:""},title:"",description:"",page:null,city_name:e.match.params.cityName,typeDel:"0",valueTab:1,info:{},arr_day:[],arr_m:[{name:"Января",value:1},{name:"Февраля",value:2},{name:"Марта",value:3},{name:"Апреля",value:4},{name:"Мая",value:5},{name:"Июня",value:6},{name:"Июля",value:7},{name:"Августа",value:8},{name:"Сентября",value:9},{name:"Октября",value:10},{name:"Ноября",value:11},{name:"Декабря",value:12}],radiogroup_options:[{id:"0",label:"Решили отредактировать заказ",value:0},{id:"1",label:"Не устраивает время ожидания",value:0},{id:"2",label:"Изминились планы",value:0},{id:"3",label:"Недостаточно средств",value:0},{id:"4",label:"Другое",value:0}],textDel:"",changeDay:"",changeM:"",userMail:"",openMSG:!1,statusMSG:!1,textMSG:"",spam:0,userName:"",spiner:!1,showOrder:null},e.location.search.length>3){var a=e.location.search.split("&"),r=a[0].split("bank=");r=r[1];var o=a[1].split("orderId=");o=o[1],t.checkPay(r,o)}return x.Z.setCity(e.match.params.cityName),t}return(0,r.Z)(T,[{key:"loadData",value:function(){for(var e=this,t=[],a=1;a<=31;a++)t.push(a);fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q.stringify({type:"get_user_web",city_id:this.state.city_name,user_id:x.Z.getToken()})}).then((function(e){return e.json()})).then((function(a){var n=a.orders.my_orders.filter((function(e){return 6!=parseInt(e.status_order)&&0==parseInt(e.is_delete)}));e.setState({info:a,is_load:!0,arr_day:t,userMail:a.user.mail,spam:a.user.spam,userName:a.user.name}),n.length>0&&setTimeout((function(){e.loadData()}),6e3)})).catch((function(e){}))}},{key:"checkPay",value:function(e,t){var a=this,n={type:"check_pay_web",payId:t,bank:e};k()({method:"POST",url:"https://jacofood.ru/src/php/test_app.php",headers:{"content-type":"application/x-www-form-urlencoded"},data:Q.stringify(n)}).then((function(n){if(200===n.status){var r=n.data;r.repeat?setTimeout((function(){a.checkPay(e,t)}),5e3):r.is_create||(a.setState({spiner:!1}),r.st?a.trueOrder(r.order_id,r.point_id):(a.props.history.push(a.props.location.pathname),a.setState({error:{title:"Ошибка оплаты",text:r.pay.actionCodeDescription},errorOpen:!0})))}})).catch((function(e){console.log(e)}))}},{key:"trueOrder",value:function(e,t){var a=this;fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q.stringify({type:"trueOrder",city_id:this.state.city_name,user_id:x.Z.getToken(),order_id:e,point_id:t})}).then((function(e){return e.json()})).then((function(e){0==e.st?a.setState({error:{title:"При подтверждении оплаты произошла ошибка",text:e.text_err},errorOpen:!0}):(x.Z.setItems([]),x.Z.saveCartData({orderType:"0",orderAddr:"",orderPic:0,orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:"",orderSdacha:""}),a.loadData())}))}},{key:"closeDialog",value:function(){this.setState({showItem:null,openDialog:!1})}},{key:"openDialog",value:function(e){this.setState({showItem:e,openDialog:!0})}},{key:"closeAlert",value:function(){this.setState({openMSG:!1})}},{key:"saveMail",value:function(){var e=this;fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q.stringify({type:"save_profile_mail_web",my_mail:this.state.userMail,user_id:x.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"saveDay",value:function(){var e=this,t=this.state.changeDay,a=this.state.changeM;if(""!=t&""!=a){var n="";this.state.arr_m.map((function(e,t){parseInt(e.value)==parseInt(a)&&(n=e.name)})),fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q.stringify({type:"save_profile_date",my_date:t+" "+n,user_id:x.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){t.st&&fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q.stringify({type:"get_user_web",city_id:e.state.city_name,user_id:x.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){e.setState({info:t})})).catch((function(e){})),setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}}},{key:"activePromo",value:function(e,t){var a=this;x.Z.setPromo(JSON.stringify(e),t);var n=x.Z.checkPromo();setTimeout((function(){n.st?a.setState({openMSG:!0,statusMSG:!0,textMSG:"Промокод применен"}):a.setState({openMSG:!0,statusMSG:!1,textMSG:n.text})}),300)}},{key:"saveName",value:function(){var e=this;fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q.stringify({type:"save_profile_name",my_name:this.state.userName,user_id:x.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"getOrder",value:function(e,t){var a=this;this.setState({spiner:!0}),fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q.stringify({type:"get_order",order_id:e,point_id:t})}).then((function(e){return e.json()})).then((function(e){console.log(e),setTimeout((function(){a.setState({showOrder:e,openDialog:!0,spiner:!1})}),1e3)})).catch((function(e){}))}},{key:"closeOrder",value:function(){this.setState({delOrder:!0,typeDel:"0",textDel:""})}},{key:"closeOrderTrue",value:function(){var e=this,t=this.state.radiogroup_options.find((function(t){return t.id==e.state.typeDel}));"4"==t.id&&(t.label=this.state.textDel),confirm("Отменить заказ #"+this.state.showOrder.order.order_id)&&fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Q.stringify({type:"close_order",user_id:x.Z.getToken(),order_id:this.state.showOrder.order.order_id,point_id:this.state.showOrder.order.point_id,ans:t.label})}).then((function(e){return e.json()})).then((function(t){console.log(t),setTimeout((function(){t.st?(e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены",delOrder:!1,openDialog:!1,showItem:null}),e.loadData()):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"repeatOrder",value:function(){var e=this,t=[],a=x.Z.getAllItems(),n=null;this.state.showOrder.order_items.map((function(e){if(n=a.find((function(t){return t.id==e.item_id}))){var r=parseInt(n.price),s=parseInt(e.count)*parseInt(n.price);t.push({name:e.name,item_id:e.item_id,count:e.count,one_price:r,all_price:s})}}));var r={orderType:parseInt(this.state.showOrder.order.type_order_)-1,orderAddr:this.state.showOrder.street.name,orderPic:parseInt(this.state.showOrder.order.point_id),orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:1==parseInt(this.state.showOrder.order.type_order_)?"cash":"in",orderSdacha:""};x.Z.saveCartData(r),this.state.showOrder.order.promo_name&&""!=this.state.showOrder.order.promo_name&&x.Z.setPromo(this.state.showOrder.promo_info,this.state.showOrder.order.promo_name),x.Z.setItems(t),setTimeout((function(){window.location.pathname="/"+e.state.city_name+"/cart"}),300)}},{key:"render",value:function(){var e=this;return p.createElement(h.Z,{container:!0,className:"Profile mainContainer MuiGrid-spacing-xs-3"},p.createElement(M.q,null,p.createElement("title",null,this.state.title),p.createElement("meta",{name:"description",content:this.state.description})),p.createElement(E.Z,{open:this.state.spiner,style:{zIndex:99,color:"#fff"}},p.createElement(_.Z,{color:"inherit"})),p.createElement(b.Z,{open:this.state.errorOpen,onClose:function(){return e.setState({errorOpen:!1})},className:"DialogErr"},p.createElement(y.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},this.state.error.title),p.createElement(I.G,{className:"closeDialog",onClick:function(){return e.setState({errorOpen:!1})},icon:N.NBC}),p.createElement(S.Z,null,p.createElement(F.Z,{className:"DialogErrText"},this.state.error.text)),p.createElement(O.Z,null,p.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({errorOpen:!1})}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Хорошо")))),p.createElement(h.Z,{item:!0,xs:12},p.createElement(y.Z,{variant:"h5",component:"h1"},"Личный кабинет")),p.createElement(U.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.openMSG,autoHideDuration:3e3,onClose:this.closeAlert.bind(this),message:this.state.textMSG,style:{backgroundColor:this.state.statusMSG?"green":"#BB0025",borderRadius:4},action:p.createElement(p.Fragment,null,p.createElement(f.Z,{size:"small","aria-label":"close",color:"inherit",onClick:this.closeAlert.bind(this)},p.createElement(g.Z,{fontSize:"small"})))}),p.createElement(h.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",style:{paddingTop:0}},p.createElement(P.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},p.createElement(B.Z,{value:this.state.valueTab,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",style:{justifyContent:"center"}},p.createElement(j.Z,(0,d.Z)({label:"Промокоды"},Y(0),{disableRipple:!0})),p.createElement(j.Z,(0,d.Z)({label:"Заказы"},Y(1),{disableRipple:!0})),p.createElement(j.Z,(0,d.Z)({label:"Редактирование"},Y(2),{disableRipple:!0})))),p.createElement(X,{value:this.state.valueTab,index:0,style:{width:"100%"}},p.createElement("div",{style:{padding:12}},this.state.info.promo?p.createElement(K.Z,{mdDown:!0},p.createElement("table",{style:{width:"100%"},className:"TablePromo"},p.createElement("thead",null,p.createElement("tr",null,p.createElement("td",null,p.createElement(y.Z,{variant:"h5",component:"span"},"Промокод")),p.createElement("td",null,p.createElement(y.Z,{variant:"h5",component:"span"},"Промокод дает:")),p.createElement("td",null,p.createElement(y.Z,{variant:"h5",component:"span"},"Действует до")))),p.createElement("tbody",null,this.state.info.promo.promo.map((function(t,a){return p.createElement("tr",{key:a},p.createElement("td",null,p.createElement(y.Z,{variant:"h5",component:"span",onClick:e.activePromo.bind(e,t.info,t.promo_name)},t.promo_name)),p.createElement("td",null,p.createElement(y.Z,{variant:"h5",component:"span"},t.promo_text)),p.createElement("td",null,p.createElement(y.Z,{variant:"h5",component:"span"},t.date_end)))}))))):null,this.state.info.promo?p.createElement(K.Z,{lgUp:!0},p.createElement("table",{style:{width:"100%"},className:"TablePromoMobile"},p.createElement("tbody",null,this.state.info.promo.promo.map((function(t,a){return p.createElement("tr",{key:a},p.createElement("td",null,p.createElement("div",null,p.createElement(y.Z,{variant:"h5",component:"span"},"Промокод: "),p.createElement(y.Z,{variant:"h5",component:"span"},t.promo_name)),p.createElement("div",{style:{width:"100%",paddingTop:10}},p.createElement(y.Z,{variant:"h5",component:"span"},"Действует до: "),p.createElement(y.Z,{variant:"h5",component:"span"},t.date_end)),p.createElement("div",{style:{width:"100%",paddingTop:10,textAlign:"justify"}},p.createElement(y.Z,{variant:"h5",component:"span"},"Промокод дает: "),p.createElement(y.Z,{variant:"h5",component:"span"},t.promo_text)),p.createElement("div",{style:{width:"100%",paddingTop:10}},p.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:e.activePromo.bind(e,t.info,t.promo_name)},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",style:{width:"100%"}},"Активирывать промокод")))))}))))):null)),p.createElement(X,{value:this.state.valueTab,index:1,style:{width:"100%"}},this.state.info.orders?p.createElement("div",{className:"TableOrders"},p.createElement("div",{className:"thead"},p.createElement(y.Z,{variant:"h5",component:"span",style:{flex:2}},"№"),p.createElement(y.Z,{variant:"h5",component:"span",style:{flex:3}},"Дата"),p.createElement(y.Z,{variant:"h5",component:"span",style:{flex:1}},"Сумма"),p.createElement(y.Z,{variant:"h5",component:"span",style:{flex:1}})),p.createElement("div",{className:"tbody"},this.state.info.orders.my_orders.map((function(t,a){return p.createElement("div",{key:a,className:6==parseInt(t.status_order)||1==parseInt(t.is_delete)?"":"active",onClick:e.getOrder.bind(e,t.order_id,t.point_id)},p.createElement("div",null,p.createElement(y.Z,{variant:"h5",component:"span",style:{flex:2}},t.order_id),p.createElement(y.Z,{variant:"h5",component:"span",style:{flex:3}},t.date_time_new),p.createElement(y.Z,{variant:"h5",component:"span",className:"CardPriceItem",style:{flex:1}},t.sum," ",p.createElement($,{width:"20",viewBox:"0 0 700 300"})),p.createElement(y.Z,{variant:"h5",component:"span",style:{flex:1}},1==parseInt(t.is_delete)?p.createElement(g.Z,{style:{position:"relative",top:3}}):6==parseInt(t.status_order)?p.createElement(Z.Z,{style:{position:"relative",top:3}}):null)),6==parseInt(t.status_order)||1==parseInt(t.is_delete)?null:p.createElement("div",{className:"boxSteps"},p.createElement("div",null,p.createElement("div",{className:0==parseInt(t.steps[0].active)||2==parseInt(t.steps[0].active)?"":"active"},p.createElement(y.Z,{variant:"h5",component:"span"},t.steps[0].name)),p.createElement("div",{className:0==parseInt(t.steps[1].active)||2==parseInt(t.steps[1].active)?"":"active"},p.createElement(y.Z,{variant:"h5",component:"span"},t.steps[1].name)),p.createElement("div",{className:0==parseInt(t.steps[2].active)||2==parseInt(t.steps[2].active)?"":"active"},p.createElement(y.Z,{variant:"h5",component:"span"},t.steps[2].name)),p.createElement("div",{className:0==parseInt(t.steps[3].active)||2==parseInt(t.steps[3].active)?"":"active"},p.createElement(y.Z,{variant:"h5",component:"span"},t.steps[3].name))),0==t.time_to_client?null:p.createElement("div",null,p.createElement(y.Z,{variant:"h5",component:"span"},"Заказ ",1==parseInt(t.type_order)?"привезут через: ":"будет готов через: ",t.time_to_client))))})))):null),p.createElement(X,{value:this.state.valueTab,index:2,style:{width:"100%"}},this.state.info.user?p.createElement("div",{className:"TableInfo"},p.createElement("form",{noValidate:!0,autoComplete:"off"},p.createElement(C.Z,{label:"Имя",value:this.state.userName,className:"input",onChange:this.changeName.bind(this),onBlur:this.saveName.bind(this)}),p.createElement(C.Z,{InputProps:{readOnly:!0},label:"Номер телефона",value:this.state.info.user.login,className:"input"})),p.createElement("form",{noValidate:!0,autoComplete:"off"},""!=this.state.info.user.date_bir?p.createElement(C.Z,{label:"Дата рождения",className:"input",InputProps:{readOnly:!0},value:this.state.info.user.date_bir}):p.createElement("div",{className:"input"},p.createElement(W.Z,{className:"otherLabel"},"Дата рождения"),p.createElement(z.Z,{className:"ChangeDay"},p.createElement(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,value:this.state.changeDay,onChange:this.changeDay.bind(this),onBlur:this.saveDay.bind(this)},p.createElement(H.Z,{className:"menuItem",value:""},"День"),this.state.arr_day.map((function(e,t){return p.createElement(H.Z,{key:t,className:"menuItem",value:e},e)})))),p.createElement(z.Z,{className:"ChangeM"},p.createElement(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,value:this.state.changeM,onChange:this.changeM.bind(this),onBlur:this.saveDay.bind(this)},p.createElement(H.Z,{className:"menuItem",value:""},"Месяц"),this.state.arr_m.map((function(e,t){return p.createElement(H.Z,{key:t,className:"menuItem",value:e.value},e.name)}))))),p.createElement(C.Z,{label:"Почта",className:"input",value:this.state.userMail,onChange:this.changeMail.bind(this),onBlur:this.saveMail.bind(this)})),p.createElement(R.Z,{row:!0,className:"input checkbox"},p.createElement(A.Z,{onChange:this.changeCheck.bind(this),control:p.createElement(q.Z,{checked:1==parseInt(this.state.spam),name:"checkedC"}),label:"Получать сообщения с акциями"}))):null)),this.state.showOrder?p.createElement(b.Z,{onClose:this.closeDialog.bind(this),"aria-labelledby":"customized-dialog-title",className:"showOrderDialog",open:this.state.openDialog,fullWidth:!0},p.createElement(w.Z,{disableTypography:!0,style:{margin:0,padding:8}},p.createElement(y.Z,{variant:"h6"},"Заказ ",this.state.showOrder.order.order_id),p.createElement(f.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0,color:"#000"},onClick:this.closeDialog.bind(this)},p.createElement(g.Z,null))),p.createElement(S.Z,{className:"showOrderDialogContent"},p.createElement(y.Z,{variant:"h6",component:"span"},this.state.showOrder.order.type_order,": ",this.state.showOrder.order.type_order_addr_new),p.createElement(y.Z,{variant:"h6",component:"span"},this.state.showOrder.order.time_order_name,": ",this.state.showOrder.order.time_order),1==parseInt(this.state.showOrder.order.is_preorder)?null:p.createElement(y.Z,{variant:"h6",component:"span"},this.state.showOrder.order.text_time,this.state.showOrder.order.time_to_client),null==this.state.showOrder.order.promo_name||0==this.state.showOrder.order.promo_name.length?null:p.createElement(y.Z,{variant:"h6",component:"span"},"Промокод: ",this.state.showOrder.order.promo_name),null==this.state.showOrder.order.promo_name||0==this.state.showOrder.order.promo_name.length?null:p.createElement(y.Z,{variant:"h6",component:"span",className:"noSpace"},this.state.showOrder.order.promo_text),p.createElement(y.Z,{variant:"h5",component:"span",className:"CardPriceItem"},"Сумма закза: ",this.state.showOrder.order.sum_order," ",p.createElement($,{width:"20",viewBox:"0 0 700 300"})),p.createElement("table",{className:"tableOrderCheck"},p.createElement("tbody",null,this.state.showOrder.order_items.map((function(e,t){return p.createElement("tr",{key:t},p.createElement("td",null,p.createElement(y.Z,{variant:"h5",component:"span"},e.name)),p.createElement("td",null,p.createElement(y.Z,{variant:"h5",component:"span"},e.count)))}))))),0==parseInt(this.state.showOrder.order.is_delete)&&6!==parseInt(this.state.showOrder.order.status_order)?p.createElement(O.Z,{style:{justifyContent:"flex-end",padding:"15px 0px"}},p.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.closeOrder.bind(this,this.state.showOrder.order.order_id,this.state.showOrder.order.point_id)},"Отменить заказ"))):null,1==parseInt(this.state.showOrder.order.is_delete)||6==parseInt(this.state.showOrder.order.status_order)?p.createElement(O.Z,{style:{justifyContent:"flex-end",padding:"15px 0px"}},p.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.repeatOrder.bind(this,this.state.showOrder.order.order_id,this.state.showOrder.order.point_id)},"Повторить заказ"))):null):null,p.createElement(b.Z,{open:this.state.delOrder,onClose:function(){e.setState({delOrder:!1})},"aria-labelledby":"form-dialog-title"},p.createElement(w.Z,{id:"form-dialog-title"},"Отмена заказа"),p.createElement(S.Z,null,p.createElement(F.Z,null,"Нам очень жаль, что вы приняли решение отменить заказ. Возможно, мы сделали что-то не так, помогите нам стать лучше, поделитесь причиной отказа:"),p.createElement(f.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0,color:"#000"},onClick:function(){e.setState({delOrder:!1})}},p.createElement(g.Z,null)),p.createElement(z.Z,{component:"fieldset"},p.createElement(V.Z,{name:"typeDel",value:this.state.typeDel,onChange:this.changeAddr},this.state.radiogroup_options.map((function(e,t){return p.createElement(A.Z,{key:t,value:e.id,control:p.createElement(L.Z,null),label:e.label})})))),p.createElement(C.Z,{onFocus:function(){e.setState({typeDel:"4"})},value:this.state.textDel,onChange:function(t){e.setState({textDel:t.target.value})},margin:"dense",id:"name",label:"Причина отмены",type:"text",fullWidth:!0})),p.createElement(O.Z,{style:{paddingBottom:24}},p.createElement(K.Z,{xsDown:!0},p.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:function(){e.setState({delOrder:!1})}},"К заказу"))),p.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.closeOrderTrue.bind(this)},"Отменить заказ")))))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,t.split("/")[1]),page:"profile"};return k()({method:"POST",url:"https://jacofood.ru/src/php/test_app.php",headers:{"content-type":"application/x-www-form-urlencoded"},data:Q.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page}}})).catch((function(e){console.log(e)}))}}]),T}(p.Component)}}]);
//# sourceMappingURL=858.eff029c53bd082f62706.js.map