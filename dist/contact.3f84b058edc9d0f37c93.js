(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[631],{6068:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Contact:()=>x});var a=n(6610),o=n(5991),i=n(3349),c=n(379),r=n(6070),s=n(7608),l=n(6156),p=n(8481),m=n(7294),d=n(1749),u=n(2318),h=n(7708),f=n(1201),v=n(743),y=n(4566),g=n(6282),E=n(4593),_=n(9669),Z=n.n(_);var b=n(7563);function C(e){var t=m.useState(!1),n=(0,p.Z)(t,2),a=n[0],o=n[1],i=e.points;return m.createElement("div",{className:"Accordion"},i.map((function(e,t){return m.createElement(h.Z,{key:t,expanded:a==="panel"+t,onChange:(n="panel"+t,function(e,t){o(!!t&&n)})},m.createElement(v.Z,{expandIcon:m.createElement(y.Z,null),"aria-controls":"panel"+t+"bh-content",id:"panel"+t+"bh-header"},m.createElement(u.Z,{variant:"h5",component:"span"},e.raion,": ",e.addr)),m.createElement(f.Z,{className:"AccordionDesc",style:{flexDirection:"column",padding:0}},m.createElement("div",null,m.createElement(u.Z,{variant:"h5",component:"b"},"Название организации: "),m.createElement(u.Z,{variant:"h5",component:"span"},e.organization)),m.createElement("div",null,m.createElement(u.Z,{variant:"h5",component:"b"},"ИНН / КПП: "),m.createElement(u.Z,{variant:"h5",component:"span"},e.inn," / ",e.kpp)),m.createElement("div",null,m.createElement(u.Z,{variant:"h5",component:"b"},"ОГРН: "),m.createElement(u.Z,{variant:"h5",component:"span"},e.ogrn)),m.createElement("div",null,m.createElement(u.Z,{variant:"h5",component:"b"},"Фактический адрес: "),m.createElement(u.Z,{variant:"h5",component:"span"},e.full_addr)),m.createElement("div",null,m.createElement(u.Z,{variant:"h5",component:"b"},"Телефон: "),m.createElement(u.Z,{variant:"h5",component:"span"},e.phone))));var n})))}var x=function(e){(0,c.Z)(h,e);var t,n,p=(t=h,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,s.Z)(t);if(n){var o=(0,s.Z)(this).constructor;e=Reflect.construct(a,arguments,o)}else e=a.apply(this,arguments);return(0,r.Z)(this,e)});function h(e){var t;return(0,a.Z)(this,h),t=p.call(this,e),(0,l.Z)((0,i.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),g.Z.setPage("contact"),t.dynamicallyLoadScript(),h.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),fetch("https://jacofood.ru/src/php/test_app.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:b.stringify({type:"get_addr_zone_web",city_id:t.state.city_name})}).then((function(e){return e.json()})).then((function(e){var n=[];e.map((function(e){e.zone_origin.length>0&&n.push(JSON.parse(e.zone_origin))}));var a=[],o=!1;e.map((function(e){o=!1,a.map((function(t){parseInt(t.id)==parseInt(e.id)&&(o=!0)})),o||a.push(e)})),t.setState({points:e,unic_point:a,is_load:!0}),setTimeout((function(){t.loadMap(e,n)}),500)})).catch((function(e){}))})),t.state={points:[],unic_point:[],title:"",description:"",city_name:e.match.params.cityName,is_load:!1},g.Z.setCity(e.match.params.cityName),t}return(0,o.Z)(h,[{key:"dynamicallyLoadScript",value:function(){var e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?apikey=ae2bad1f-486e-442b-a9f7-d84fff6296db&lang=ru_RU",document.head.appendChild(e)}},{key:"loadMap",value:function(e,t){var n;ymaps.ready((function(){n=new ymaps.Map("ForMap",{center:[e[0].xy_center_map.latitude,e[0].xy_center_map.longitude],zoom:10.8});var a=ymaps.templateLayoutFactory.createClass("<div class='my-hint'><b>{{ properties.address }}</b><br />График работы: c 10:00 до 21:30</div>");t.map((function(t,o){n.geoObjects.add(new ymaps.Polygon([t],{address:e[o].addr},{hintLayout:a,fillColor:"rgba(187, 0, 37, 0)",strokeColor:"rgb(187, 0, 37)",strokeWidth:5}))})),e.map((function(e){n.geoObjects.add(new ymaps.Placemark([e.xy_point.latitude,e.xy_point.longitude],{address:e.addr},{hintLayout:a,iconLayout:"default#image",iconImageHref:"/assets/img_other/Favikon.png",iconImageSize:[30,30],iconImageOffset:[-12,-24],iconContentOffset:[15,15]}))}))}))}},{key:"render",value:function(){return m.createElement(d.Z,{container:!0,className:"Contact mainContainer MuiGrid-spacing-xs-3"},m.createElement(E.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.Z,{item:!0,xs:12},m.createElement(u.Z,{variant:"h5",component:"h1"},"Контакты")),m.createElement(d.Z,{item:!0,lg:4,md:4,xl:4,sm:12,xs:12,className:"mainContainer"},this.state.points[0]?m.createElement(u.Z,{variant:"h5",component:"span",className:"p20"},"Стоимость доставки: ",this.state.points[0].sum_div," руб."):null,m.createElement(u.Z,{variant:"h5",component:"h2"},"Режим работы"),m.createElement(u.Z,{variant:"h5",component:"span",className:"p20"},"Работаем ежедневно с 10:00 до 21:30"),m.createElement(u.Z,{variant:"h5",component:"h2"},"Телефон контакт-центра:"),this.state.points[0]?m.createElement(u.Z,{variant:"h5",component:"a",className:"p20",href:"tel:"+this.state.points[0].phone_new},this.state.points[0].phone):null,m.createElement(u.Z,{variant:"h5",component:"h2"},"Адреса кафе:"),m.createElement(C,{points:this.state.unic_point})),m.createElement(d.Z,{item:!0,lg:8,md:8,xl:8,sm:12,xs:12,id:"ForMap"},m.createElement("div",{style:{width:"100%",height:"100%",marginRight:12,backgroundColor:"#e5e5e5"}})))}}],[{key:"fetchData",value:function(e){var t,n={type:"get_page_info",city_id:(t=e,t.split("/")[1]),page:"contacts"};return Z()({method:"POST",url:"https://jacofood.ru/src/php/test_app.php",headers:{"content-type":"application/x-www-form-urlencoded"},data:b.stringify(n)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page}}})).catch((function(e){console.log(e)}))}}]),h}(m.Component)}}]);
//# sourceMappingURL=contact.3f84b058edc9d0f37c93.js.map