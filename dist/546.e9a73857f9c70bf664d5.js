(self.webpackChunkreact_ssr=self.webpackChunkreact_ssr||[]).push([[546],{6546:(t,e,n)=>{"use strict";n.r(e),n.d(e,{PageAbout:()=>v});var a=n(6610),c=n(5991),i=n(3349),r=n(379),o=n(6070),s=n(7608),l=n(6156),u=n(7294),p=n(1749),m=n(2318),h=n(6282),f=n(4593),d=n(9669),g=n.n(d);var y=n(7563),v=function(t){(0,r.Z)(v,t);var e,n,d=(e=v,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,a=(0,s.Z)(e);if(n){var c=(0,s.Z)(this).constructor;t=Reflect.construct(a,arguments,c)}else t=a.apply(this,arguments);return(0,o.Z)(this,t)});function v(t){var e;return(0,a.Z)(this,v),e=d.call(this,t),(0,l.Z)((0,i.Z)(e),"_isMounted",!1),e.state={is_load:!1,city_name:t.match.params.cityName,title:"",description:"",page:null},h.Z.setCity(t.match.params.cityName),e}return(0,c.Z)(v,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var t=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageAbout"),v.fetchData("/"+this.state.city_name).then((function(e){e.page.content=e.page.content.replace(/<a href=\"\//g,'<a href="/'+t.state.city_name+"/"),t.setState({title:e.page.title,description:e.page.description,page:e.page})}))}},{key:"render",value:function(){return u.createElement(u.Fragment,null,u.createElement(f.q,null,u.createElement("title",null,this.state.title),u.createElement("meta",{name:"description",content:this.state.description})),u.createElement(p.Z,{container:!0,className:"PAGEabout mainContainer"},u.createElement(p.Z,{item:!0,xs:12,style:{paddingBottom:15}},u.createElement(m.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?u.createElement(p.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(t){var e,n={type:"get_page_info",city_id:(e=t,e.split("/")[1]),page:"about"};return g()({method:"POST",url:"https://jacofood.ru/src/php/test_app.php",headers:{"content-type":"application/x-www-form-urlencoded"},data:y.stringify(n)}).then((function(t){if(200===t.status){var e=t.data;return{title:e.page.title,description:e.page.description,page:e.page}}})).catch((function(t){console.log(t)}))}}]),v}(u.Component)}}]);
//# sourceMappingURL=546.e9a73857f9c70bf664d5.js.map