(self.webpackChunkreact_ssr=self.webpackChunkreact_ssr||[]).push([[179],{5152:(e,t,a)=>{var n=a(7227).Home,i=a(7227).HomeCat,s=a(7660).Item,r=a(6068).Contact,o=a(7173).Actii,l=a(3858).Profile,c=a(1072).Cart,m=a(6546).PageAbout,d=a(8716).PageJob,p=a(3407).PageInstPay,h=a(4025).PageOferta,u=a(2815).PagePolitika;e.exports=[{path:"/:cityName",exact:!0,component:n,type:"home",code:200},{path:"/:cityName/home",exact:!0,component:n,type:"home",code:200},{path:"/:cityName/menu",exact:!0,component:n,type:"home",code:200},{path:"/:cityName/contacts",exact:!0,component:r,type:"",code:200},{path:"/:cityName/akcii/:act_id",exact:!0,component:o,type:"",code:200},{path:"/:cityName/akcii",exact:!0,component:o,type:"",code:200},{path:"/:cityName/menu/:itemLink",exact:!0,component:i,type:"home",code:200},{path:"/:cityName/item/:itemLink",exact:!0,component:s,type:"item",code:200},{path:"/:cityName/menu/:catLink/:itemId",exact:!0,component:s,type:"item",code:200},{path:"/",exact:!0,component:n,type:"",code:200},{path:"/:cityName/profile",exact:!0,component:l,type:"",code:200},{path:"/:cityName/cart",exact:!0,component:c,type:"",code:200},{path:"/:cityName/about",exact:!0,component:m,type:"",code:200},{path:"/:cityName/jobs",exact:!0,component:d,type:"",code:200},{path:"/:cityName/instpayorders",exact:!0,component:p,type:"",code:200},{path:"/:cityName/publichnaya-oferta",exact:!0,component:h,type:"",code:200},{path:"/:cityName/politika-konfidencialnosti",exact:!0,component:u,type:"",code:200},{path:"/sitemap.xml",exact:!0,type:"other",code:200},{path:"*",component:n,type:"home",code:404}]},7173:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Actii:()=>N});var n=a(5671),i=a(3144),s=a(7326),r=a(136),o=a(6215),l=a(1120),c=a(4942),m=a(7294),d=a(30),p=a(1822),h=a(986),u=a(130),g=a(1647),y=a(982),f=a(9417),_=a(8653),v=a(2962),E=a(4498),x=a(7745),w=a(2019),b=a(9669),Z=a.n(b),I=a(4593),S=a(6282),C=a(8811),k=a.n(C);var P=a(7563),N=function(e){(0,r.Z)(C,e);var t,a,b=(t=C,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function C(e){var t;return(0,n.Z)(this,C),t=b.call(this,e),(0,c.Z)((0,s.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),S.Z.setPage("actii"),C.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),fetch(k().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:P.stringify({type:"get_my_actii_web",city_id:t.state.city_name})}).then((function(e){return e.json()})).then((function(e){t.setState({actii:e.actii,is_load:!0}),setTimeout((function(){var a=window.location.search;if(a.length>0&&a.indexOf("act_")>0){var n=a.split("act_")[1],i=e.actii.find((function(e){return e.id==n}));t.openDialog(i)}}),300)})).catch((function(e){}))})),t.state={actii:[],pre_actii:[1,2,3,4],is_load:!1,showItem:null,openDialog:!1,title:"",description:"",city_name:t.props.city,page:t.props.data?t.props.data.page:null,openMSG:!1,statusMSG:!1,textMSG:""},S.Z.setCity(t.props.city),t}return(0,i.Z)(C,[{key:"closeDialog",value:function(){var e=window.location.pathname;window.history.pushState({},"",e),this.setState({showItem:null,openDialog:!1})}},{key:"openDialog",value:function(e){var t=S.Z.getAllItems();e.items.map((function(a,n){e.items[n].item=t.find((function(e){return e.id==a.item_id}))}));var a=window.location.pathname+"?act_"+e.id;window.history.pushState({},"",a),this.setState({showItem:e,openDialog:!0})}},{key:"closeAlert",value:function(){this.setState({openMSG:!1})}},{key:"activePromo",value:function(e,t){var a=this;S.Z.setPromo(JSON.stringify(e),t);var n=S.Z.checkPromo();setTimeout((function(){n.st?a.setState({openMSG:!0,statusMSG:!0,textMSG:"Промокод применен"}):a.setState({openMSG:!0,statusMSG:!1,textMSG:n.text})}),300)}},{key:"render",value:function(){var e=this;return m.createElement(d.ZP,{container:!0,className:"Actii mainContainer MuiGrid-spacing-xs-3"},m.createElement(I.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(w.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.openMSG,autoHideDuration:3e3,onClose:this.closeAlert.bind(this),message:this.state.textMSG,style:{backgroundColor:this.state.statusMSG?"green":"#BB0025",borderRadius:4}}),m.createElement(d.ZP,{item:!0,xs:12},m.createElement(g.Z,{variant:"h5",component:"h1"},"Акции")),m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer"},!1===this.state.is_load?this.state.pre_actii.map((function(e,t){return m.createElement(d.ZP,{item:!0,xs:12,sm:6,md:3,xl:3,key:t,style:{padding:12}},m.createElement("div",{style:{width:"100%",height:300,backgroundColor:"#e5e5e5"}}))})):this.state.actii.map((function(t,a){return m.createElement(d.ZP,{item:!0,xs:12,sm:6,md:4,xl:3,key:a},m.createElement("picture",null,m.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-aktii/"+t.img_new+"750х750.webp?"+t.img_new_update,type:"image/webp"}),m.createElement("img",{src:"https://storage.yandexcloud.net/site-aktii/"+t.img_new+"750х750.jpg?"+t.img_new_update,alt:t.promo_title,title:t.promo_title,style:{width:"100%"},onClick:e.openDialog.bind(e,t)})))}))),(this.state.page&&this.state.page.content,null),(this.state.page&&this.state.page.content,null),this.state.showItem?m.createElement(_.Z,{onClose:this.closeDialog.bind(this),"aria-labelledby":"customized-dialog-title",className:"modalActii",open:this.state.openDialog},m.createElement(x.Z,{disableTypography:!0,style:{margin:0,padding:8}},m.createElement(g.Z,{variant:"h6",component:"span"},this.state.showItem.promo_title),m.createElement(u.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0},onClick:this.closeDialog.bind(this)},m.createElement(y.G,{icon:f.NBC,style:{fontSize:"1.8rem",color:"#e5e5e5"}}))),m.createElement(E.Z,{className:"modalActiiContent"},m.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.showItem.text}})),this.state.showItem.promo.length>0?m.createElement(v.Z,{style:{justifyContent:"center",padding:"15px 0px"}},m.createElement(h.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",onClick:this.activePromo.bind(this,this.state.showItem.info,this.state.showItem.promo)},m.createElement(p.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Применить промокод"))):null):null)}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"akcii"};return Z()({method:"POST",url:k().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:P.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),C}(m.Component)},1072:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Cart:()=>we});var n=a(5671),i=a(3144),s=a(7326),r=a(136),o=a(6215),l=a(1120),c=a(4942),m=a(7462),d=a(5987),p=a(7294),h=a(3727),u=a(30),g=a(1822),y=a(986),f=a(130),_=a(1647),v=a(982),E=a(9417),x=a(5722),w=a(988),b=a(4373),Z=a(3892),I=a(5705),S=a(5884),C=a(8653),k=a(7745),P=a(4498),N=a(2962),T=a(4439),A=a(3421),D=a(5697),M=a.n(D),O=a(5293),B=a(214),R=a(4917),j=a(8984),L=a(4347),z=a(3646),W=a(8900),F=a(7961),H=a(8573),G=a(5901),U=a(5036),q=a(1702),K=a(399),J=a(1470),V=a(8037),Y=a(7888),X=a(7546),Q=a(8727),$=a(808),ee=a(231),te=a(6866),ae=a(841),ne=a(6282),ie=a(8811),se=a.n(ie),re=a(8949),oe=a(4593),le=a(9669),ce=a.n(le),me=a(5503),de=a(4465),pe=["children","value","index"];function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,o.Z)(this,a)}}var ue=a(7563),ge=null;function ye(e){return(e=(e=e.split("/")).filter((function(e){return""!=e})))[0]}function fe(e){return p.createElement("svg",{width:e.width?e.width:50,height:"20",viewBox:e.viewBox?e.viewBox:"0 0 1400 200",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",null,p.createElement("path",{id:"svg_1",d:"m219.27,252.76c63.98,-2.85 99.22,-39.48 99.22,-103.13c0,-37.42 -12.62,-65.49 -37.52,-83.44c-22.29,-16.07 -48.63,-19.21 -62.35,-19.65c-28.61,-0.92 -107.02,-0.04 -110.34,0c-5.75,0.07 -10.38,4.75 -10.38,10.5l0,174.95c-9.23,-0.11 -15.07,-0.2 -15.31,-0.21c-0.06,0 -0.11,0 -0.17,0c-5.72,0 -10.41,4.59 -10.5,10.34c-0.09,5.8 4.54,10.57 10.34,10.66c0.95,0.01 6.78,0.1 15.64,0.21l0,26.12l-15.48,0c-5.8,0 -10.5,4.7 -10.5,10.5s4.7,10.5 10.5,10.5l15.48,0l0,74.89c0,5.8 4.7,10.5 10.5,10.5s10.5,-4.7 10.5,-10.5l0,-74.9l109.39,0c5.8,0 10.5,-4.7 10.5,-10.5s-4.7,-10.5 -10.5,-10.5l-109.39,0l0,-25.88c32.67,0.31 78.53,0.51 100.37,-0.46zm-100.37,-185.33c22.81,-0.21 76.99,-0.61 99.05,0.1c23.92,0.77 79.55,10.31 79.55,82.1c0,52.17 -26.63,79.82 -79.16,82.16c-21.17,0.94 -66.91,0.74 -99.44,0.43l0,-164.79z"})))}function _e(e){var t=e.children,a=e.value,n=e.index,i=(0,d.Z)(e,pe);return p.createElement("div",(0,m.Z)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&p.createElement("div",null,t))}function ve(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}_e.propTypes={children:M().node,index:M().any.isRequired,value:M().any.isRequired};var Ee=function(e){(0,r.Z)(a,e);var t=he(a);function a(e){var i;return(0,n.Z)(this,a),i=t.call(this,e),(0,c.Z)((0,s.Z)(i),"_isMounted",!1),(0,c.Z)((0,s.Z)(i),"firebaseAnalitic",null),i.firebaseAnalitic=i.props.firebaseAnalitic,i.state={item:i.props.item,type:i.props.type,count:0,onePrice:0,new_onePrice:-1,allPrice:0},i}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=ne.Z.getItems(),a=(ne.Z.getItemsPromo(),t.find((function(t){return t.item_id==e.state.item.id})));a&&this.setState({count:a.count,onePrice:a.one_price,allPrice:a.all_price}),(0,re.EH)((function(){if(!0===e._isMounted){var t=ne.Z.getItems(),a=ne.Z.getItemsPromo();if(a&&a.length>0){var n=a.find((function(t){return t.item_id==e.state.item.id}));n&&e.setState({count:n.count,onePrice:n.one_price,allPrice:n.all_price})}var i=t.find((function(t){return t.item_id==e.state.item.id}));i||(i=a.find((function(t){return t.item_id==e.state.item.id}))),"promo"!=e.state.type&&(i?e.setState({count:i.count,onePrice:i.one_price,allPrice:i.all_price,new_onePrice:i.new_one_price?i.new_one_price:-1}):e.setState({count:0,onePrice:0,allPrice:0,new_onePrice:-1}))}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(e){(0,de.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:e,items:[{name:this.state.item.name}]}),ne.Z.AddItem(e)}},{key:"minus",value:function(e){(0,de.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:e,items:[{name:this.state.item.name}]}),ne.Z.MinusItem(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.count!==t.count||this.state.onePrice!==t.onePrice||this.state.allPrice!==t.allPrice||this.state.item.name!==e.item.name}},{key:"render",value:function(){return parseInt(this.state.count)>0||7==parseInt(this.state.item.cat_id)?p.createElement("tr",null,p.createElement("td",{style:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative"}},this.state.item.img_app.length>0?p.createElement("picture",null,p.createElement("source",{type:"image/webp",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(this.state.item.img_app,"_138x138.webp 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_146x146.webp 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_183x183.webp 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_233x233.webp 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_292x292.webp 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_366x366.webp 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_584x584.webp 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_760x760.webp 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("source",{type:"image/jpeg",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(this.state.item.img_app,"_138x138.jpg 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_146x146.jpg 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_183x183.jpg 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_233x233.jpg 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_292x292.jpg 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_366x366.jpg 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_584x584.jpg 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_760x760.jpg 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{alt:this.state.item.name,title:this.state.item.name,src:"https://storage.yandexcloud.net/site-img/".concat(this.state.item.img_app,"_138x138.jpg"),loading:"lazy"})):p.createElement("picture",null,p.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img+"300х200.webp?"+this.state.item.imgUpdate,type:"image/webp"}),p.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img+"300х200.jpg?"+this.state.item.imgUpdate,alt:this.state.item.name,title:this.state.item.name,loading:"lazy"})),"promo"==this.state.type?p.createElement(v.G,{icon:E.Cly,className:"promoIcon"}):null,p.createElement("div",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"nameItem"},this.state.item.name),p.createElement(_.Z,{variant:"h5",component:"span",className:"descItem"},"dop"==this.state.type?"":this.state.item.desc))),p.createElement("td",null,"promo"!=this.state.type?p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count"},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain",onClick:this.minus.bind(this,this.state.item.id)},p.createElement(v.G,{icon:E.Kl4,style:{fontSize:"1rem"}})),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain _COUNT_"},p.createElement(_.Z,{component:"span",className:"CardCountItem"},this.state.count)),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain",onClick:this.add.bind(this,this.state.item.id)},p.createElement(v.G,{icon:E.r8p,style:{fontSize:"1rem"}}))):p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count promo"},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},p.createElement(v.G,{icon:E.Kl4,style:{fontSize:"1rem"}})),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},this.state.count),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},p.createElement(v.G,{icon:E.r8p,style:{fontSize:"1rem"}})))),p.createElement("td",null,-1!=this.state.new_onePrice?p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePriceOld"},parseInt(this.state.count)*parseInt(this.state.onePrice)):null,p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePrice"},this.state.allPrice," ",p.createElement(fe,{width:"20",viewBox:"0 20 500 200"})))):null}}]),a}(p.Component),xe=function(e){(0,r.Z)(a,e);var t=he(a);function a(e){var i;return(0,n.Z)(this,a),i=t.call(this,e),(0,c.Z)((0,s.Z)(i),"_isMounted",!1),(0,c.Z)((0,s.Z)(i),"firebaseAnalitic",null),i.firebaseAnalitic=i.props.firebaseAnalitic,i.state={item:i.props.item,type:i.props.type,count:0,onePrice:0,allPrice:0,new_onePrice:-1},i}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=ne.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));t&&this.setState({count:t.count,onePrice:t.one_price,allPrice:t.all_price}),(0,re.EH)((function(){if(!0===e._isMounted){var t=ne.Z.getItems(),a=ne.Z.getItemsPromo();if(a&&a.length>0){var n=a.find((function(t){return t.item_id==e.state.item.id}));n&&e.setState({count:n.count,onePrice:n.one_price,allPrice:n.all_price})}var i=t.find((function(t){return t.item_id==e.state.item.id}));i||(i=a.find((function(t){return t.item_id==e.state.item.id}))),"promo"!=e.state.type&&(i?e.setState({count:i.count,onePrice:i.one_price,allPrice:i.all_price,new_onePrice:i.new_one_price?i.new_one_price:-1}):e.setState({count:0,onePrice:0,allPrice:0,new_onePrice:-1}))}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(e){(0,de.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:e,items:[{name:this.state.item.name}]}),ne.Z.AddItem(e)}},{key:"minus",value:function(e){(0,de.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:e,items:[{name:this.state.item.name}]}),ne.Z.MinusItem(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.count!==t.count||this.state.onePrice!==t.onePrice||this.state.allPrice!==t.allPrice||this.state.item.name!==e.item.name}},{key:"render",value:function(){return this.state.count>0||7==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)?p.createElement("div",{className:"boxItem"},this.state.item.img_app.length>0?p.createElement("picture",{style:{width:"40%"}},p.createElement("source",{type:"image/webp",srcset:"\n                                    https://storage.yandexcloud.net/site-img/".concat(this.state.item.img_app,"_138x138.webp 138w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_146x146.webp 146w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_183x183.webp 183w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_233x233.webp 233w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_292x292.webp 292w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_366x366.webp 366w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_584x584.webp 584w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_760x760.webp 760w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("source",{type:"image/jpeg",srcset:"\n                                    https://storage.yandexcloud.net/site-img/".concat(this.state.item.img_app,"_138x138.jpg 138w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_146x146.jpg 146w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_183x183.jpg 183w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_233x233.jpg 233w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_292x292.jpg 292w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_366x366.jpg 366w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_584x584.jpg 584w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_760x760.jpg 760w,\n                                    https://storage.yandexcloud.net/site-img/").concat(this.state.item.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{alt:this.state.item.name,title:this.state.item.name,src:"https://storage.yandexcloud.net/site-img/".concat(this.state.item.img_app,"_466x466.jpg"),loading:"lazy"})):p.createElement("picture",{style:{width:"40%"}},p.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img+"300х200.webp?"+this.state.item.imgUpdate,type:"image/webp"}),p.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img+"300х200.jpg?"+this.state.item.imgUpdate,alt:this.state.item.name,title:this.state.item.name,loading:"lazy"})),"promo"==this.state.type?p.createElement(v.G,{icon:E.Cly,className:"promoIcon"}):null,p.createElement("div",{style:{width:"60%"}},p.createElement(_.Z,{variant:"h5",component:"span"},this.state.item.name),p.createElement("div",null,"promo"!=this.state.type?p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count"},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain",onClick:this.minus.bind(this,this.state.item.id)},p.createElement(v.G,{icon:E.Kl4,style:{fontSize:"1rem"}})),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain _COUNT_"},p.createElement(_.Z,{component:"span",className:"CardCountItem"},this.state.count)),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain",onClick:this.add.bind(this,this.state.item.id)},p.createElement(v.G,{icon:E.r8p,style:{fontSize:"1rem"}}))):p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count promo"},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},p.createElement(v.G,{icon:E.Kl4,style:{fontSize:"1rem"}})),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain _COUNT_"},p.createElement(_.Z,{component:"span",className:"CardCountItem"},this.state.count)),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},p.createElement(v.G,{icon:E.r8p,style:{fontSize:"1rem"}}))),-1!=this.state.new_onePrice?p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePriceOld"},parseInt(this.state.count)*parseInt(this.state.onePrice)):null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice"},this.state.allPrice," ",p.createElement(fe,{width:"20",viewBox:"10 0 600 200"}))))):null}}]),a}(p.Component),we=function(e){(0,r.Z)(a,e);var t=he(a);function a(e){var i;return(0,n.Z)(this,a),i=t.call(this,e),(0,c.Z)((0,s.Z)(i),"_isMounted",!1),(0,c.Z)((0,s.Z)(i),"clickOrderStart",!1),(0,c.Z)((0,s.Z)(i),"startOrderInterval",90),(0,c.Z)((0,s.Z)(i),"startOrderIntervalTimer",null),(0,c.Z)((0,s.Z)(i),"firebaseAnalitic",null),(0,c.Z)((0,s.Z)(i),"componentDidMount",(function(){i._isMounted=!0,ge=(0,me.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),i.firebaseAnalitic=(0,de.IH)(ge);try{document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),ne.Z.setPage("cart"),setTimeout((function(){ne.Z.getToken()||"undefined"!=typeof window&&(window.location.pathname="/"+i.state.city_name)}),300),i.loadData(),a.fetchData("/"+i.state.city_name).then((function(e){i.setState({title:e.page.title,description:e.page.description})}));var e=ne.Z.getItems(),t=ne.Z.getAllItems(),n=(ne.Z.getItemsPromo(),[]);if(e.length>0&&t.length>0){e.map((function(e){var a=t.find((function(t){return t.id==e.item_id}));a&&n.push({id:e.item_id,cat_id:a.cat_id,name:e.name,desc:a.tmp_desc,count:e.count,allPrice:e.all_price,img:a.img_new,img_app:a.img_app,imgUpdate:a.img_new_update})}));var s=n.filter((function(e){return 7!==parseInt(e.cat_id)})),r=n.filter((function(e){return 7==parseInt(e.cat_id)})),o=ne.Z.check_need_dops();i.setState({cartItems_main:s,cartItems_dop:r,cartItems_need_dop:o,sumDiv:ne.Z.getSumDiv(),allPrice:ne.Z.getAllPrice()})}(0,re.EH)((function(){if(!0===i._isMounted){var e=ne.Z.getItems(),t=ne.Z.getAllItems(),a=ne.Z.check_need_dops(),n=ne.Z.getItemsPromo(),s=[],r=[];e.map((function(e){var a=t.find((function(t){return t.id==e.item_id}));a&&s.push({id:e.item_id,cat_id:a.cat_id,name:e.name,desc:a.tmp_desc,count:e.count,allPrice:e.all_price,img:a.img_new,img_app:a.img_app,imgUpdate:a.img_new_update})}));var o=s.filter((function(e){return 7!==parseInt(e.cat_id)})),l=(s.filter((function(e){return 7==parseInt(e.cat_id)})),[]);a.map((function(e){var a=s.find((function(t){return parseInt(t.id)==parseInt(e.id)})),n=t.find((function(t){return parseInt(t.id)==parseInt(e.id)}));a?l.push({id:e.id,cat_id:e.cat_id,name:e.name,desc:e.tmp_desc,count:a.count,allPrice:a.allPrice,img:n.img_new,img_app:n.img_app,imgUpdate:n.img_new_update}):l.push({id:e.id,cat_id:e.cat_id,name:e.name,desc:e.tmp_desc,count:0,allPrice:0,img:n.img_new,img_app:n.img_app,imgUpdate:n.img_new_update})})),n.map((function(e){var a=t.find((function(t){return t.id==e.item_id}));a&&r.push({id:e.item_id,cat_id:a.cat_id,name:a.name,desc:a.tmp_desc,count:e.count,allPrice:e.all_price,img:a.img_new,img_app:a.img_app,imgUpdate:a.img_new_update})})),i.setState({cartItems_dop:[]}),i.setState({cartItems_dop:l}),i.setState({cartItems_main:o,cartItems_need_dop:a,cartItems_promo:r,sumDiv:ne.Z.getSumDiv(),allPrice:ne.Z.getAllPrice()})}}))}catch(e){console.log(e),i.setState({hasError:!0}),fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"save_log_err",page:"cart",error:JSON.stringify(e),info:""})}).then((function(e){return e.json()})).then((function(e){}))}})),(0,c.Z)((0,s.Z)(i),"changeTab",(function(e,t){i.setState({orderType:t});var a=i.state.orderAddr;if(0==t){var n=ne.Z.getAllPrice();a?1==parseInt(a.free_drive)||1==parseInt(ne.Z.free_drive)?parseInt(n)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(a.sum_div)):ne.Z.setSumDiv(0)}else ne.Z.setSumDiv(0),setTimeout((function(){i.state.pic_point.length>0&&i.choosePic(i.state.orderPic)}),300);i.state.orderTimes,0==t?(i.setState({renderPay:i.state.pays.dev}),""==i.state.orderPay||"in"==i.state.orderPay||i.state.orderPay):i.setState({renderPay:i.state.pays.pic}),i.setState({}),i.saveData()})),(0,c.Z)((0,s.Z)(i),"changeAddr",(function(e){var t=i.state.my_addr.find((function(t){return t.id==e.target.value})),a=ne.Z.getAllPrice();0==parseInt(t.check_dom_true)&&i.setState({CheckDomTrue:!0}),1==parseInt(t.free_drive)||1==parseInt(ne.Z.free_drive)?parseInt(a)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(t.sum_div)),0==i.state.orderType?i.setState({renderPay:i.state.pays.dev}):i.setState({renderPay:i.state.pays.pic}),i.setState({orderAddr:t,chooseAddr:!1,newAddrInfo:null,newAddrPD:"",newAddrET:"",newAddrKV:""}),i.saveData()})),(0,c.Z)((0,s.Z)(i),"changeComment",(function(e){e.target.value.length<=50&&i.setState({orderComment:e.target.value}),i.saveData()})),(0,c.Z)((0,s.Z)(i),"changePay",(function(e){i.setState({orderPay:e.target.value}),i.saveData()})),(0,c.Z)((0,s.Z)(i),"changeTimes",(function(e){var t=e.target.value;0==i.state.orderType?(i.setState({renderPay:i.state.pays.dev}),""==i.state.orderPay||"in"==i.state.orderPay||i.state.orderPay):i.setState({renderPay:i.state.pays.pic}),i.setState({orderTimes:t}),i.loadTimePred(),i.saveData()})),(0,c.Z)((0,s.Z)(i),"changeSdacha",(function(e){i.setState({orderSdacha:e.target.value}),i.saveData()})),(0,c.Z)((0,s.Z)(i),"changePredDay",(function(e){0!==e.target.value?(i.setState({orderPredDay:e.target.value,orderTimes:"2"}),0==i.state.orderType?i.setState({renderPay:i.state.pays.dev}):i.setState({renderPay:i.state.pays.pic}),setTimeout((function(){i.loadTimePred()}),300)):(i.setState({orderPredDay:0,orderTimes:"1"}),0==i.state.orderType?i.setState({renderPay:i.state.pays.dev}):i.setState({renderPay:i.state.pays.pic})),i.saveData()})),(0,c.Z)((0,s.Z)(i),"changePredTime",(function(e){i.setState({orderPredTime:e.target.value}),i.saveData()})),(0,c.Z)((0,s.Z)(i),"enterPromoMobile",(function(e){"Enter"===e.key&&document.querySelector("#PromoMobile")&&document.querySelector("#PromoMobile").blur()})),i.state={hasError:!1,is_load:!1,city_name:i.props.city,page:i.props.data?i.props.data.page:null,spiner:!1,title:"",description:"",orderCheckDopTea:!1,chooseAddr:!1,choosePicDialog:!1,chooseTimeDialog:!1,choosePayDialog:!1,chooseNewAddr:!1,orderCheckDop:!1,sumDiv:0,allPrice:0,pic_point:[],my_addr:[],all_addr:[],date_pred:[],picPointInfo:null,pays:{dev:[{type:"cash",title:"Наличными курьеру"},{type:"card",title:"Онлайн на сайте"}],dev_mini:[{type:"cash",title:"Наличными курьеру"},{type:"card",title:"Онлайн на сайте"}],pic:[{type:"in",title:"В кафе"}]},renderPay:[{type:"cash",title:"Наличными курьеру"},{type:"card",title:"Онлайн на сайте"}],cartItems_main:[],cartItems_dop:[],cartItems_need_dop:[],cartItems_promo:[],cartItems_dop_tea:[],timePred:[],error:{title:"",text:""},errorOpen:!1,orderCheck:!1,newAddrInfo:null,newAddrPD:"",newAddrET:"",newAddrKV:"",newAddrHome:"",newAddrDom:!0,orderType:0,orderAddr:null,orderPic:0,orderComment:"",orderPay:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderSdacha:"",orderPromo:"",orderPromoText:"",newOrderData:null,CheckDomTrue:!1},ne.Z.setCity(i.props.city),i}return(0,i.Z)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t),fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"save_log_err",page:"cart",error:JSON.stringify(e),info:JSON.stringify(t)})}).then((function(e){return e.json()})).then((function(e){}))}},{key:"loadData",value:function(){var e=this;setTimeout((function(){fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"get_by_mi_web",city_id:e.state.city_name,user_id:ne.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){e.setState({pic_point:t.get_addr_pic.points,my_addr:t.get_my_addr,all_addr:t.get_addr,date_pred:t.date_pred}),setTimeout((function(){var t=ne.Z.getCartData();if(t.orderType||0==t.orderType){if(e.setState({orderType:t.orderType,orderAddr:t.orderAddr&&-1==t.orderAddr.id?null:t.orderAddr,orderPic:t.orderPic,orderComment:t.orderComment,orderTimes:t.orderTimes,orderPredDay:t.orderPredDay,orderPredTime:t.orderPredTime,orderPay:t.orderPay,orderSdacha:t.orderSdacha}),2==parseInt(t.orderTimes)&&""!=t.orderPredDay&&(t.orderAddr&&-1!==t.orderAddr.id||parseInt(t.orderPic)>0)&&setTimeout((function(){e.loadTimePred()}),300),setTimeout((function(){1==parseInt(t.orderType)&&parseInt(t.orderPic)>0&&e.choosePic(t.orderPic)}),300),0==parseInt(t.orderType)&&t.orderAddr&&t.orderAddr.id&&-1!==t.orderAddr.id){var a=ne.Z.getAllPrice();1==parseInt(t.orderAddr.free_drive)||1==parseInt(ne.Z.free_drive)?parseInt(a)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(t.orderAddr.sum_div))}else ne.Z.setSumDiv(0);setTimeout((function(){t.orderTimes,0==t.orderType?e.setState({renderPay:e.state.pays.dev}):e.setState({renderPay:e.state.pays.pic})}),300)}else 1==e.state.pic_point.length&&e.choosePic(e.state.pic_point[0].id),1==e.state.my_addr.length&&e.changeAddr({target:{value:e.state.my_addr[0].id}});"undefined"!=typeof window&&setTimeout((function(){localStorage.getItem("promo_name")&&(e.setState({orderPromo:localStorage.getItem("promo_name")}),setTimeout((function(){e.checkPromo()}),300))}),1e3)}),300)}))}),300)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"choosePic",value:function(e){ne.Z.setSumDiv(0),document.querySelector(".boxPic.active")&&document.querySelector(".boxPic.active").classList.remove("active"),document.querySelector("#pic_"+e)&&document.querySelector("#pic_"+e).classList.add("active");var t=this.state.pic_point.find((function(t){return t.id==e}));this.setState({orderPic:e,picPointInfo:t,choosePicDialog:!1}),this.saveData()}},{key:"changePayMobile",value:function(e){this.setState({orderPay:e,choosePayDialog:!1}),this.saveData()}},{key:"checkPromo",value:function(){var e=this;ne.Z.setItemsPromo([]),ne.Z.free_drive=0;var t;t=document.getElementById("PROMONAME")&&document.getElementById("PROMONAME").value.length>0?document.getElementById("PROMONAME").value:document.getElementById("PromoMobile")&&document.getElementById("PromoMobile").value.length>0?document.getElementById("PromoMobile").value:this.state.orderPromo,fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"get_promo_web",city_id:ne.Z.getCity(),promo_name:t})}).then((function(e){return e.json()})).then((function(a){ne.Z.setPromo(JSON.stringify(a),t);var n=ne.Z.checkPromo();0==t.length?e.setState({orderPromoText:""}):(n.st,e.setState({orderPromoText:n.text})),setTimeout((function(){var e=ne.Z.getCartData();if(e.orderType||0==e.orderType){var t=ne.Z.getAllPrice();1==parseInt(e.orderAddr?e.orderAddr.free_drive:0)||1==parseInt(ne.Z.free_drive)?parseInt(t)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(e.orderAddr?e.orderAddr.sum_div:0))}1==parseInt(e.orderType)&&ne.Z.setSumDiv(0)}),500)}))}},{key:"saveData",value:function(){var e=this;setTimeout((function(){var t={orderType:e.state.orderType,orderAddr:e.state.orderAddr,orderPic:e.state.orderPic,orderComment:e.state.orderComment,orderTimes:e.state.orderTimes,orderPredDay:e.state.orderPredDay,orderPredTime:e.state.orderPredTime,orderPay:e.state.orderPay,orderSdacha:e.state.orderSdacha};ne.Z.saveCartData(t),setTimeout((function(){e.checkPromo()}),300)}),500)}},{key:"saveDataCustomAddr",value:function(){var e=this;setTimeout((function(){var t={orderType:e.state.orderType,orderAddr:{id:-1,city_name:ne.Z.getCityRU(),street:e.state.newAddrInfo?e.state.newAddrInfo.street:"",home:e.state.newAddrInfo?e.state.newAddrInfo.home:"",kv:e.state.newAddrKV,pd:e.state.newAddrPD,et:e.state.newAddrET,dom_true:e.state.newAddrDom?1:0,free_drive:e.state.newAddrInfo?e.state.newAddrInfo.free_drive:0,sum_div:e.state.newAddrInfo?e.state.newAddrInfo.sum_div:0,point_id:e.state.newAddrInfo?e.state.newAddrInfo.point_id:0,xy:e.state.newAddrInfo?e.state.newAddrInfo.xy:"",pay_active:e.state.newAddrInfo?e.state.newAddrInfo.pay_active:0},orderPic:e.state.orderPic,orderComment:e.state.orderComment,orderTimes:e.state.orderTimes,orderPredDay:e.state.orderPredDay,orderPredTime:e.state.orderPredTime,orderPay:e.state.orderPay,orderSdacha:e.state.orderSdacha};t.orderAddr.street.length>0&&t.orderAddr.home.length>0&&e.setState({orderAddr:t.orderAddr}),ne.Z.saveCartData(t);var a=ne.Z.getAllPrice();1==parseInt(e.state.newAddrInfo?e.state.newAddrInfo.free_drive:0)||1==parseInt(ne.Z.free_drive)?parseInt(a)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(e.state.newAddrInfo?e.state.newAddrInfo.sum_div:0)),e.state.orderTimes,0==e.state.orderType?e.setState({renderPay:e.state.pays.dev}):e.setState({renderPay:e.state.pays.pic})}),500)}},{key:"loadTimePred",value:function(){var e,t,a=this,n=[],i=ne.Z.getItems();this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id?(i.forEach((function(e){n.push({item_id:e.item_id,count:e.count})})),fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"get_times_pred_web",point_id:this.state.orderType+1==1?null!==(e=this.state.orderAddr.point_id)&&void 0!==e?e:0:null!==(t=this.state.orderPic)&&void 0!==t?t:0,type_order:this.state.orderType+1,date:this.state.orderPredDay,cart:JSON.stringify(n)})}).then((function(e){return e.json()})).then((function(e){e.st?a.setState({timePred:e.data}):a.setState({error:{title:"Предупреждение",text:e.text},errorOpen:!0})}))):this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0,orderTimes:"1"})}},{key:"startOrder",value:function(){var e=this;if(0==this.clickOrderStart){if(this.clickOrderStart=!0,!this.state.renderPay.find((function(t){return t.type==e.state.orderPay})))return this.setState({error:{title:"Предупреждение",text:"Выберите способ оплаты: онлайн на сайте или наличными при получении."},errorOpen:!0}),void(this.clickOrderStart=!1);if(2==parseInt(this.state.orderTimes)&&(""==this.state.orderPredDay||""==this.state.orderPredTime))return this.setState({error:{title:"Предупреждение",text:"Дата или время предзаказа не указано"},errorOpen:!0}),void(this.clickOrderStart=!1);if(!(this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id))return this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0}),void(this.clickOrderStart=!1);this.setState({spiner:!0});var t=[],a=ne.Z.getItems(),n=ne.Z.getAllItems(),i=[];a.forEach((function(e){e.count>0&&t.push({name:e.name,count:e.count,price:e.all_price,item_id:e.item_id,cat_id:n.find((function(t){return t.id==e.item_id})).cat_id})})),n.filter((function(e){return 231==parseInt(e.id)||232==parseInt(e.id)})).map((function(e,t){i.push({name:e.name,id:e.id,count:0,one_price:0,all_price:0,img:e.img_new,imgUpdate:e.img_new_update,cat_id:e.cat_id})}));var s=!1,r=!1,o=!1;if(t.forEach((function(e){(3==parseInt(e.cat_id)||4==parseInt(e.cat_id)||9==parseInt(e.cat_id)||10==parseInt(e.cat_id)||12==parseInt(e.cat_id)||13==parseInt(e.cat_id))&&parseInt(e.count)>0&&(s=!0),(17==parseInt(e.item_id)&&parseInt(e.count)>0||237==parseInt(e.item_id)&&parseInt(e.count)>0)&&(r=!0),19==parseInt(e.item_id)&&parseInt(e.count)>0&&(o=!0)})),s&&0==r||s&&0==o)return this.setState({orderCheckDop:!0,spiner:!1}),void setTimeout((function(){e.clickOrderStart=!1}),300);this.clickOrderStart=!1,this.startOrderNext()}}},{key:"startOrderNext",value:function(){var e=this;if(0==this.clickOrderStart){this.clickOrderStart=!0,clearTimeout(this.startOrderIntervalTimer),this.setState({orderCheckDop:!1,orderCheckDopTea:!1,spiner:!0});var t=this.state.renderPay.find((function(t){return t.type==e.state.orderPay})),a=[];if(ne.Z.getItems().forEach((function(e){e.count>0&&a.push({name:e.name,count:e.count,price:e.all_price,id:e.item_id})})),0==parseInt(this.state.orderType)){var n=this.state.orderAddr?JSON.stringify(this.state.orderAddr):"";if(!n||""==n)return void setTimeout((function(){e.setState({spiner:!1,error:{title:"Предупреждение",text:"Нет адреса для доставки"},errorOpen:!0}),e.clickOrderStart=!1}),300)}if(1==parseInt(this.state.orderType)){var i=this.state.orderPic;if(!i||0==i)return void setTimeout((function(){e.setState({spiner:!1,error:{title:"Предупреждение",text:"Не выбрана точка для самовывоза"},errorOpen:!0}),e.clickOrderStart=!1}),300)}fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"createOrder_web",city_id:this.state.city_name,user_id:ne.Z.getToken(),timePred:JSON.stringify({value:1==parseInt(this.state.orderTimes)?0:this.state.orderPredDay+" "+this.state.orderPredTime}),typeOrder:this.state.orderType,addrPic:this.state.orderPic,comment:this.state.orderComment,addrDev:this.state.orderAddr?JSON.stringify(this.state.orderAddr):"",pay:t.title,sdacha:this.state.orderSdacha,payFull:JSON.stringify(t),cart:JSON.stringify(a),promo_name:this.state.orderPromo})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){e.clickOrderStart=!1}),300),setTimeout((function(){e.setState({spiner:!1}),t.st?(e.setState({orderCheck:!0,newOrderData:t}),e.startOrderIntervalTimer=setTimeout((function(){e.setState({orderCheck:!1,newOrderData:null})}),1e3*e.startOrderInterval)):(t.type&&"new_pred"==t.type&&e.setState({timePred:t.times}),e.setState({error:{title:"Предупреждение",text:t.text_err},errorOpen:!0}))}),1e3)})).catch((function(t){setTimeout((function(){e.setState({spiner:!1})}),300),console.log(t)}))}}},{key:"checkNewAddr",value:function(){var e,t=this,a=document.querySelector("#newAddrStreet")?document.querySelector("#newAddrStreet").value:"",n=document.querySelector("#newAddrStreetModal")?document.querySelector("#newAddrStreetModal").value:"";(e=a.length>0?a:n.length>0?n:"").length>0&&this.state.newAddrHome.length>0&&fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"save_new_addr_web_new",city_id:this.state.city_name,user_id:ne.Z.getToken(),street:e,home:this.state.newAddrHome})}).then((function(e){return e.json()})).then((function(e){e.st?""==e.data.home?t.setState({error:{title:"Предупреждение",text:"Номер дома не указан или указан не верно"},errorOpen:!0}):(t.setState({newAddrInfo:e.data}),t.saveDataCustomAddr()):t.setState({error:{title:"Предупреждение",text:e.text},errorOpen:!0})}))}},{key:"trueOrder",value:function(){var e=this;fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"trueOrder_web",city_id:this.state.city_name,user_id:ne.Z.getToken(),order_id:this.state.newOrderData.order_id,point_id:this.state.newOrderData.point_id})}).then((function(e){return e.json()})).then((function(t){0==t.st?e.setState({error:{title:"При подтверждении оплаты произошла ошибка",text:t.text_err},errorOpen:!0}):(ne.Z.setItems([]),ne.Z.saveCartData({orderType:0,orderAddr:"",orderPic:0,orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:"",orderSdacha:""}),setTimeout((function(){var e=ye(window.location.pathname);window.location.href=window.location.origin+"/"+e+"/profile?trueOrder"}),300))}))}},{key:"delAddr",value:function(e){var t=this;confirm("Удалить сохраненный адрес ?")&&fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"del_addr_web",city_id:this.state.city_name,user_id:ne.Z.getToken(),id_addr:e})}).then((function(e){return e.json()})).then((function(e){t.setState({my_addr:e})}))}},{key:"changeDomTrue",value:function(e){this.setState({newAddrDom:e})}},{key:"closeTimeDialog",value:function(){""==this.state.orderPredTime?(this.changePredDay({target:{value:0}}),this.setState({chooseTimeDialog:!1})):this.setState({chooseTimeDialog:!1})}},{key:"changePayMobile_new",value:function(){this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id?this.setState({choosePayDialog:!0}):this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0,orderTimes:"1"})}},{key:"changeTimeMobile",value:function(){this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id?this.setState({chooseTimeDialog:!0}):this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0,orderTimes:"1"})}},{key:"checkSaveData",value:function(e,t){var a=e.target.value;isNaN(a)||this.setState((0,c.Z)({},t,a))}},{key:"checkDomTrue",value:function(e,t){var a=this;fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"checkDomTrue",city_id:this.state.city_name,user_id:ne.Z.getToken(),addr_id:this.state.orderAddr.id,dom_true:!0===e?1:0})}).then((function(e){return e.json()})).then((function(e){}));var n=this.state.orderAddr;n.dom_true=!0===e?1:0,n.check_dom_true=1,this.setState({newAddrDom:!0===e?1:0,orderAddr:n,CheckDomTrue:!1}),setTimeout((function(){a.saveData()}),300)}},{key:"render",value:function(){var e=this;if(this.state.hasError)return p.createElement(p.Fragment,null,p.createElement(_.Z,{variant:"h5",component:"h1"},"Корзина"),p.createElement("a",{href:"https://jacofood.ru/"+this.state.city_name},"На главную"));var t=this.state.renderPay.find((function(t){return t.type==e.state.orderPay})),a=this.state.pic_point.find((function(t){return t.id==e.state.orderPic}));return a=a?a.addr:"",p.createElement(u.ZP,{container:!0,className:"Cart mainContainer MuiGrid-spacing-xs-3"},p.createElement(oe.q,null,p.createElement("title",null,this.state.title),p.createElement("meta",{name:"description",content:this.state.description})),p.createElement(Z.Z,{open:this.state.spiner,style:{zIndex:9999,color:"#fff"}},p.createElement(I.Z,{color:"inherit"})),p.createElement(u.ZP,{item:!0,xs:12},p.createElement(_.Z,{variant:"h5",component:"h1"},"Корзина")),p.createElement(u.ZP,{item:!0,container:!0,sx:{display:{xs:"none",sm:"flex"}},spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",style:{paddingTop:0}},p.createElement(A.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},p.createElement(O.Z,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",style:{justifyContent:"center"}},p.createElement(B.Z,(0,m.Z)({label:"Доставка"},ve(0),{disableRipple:!0})),p.createElement(B.Z,(0,m.Z)({label:"Самовывоз"},ve(1),{disableRipple:!0})))),p.createElement(_e,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,index:0,style:{width:"100%"}},p.createElement(Y.Z,{component:"fieldset",style:{width:"100%"}},p.createElement(J.Z,{name:"addrs",value:this.state.orderAddr?this.state.orderAddr.id:0,onChange:this.changeAddr},this.state.my_addr.map((function(t,a){return p.createElement("div",{key:a,className:"boxAddr"},p.createElement(V.Z,{value:t.id,control:p.createElement(K.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:t.city_name+", "+t.street+" "+t.home+(0==parseInt(t.pd)||0==t.pd.length?"":", Пд. "+t.pd)+(0==parseInt(t.et)||0==t.et.length?"":", Эт. "+t.et)+(0==parseInt(t.kv)||0==t.kv.length?"":", Кв. "+t.kv)+(0==parseInt(t.dom_true)?" Домофон не работает":"")}),p.createElement(v.G,{onClick:e.delAddr.bind(e,t.id),icon:E.NBC}))})))),p.createElement(Q.Z,null,p.createElement($.Z,{"aria-controls":"panel1a-content",id:"panel1a-header"},p.createElement(_.Z,{variant:"h5",component:"span",className:"newAddr"},"Новый адрес")),p.createElement(ee.Z,{className:"newAddr"},p.createElement("div",null,p.createElement(ae.Z,{freeSolo:!0,id:"newAddrStreet",size:"small",onBlur:this.checkNewAddr.bind(this),options:this.state.all_addr.map((function(e){return e.value})),renderInput:function(e){return p.createElement(z.Z,(0,m.Z)({},e,{label:"Улица",margin:"normal",variant:"outlined"}))}}),p.createElement(z.Z,{label:"Дом",size:"small",variant:"outlined",value:this.state.newAddrHome,onChange:function(t){return e.setState({newAddrHome:t.target.value})},onBlur:this.checkNewAddr.bind(this)})),p.createElement("div",null,p.createElement(z.Z,{label:"Подъезд",variant:"outlined",size:"small",style:{width:"100%"},value:this.state.newAddrPD,onChange:function(t){return e.checkSaveData(t,"newAddrPD")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(z.Z,{label:"Этаж",variant:"outlined",size:"small",style:{width:"100%"},value:this.state.newAddrET,onChange:function(t){return e.checkSaveData(t,"newAddrET")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(z.Z,{label:"Квартира",variant:"outlined",size:"small",style:{width:"100%"},value:this.state.newAddrKV,onChange:function(t){return e.checkSaveData(t,"newAddrKV")},onBlur:this.saveDataCustomAddr.bind(this)})),p.createElement("div",null,p.createElement(y.Z,{disableElevation:!0,variant:"contained",className:"chooseDomTrue"},p.createElement(g.Z,{className:!0===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!0)},"Домофон работает"),p.createElement(g.Z,{className:!1===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!1)},"Домофон не работает")))))),p.createElement(_e,{value:this.state.orderType,index:1},p.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},this.state.pic_point.map((function(t,a){return p.createElement("div",{className:"boxPic",id:"pic_"+t.id,key:a,onClick:e.choosePic.bind(e,t.id)},p.createElement(_.Z,{variant:"h5",component:"span"},t.raion),p.createElement(_.Z,{variant:"h5",component:"span"},t.addr,", c 10:00 до 21:30"))})))),0==this.state.orderType?p.createElement("div",{className:"_comment_"},p.createElement(z.Z,{id:"outlined-multiline-flexible",label:"Комментарий курьеру",multiline:!0,rowsMax:2,value:this.state.orderComment,onChange:this.changeComment,variant:"outlined",size:"small",type:"text"})):null,p.createElement("div",null,p.createElement(Y.Z,{component:"fieldset"},p.createElement(X.Z,{component:"legend"},"Оплата"),p.createElement(J.Z,{"aria-label":"pays",name:"pays",value:this.state.orderPay,onChange:this.changePay},this.state.renderPay.map((function(e,t){return p.createElement(V.Z,{key:t,value:e.type,control:p.createElement(K.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:e.title})}))))),p.createElement("div",null,p.createElement(Y.Z,{component:"fieldset"},p.createElement(X.Z,{component:"legend"},"Когда приготовить?"),p.createElement(J.Z,{"aria-label":"times",name:"times",value:this.state.orderTimes,onChange:this.changeTimes},p.createElement(V.Z,{value:"1",control:p.createElement(K.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:"Как можно быстрее"}),p.createElement(V.Z,{value:"2",control:p.createElement(K.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:"Предзаказ"})))),2==this.state.orderTimes?p.createElement("div",null,p.createElement(Y.Z,{style:{width:"30%"},variant:"standard"},p.createElement(R.Z,{htmlFor:"age-native-simple"},"День"),p.createElement(j.Z,{size:"small",displayEmpty:!0,value:this.state.orderPredDay,onChange:this.changePredDay,inputProps:{id:"age-native-simple"}},this.state.date_pred.map((function(e,t){return p.createElement(L.Z,{key:t,value:e.date},e.text)})))),p.createElement(Y.Z,{style:{width:"20%"},variant:"standard"},p.createElement(R.Z,{htmlFor:"age-native-simple1"},"Время"),p.createElement(j.Z,{displayEmpty:!0,size:"small",value:this.state.orderPredTime,onChange:this.changePredTime,inputProps:{id:"age-native-simple1"}},this.state.timePred.map((function(e,t){return p.createElement(L.Z,{key:t,value:e.value},e.text)}))))):null,p.createElement("div",null,p.createElement(_.Z,{variant:"h5",component:"h2"},"Моя корзина")),p.createElement("div",null,p.createElement("table",{className:"tableCart"},p.createElement("tbody",null,this.state.cartItems_main.map((function(t,a){return p.createElement(Ee,{key:a,item:t,type:"item",firebaseAnalitic:e.firebaseAnalitic})})),this.state.cartItems_promo.map((function(t,a){return p.createElement(Ee,{key:a,item:t,type:"promo",firebaseAnalitic:e.firebaseAnalitic})})),p.createElement("tr",{className:"rowAboutDop"},p.createElement("td",{colSpan:"3"},p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Соевый соус, имбирь и васаби приобретаются отдельно!"),p.createElement("br",null),p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Не забудьте добавить нужные позиции в корзину."))),this.state.cartItems_dop.map((function(t,a){return p.createElement(Ee,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})}))),p.createElement("tfoot",null,p.createElement("tr",null,p.createElement("td",{colSpan:"2"},p.createElement(_.Z,{component:"span"},"Доставка:")),p.createElement("td",null,p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv," ",p.createElement(fe,{width:"20",viewBox:"0 20 500 200"})))),p.createElement("tr",null,p.createElement("td",{colSpan:"2"},p.createElement(_.Z,{component:"span"},"Итого:")),p.createElement("td",null,p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv+this.state.allPrice," ",p.createElement(fe,{width:"20",viewBox:"0 20 500 200"}))))))),0==this.state.orderType&&"cash"==this.state.orderPay?p.createElement("div",{className:"orderSdacha"},p.createElement("div",null,p.createElement(Y.Z,null,p.createElement(R.Z,{htmlFor:"standard-adornment-weight"},"Подготовить сдачу с"),p.createElement(te.Z,{type:"number",id:"standard-adornment-weight",value:this.state.orderSdacha,onChange:this.changeSdacha,endAdornment:p.createElement(fe,{viewBox:"-400 0 1200 300"})})))):null,p.createElement("div",{className:"promoOrder"},p.createElement("div",null,p.createElement(x.Z,{component:"div",className:"SpacePromo"},p.createElement(w.ZP,{onBlur:this.checkPromo.bind(this),value:this.state.orderPromo,onChange:function(t){return e.setState({orderPromo:t.target.value})},placeholder:"Промокод",id:"PROMONAME"}),p.createElement(b.Z,{orientation:"vertical"}),p.createElement(f.Z,{color:"primary","aria-label":"directions",onClick:this.checkPromo.bind(this)},p.createElement(S.Z,null))),this.state.orderPromoText.length>0?p.createElement("div",{className:"DescPromo"},p.createElement(_.Z,{variant:"h5",component:"span"},"Промокод дает: ",this.state.orderPromoText)):null),p.createElement("div",null,p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:this.startOrder.bind(this)},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Оформить заказ"))))),p.createElement(u.ZP,{item:!0,container:!0,sx:{display:{xs:"flex",sm:"none"}},spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer mobile"},p.createElement(A.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},p.createElement(O.Z,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",style:{justifyContent:"center"}},p.createElement(B.Z,(0,m.Z)({label:"Доставка"},ve(0),{style:{width:"50%"},disableRipple:!0})),p.createElement(B.Z,(0,m.Z)({label:"Самовывоз"},ve(1),{style:{width:"50%"},disableRipple:!0})))),p.createElement(_e,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,index:0,style:{width:"100%"}},p.createElement("div",{className:"boxMobile",onClick:function(){return e.setState({chooseAddr:!0})}},p.createElement(_.Z,{variant:"h5",component:"span"},"Адрес: ",this.state.orderAddr?this.state.orderAddr.city_name+", "+this.state.orderAddr.street+" "+this.state.orderAddr.home+(0==parseInt(this.state.orderAddr.pd)||0==this.state.orderAddr.pd.length?"":", Пд. "+this.state.orderAddr.pd)+(0==parseInt(this.state.orderAddr.et)||0==this.state.orderAddr.et.length?"":", Эт. "+this.state.orderAddr.et)+(0==parseInt(this.state.orderAddr.kv)||0==this.state.orderAddr.kv.length?"":", Кв. "+this.state.orderAddr.kv):""))),p.createElement(_e,{value:this.state.orderType,index:1,style:{width:"100%"}},p.createElement("div",{className:"boxMobile",onClick:function(){return e.setState({choosePicDialog:!0})}},p.createElement(_.Z,{variant:"h5",component:"span"},"Адрес: ",this.state.orderPic>0&&this.state.pic_point.length>0?a:""))),p.createElement("div",{className:"boxMobile",onClick:this.changeTimeMobile.bind(this)},p.createElement(_.Z,{variant:"h5",component:"span"},"Приготовим: ",1==this.state.orderTimes?"как можно быстрее":this.state.orderPredDay+" "+this.state.orderPredTime)),p.createElement("div",{className:"boxMobile",onClick:this.changePayMobile_new.bind(this)},p.createElement(_.Z,{variant:"h5",component:"span"},"Оплачу: ",t?t.title:"")),p.createElement("div",{style:{marginTop:15}},p.createElement(x.Z,{component:"div",className:"SpacePromo"},p.createElement(w.ZP,{onBlur:this.checkPromo.bind(this),value:this.state.orderPromo,onChange:function(t){return e.setState({orderPromo:t.target.value})},onKeyPress:this.enterPromoMobile,id:"PromoMobile",placeholder:"Промокод"}),p.createElement(b.Z,{orientation:"vertical"}),p.createElement(f.Z,{color:"primary",id:"NextPromo","aria-label":"directions",onClick:this.checkPromo.bind(this)},p.createElement(S.Z,null))),this.state.orderPromoText.length>0?p.createElement("div",{className:"DescPromo"},p.createElement(_.Z,{variant:"h5",component:"span"},"Промокод дает: ",this.state.orderPromoText)):null),0==this.state.orderType?p.createElement("div",{className:"boxMobile_ area",style:{paddingTop:20}},p.createElement("form",{noValidate:!0,autoComplete:"off"},p.createElement(z.Z,{style:{width:"100%"},id:"outlined-multiline-flexible",label:"Комментарий курьеру",multiline:!0,rowsMax:2,value:this.state.orderComment,onChange:this.changeComment,variant:"outlined",size:"small",type:"text"}))):null,0==this.state.orderType&&"cash"==this.state.orderPay?p.createElement("div",{className:"boxMobile_ area",style:{paddingTop:20}},p.createElement(Y.Z,{variant:"outlined",style:{width:"100%"}},p.createElement(R.Z,{htmlFor:"outlined-adornment-password"},"Подготовить сдачу с"),p.createElement(W.Z,{id:"outlined-adornment-password",type:"number",style:{width:"100%"},value:this.state.orderSdacha,onChange:this.changeSdacha,endAdornment:p.createElement(fe,{viewBox:"-600 80 1000 300"}),label:"Подготовить сдачу с"}))):null,p.createElement("div",null,p.createElement("div",{className:"tableMobile"},this.state.cartItems_main.map((function(t,a){return p.createElement(xe,{key:a,item:t,type:"item",firebaseAnalitic:e.firebaseAnalitic})})),this.state.cartItems_promo.map((function(t,a){return p.createElement(xe,{key:a,item:t,type:"promo",firebaseAnalitic:e.firebaseAnalitic})})),p.createElement("div",{className:"boxItem rowAboutDop"},p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Соевый соус, имбирь и васаби приобретаются отдельно!"),p.createElement("br",null),p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Не забудьте добавить нужные позиции в корзину.")),this.state.cartItems_dop.map((function(t,a){return p.createElement(xe,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})})))),p.createElement("div",{className:"bottomOrder",style:{paddingTop:0}},p.createElement("div",{style:{padding:"5px 0px"}},p.createElement(_.Z,{variant:"h5",component:"span"},"Доставка"),p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv," ",p.createElement(fe,{width:"20",viewBox:"0 0 600 200"}))),p.createElement("div",{style:{paddingBottom:5}},p.createElement(_.Z,{variant:"h5",component:"span"},"К оплате"),p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv+this.state.allPrice," ",p.createElement(fe,{width:"20",viewBox:"0 0 600 200"}))),p.createElement("div",null,p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:this.startOrder.bind(this)},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Оформить заказ"))))),p.createElement(C.Z,{open:this.state.CheckDomTrue,onClose:function(){return e.setState({CheckDomTrue:!1})},className:"CheckDomTrue"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Подтвердите работоспособность домофона"),p.createElement(P.Z,null,p.createElement(T.Z,{className:"DialogErrText"},this.state.orderAddr?this.state.orderAddr.city_name+", "+this.state.orderAddr.street+" "+this.state.orderAddr.home+(0==parseInt(this.state.orderAddr.pd)||0==this.state.orderAddr.pd.length?"":", Пд. "+this.state.orderAddr.pd)+(0==parseInt(this.state.orderAddr.et)||0==this.state.orderAddr.et.length?"":", Эт. "+this.state.orderAddr.et)+(0==parseInt(this.state.orderAddr.kv)||0==this.state.orderAddr.kv.length?"":", Кв. "+this.state.orderAddr.kv):"")),p.createElement(N.Z,null,p.createElement(y.Z,{disableElevation:!0,variant:"contained",className:"chooseDomTrue",style:{width:"100%"}},p.createElement(g.Z,{style:{width:"50%"},onClick:this.checkDomTrue.bind(this,!0)},"Домофон работает"),p.createElement(g.Z,{style:{width:"50%"},onClick:this.checkDomTrue.bind(this,!1)},"Домофон не работает")))),p.createElement(C.Z,{open:this.state.errorOpen,onClose:function(){return e.setState({errorOpen:!1})},className:"DialogErr"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},this.state.error.title),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({errorOpen:!1})},icon:E.NBC}),p.createElement(P.Z,null,p.createElement(T.Z,{className:"DialogErrText"},this.state.error.text)),p.createElement(N.Z,null,p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({errorOpen:!1})}},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Хорошо")))),p.createElement(C.Z,{open:this.state.chooseAddr,fullWidth:!0,onClose:function(){return e.setState({chooseAddr:!1})},className:"DialogChooseAddr"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Адрес доставки"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({chooseAddr:!1})},icon:E.NBC}),p.createElement(P.Z,null,p.createElement(Y.Z,{component:"fieldset"},p.createElement(J.Z,{name:"addrs",value:this.state.orderAddr?this.state.orderAddr.id:0,onChange:this.changeAddr},this.state.my_addr.map((function(t,a){return p.createElement("div",{key:a,className:"boxAddr"},p.createElement(V.Z,{value:t.id,control:p.createElement(K.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:t.city_name+", "+t.street+" "+t.home+(0==parseInt(t.pd)||0==t.pd.length?"":", Пд. "+t.pd)+(0==parseInt(t.et)||0==t.et.length?"":", Эт. "+t.et)+(0==parseInt(t.kv)||0==t.kv.length?"":", Кв. "+t.kv)+(0==parseInt(t.dom_true)?" Домофон не работает":"")}),p.createElement(v.G,{onClick:e.delAddr.bind(e,t.id),icon:E.NBC}))})))),p.createElement(_.Z,{variant:"h5",component:"span",className:"newAddrMobile",onClick:function(){e.setState({chooseAddr:!1,chooseNewAddr:!0})}},"Новый адрес"))),p.createElement(C.Z,{open:this.state.chooseNewAddr,fullWidth:!0,onClose:function(){return e.setState({chooseNewAddr:!1})},className:"DialogChooseNewAddr"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Новый адрес"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({chooseNewAddr:!1})},icon:E.NBC}),p.createElement(P.Z,{style:{paddingTop:0}},p.createElement("div",{className:"newAddrMobile",style:{paddingTop:0}},p.createElement(ae.Z,{freeSolo:!0,id:"newAddrStreetModal",size:"small",style:{width:"100%"},onBlur:this.checkNewAddr.bind(this),options:this.state.all_addr.map((function(e){return e.value})),renderInput:function(e){return p.createElement(z.Z,(0,m.Z)({},e,{label:"Улица",margin:"normal"}))}}),p.createElement(z.Z,{label:"Дом",size:"small",style:{width:"100%"},value:this.state.newAddrHome,onChange:function(t){return e.setState({newAddrHome:t.target.value})},onBlur:this.checkNewAddr.bind(this)}),p.createElement(z.Z,{label:"Подъезд",size:"small",style:{width:"100%"},value:this.state.newAddrPD,onChange:function(t){return e.checkSaveData(t,"newAddrPD")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(z.Z,{label:"Этаж",size:"small",style:{width:"100%"},value:this.state.newAddrET,onChange:function(t){return e.checkSaveData(t,"newAddrET")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(z.Z,{label:"Квартира",size:"small",style:{width:"100%"},value:this.state.newAddrKV,onChange:function(t){return e.checkSaveData(t,"newAddrKV")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(y.Z,{disableElevation:!0,variant:"contained",className:"chooseDomTrue"},p.createElement(g.Z,{className:!0===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!0)},"Домофон работает"),p.createElement(g.Z,{className:!1===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!1)},"Домофон не работает"))),p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({chooseNewAddr:!1})}},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Использовать")))),p.createElement(C.Z,{open:this.state.choosePicDialog,fullWidth:!0,onClose:function(){return e.setState({choosePicDialog:!1})},className:"DialogChoosePicDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Адрес кафе"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({choosePicDialog:!1})},icon:E.NBC}),p.createElement(P.Z,null,p.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},this.state.pic_point.map((function(t,a){return p.createElement("div",{className:"boxPic "+(e.state.orderPic==t.id?"active":""),id:"pic_"+t.id,key:a,onClick:e.choosePic.bind(e,t.id)},p.createElement(_.Z,{variant:"h5",component:"span"},t.raion),p.createElement(_.Z,{variant:"h5",component:"span"},t.addr,", c 10:00 до 21:30"))}))))),p.createElement(C.Z,{open:this.state.chooseTimeDialog,fullWidth:!0,onClose:this.closeTimeDialog.bind(this),className:"DialogChoosePicDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Время заказа"),p.createElement(v.G,{className:"closeDialog",onClick:this.closeTimeDialog.bind(this),icon:E.NBC}),p.createElement(P.Z,null,p.createElement("div",{style:{display:"flex",flexDirection:"column"}},p.createElement(Y.Z,{style:{width:"100%",paddingBottom:20},variant:"standard"},p.createElement(R.Z,{htmlFor:"age-native-simple"},"День"),p.createElement(j.Z,{size:"small",displayEmpty:!0,value:this.state.orderPredDay,onChange:this.changePredDay,inputProps:{id:"age-native-simple"}},p.createElement(L.Z,{value:0},"Как можно быстрее"),this.state.date_pred.map((function(e,t){return p.createElement(L.Z,{key:t,value:e.date},e.text)})))),p.createElement(Y.Z,{style:{width:"100%",paddingBottom:20,display:0==this.state.orderPredDay?"none":"inline-flex"},variant:"standard"},p.createElement(R.Z,{htmlFor:"age-native-simple1"},"Время"),p.createElement(j.Z,{size:"small",displayEmpty:!0,value:this.state.orderPredTime,onChange:this.changePredTime,inputProps:{id:"age-native-simple1"}},this.state.timePred.map((function(e,t){return p.createElement(L.Z,{key:t,value:e.value},e.text)}))))),p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({chooseTimeDialog:!1})}},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Использовать")))),p.createElement(C.Z,{onClose:function(){return e.setState({choosePayDialog:!1})},"aria-labelledby":"simple-dialog-title",open:this.state.choosePayDialog,fullWidth:!0,className:"DialogChoosePayDialog"},p.createElement(k.Z,{id:"simple-dialog-title",style:{paddingBottom:0}},"Оплата"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({choosePayDialog:!1})},icon:E.NBC}),p.createElement(H.Z,null,this.state.renderPay.map((function(t,a){return p.createElement(G.ZP,{button:!0,onClick:e.changePayMobile.bind(e,t.type),key:a},p.createElement(U.Z,null,p.createElement(F.Z,{style:{color:"#fff",backgroundColor:"#000"}},"cash"==t.type?p.createElement(v.G,{icon:E.aLp}):"in"==t.type?p.createElement(v.G,{icon:E.J4t}):p.createElement(v.G,{icon:E.Ozh}))),p.createElement(q.Z,{primary:t.title}))})))),p.createElement(C.Z,{open:this.state.orderCheckDop,fullWidth:!0,onClose:this.startOrderNext.bind(this),className:"DialogOrderCheckDopDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"А как же палочки и соевый соус ?"),p.createElement(v.G,{className:"closeDialog",onClick:this.startOrderNext.bind(this),icon:E.NBC}),p.createElement(P.Z,null,p.createElement("div",{className:"tableMobile OrderCheckDopDialog"},this.state.cartItems_dop.map((function(t,a){return p.createElement(xe,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})})))),p.createElement(N.Z,{style:{padding:"12px 24px",paddingBottom:24}},p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:this.startOrderNext.bind(this)},p.createElement(g.Z,{variant:"contained",style:{width:"100%"},className:"BtnCardMain CardInCardItem"},"Продолжить")))),p.createElement(C.Z,{open:this.state.orderCheckDopTea,fullWidth:!0,onClose:this.startOrderNext.bind(this),className:"DialogOrderCheckDopDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Согреваем, чаем угощаем!"),p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Две индивидуальные упаковки ягодно-фруктового чая вам в подарок"),p.createElement(v.G,{className:"closeDialog",onClick:this.startOrderNext.bind(this),icon:E.NBC}),p.createElement(P.Z,null,p.createElement("div",{className:"tableMobile OrderCheckDopDialog"},this.state.cartItems_dop_tea.map((function(t,a){return p.createElement(xe,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})})))),p.createElement(N.Z,{style:{padding:"12px 24px",paddingBottom:24}},p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:this.startOrderNext.bind(this)},p.createElement(g.Z,{variant:"contained",style:{width:"100%"},className:"BtnCardMain CardInCardItem"},"Продолжить")))),!0===this.state.orderCheck?p.createElement(C.Z,{open:this.state.orderCheck,fullWidth:!0,onClose:function(){return e.setState({orderCheck:!1})},className:"DialogOrderCheckDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Подтверждение заказа"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({orderCheck:!1})},icon:E.NBC}),p.createElement(P.Z,{style:{display:"flex",flexDirection:"column"}},1==parseInt(this.state.orderTimes)?null:p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Время предзаказа: ",this.state.orderPredDay+" "+this.state.orderPredTime),0==parseInt(this.state.orderType)?p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Доставим: ",this.state.orderAddr?this.state.orderAddr.city_name+", "+this.state.orderAddr.street+" "+this.state.orderAddr.home+(0==parseInt(this.state.orderAddr.pd)||0==this.state.orderAddr.pd.length?"":", Пд. "+this.state.orderAddr.pd)+(0==parseInt(this.state.orderAddr.et)||0==this.state.orderAddr.et.length?"":", Эт. "+this.state.orderAddr.et)+(0==parseInt(this.state.orderAddr.kv)||0==this.state.orderAddr.kv.length?"":", Кв. "+this.state.orderAddr.kv):null):p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Заберу: ",this.state.picPointInfo?this.state.picPointInfo.addr:""),0==parseInt(this.state.orderType)&&this.state.orderAddr&&0==parseInt(this.state.orderAddr.dom_true)?p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Домофон не работает"):null,this.state.orderPromo.length>0?p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Промокод: ",this.state.orderPromo):null,p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Оплачу: ",this.state.renderPay.find((function(t){return t.type==e.state.orderPay})).title),0==parseInt(this.state.orderType)&&"cash"==this.state.orderPay?this.state.orderSdacha.length>0?p.createElement(_.Z,{variant:"h5",component:"span",className:"nameSdacha orderCheckText"},"Сдача с: ",this.state.orderSdacha," ",p.createElement(fe,{width:"20",viewBox:"0 0 700 300"})):p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Без сдачи"):null,-1!=parseInt(this.state.orderType)?null:p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText",style:{color:"#c03"}},"Забрать заказ можно только в маске"),-1!=parseInt(this.state.orderType)?null:p.createElement(p.Fragment,null,p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},p.createElement(v.G,{icon:E.rtB}),' Уважаемые посетители кафе "Жако", посадка в зал осуществляется только при наличии qr - кода и документа, удостоверяющего личность. '),p.createElement(h.OL,{to:{pathname:"https://pravo.samregion.ru/wp-content/uploads/sites/2/2021/11/pgso291.pdf"},target:"_blank",style:{textDecoration:"none",color:"inherit",paddingBottom:10,marginTop:-10}},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Постановление губернатора Самарской области от 6.11.2021 г."))),(0==parseInt(this.state.orderType)&&parseInt(this.state.orderAddr.point_id),null),this.state.newOrderData&&this.state.newOrderData.dop_text&&this.state.newOrderData.dop_text.length>0?p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText",style:{fontWeight:"bold"}},this.state.newOrderData.dop_text):null,p.createElement("table",{className:"tableOrderCheck"},p.createElement("tbody",null,ne.Z.getItems().map((function(e,t){return parseInt(e.count)>0?p.createElement("tr",{key:t},p.createElement("td",{style:{width:"60%"}},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.name)),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.count)),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},e.all_price," ",p.createElement(fe,{width:"20",viewBox:"0 0 700 300"})))):null})),this.state.cartItems_promo.map((function(e,t){return p.createElement("tr",{key:t},p.createElement("td",{style:{width:"60%"}},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.name)),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.count)),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},e.allPrice," ",p.createElement(fe,{width:"20",viewBox:"0 0 700 300"}))))})),0==parseInt(this.state.orderType)?p.createElement("tr",null,p.createElement("td",{colSpan:"2"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Доставка")),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},ne.Z.getSumDiv()," ",p.createElement(fe,{width:"20",viewBox:"0 0 700 300"})))):null),p.createElement("tfoot",null,p.createElement("tr",null,p.createElement("td",{colSpan:"2"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText bold"},"Сумма заказа")),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},parseInt(ne.Z.getAllPrice())+parseInt(ne.Z.getSumDiv())," ",p.createElement(fe,{width:"20",viewBox:"0 0 700 300"}))))))),p.createElement(N.Z,{style:{padding:"12px 24px",paddingBottom:24}},"card"==this.state.orderPay?p.createElement("a",{href:this.state.newOrderData.pay.formUrl,className:"MuiButtonBase-root MuiBottomNavigationAction-root"},p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"}},p.createElement(g.Z,{variant:"contained",style:{width:"100%",margin:"0px 10px"},className:"BtnCardMain CardInCardItem"},"Оплатить заказ"))):p.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:this.trueOrder.bind(this)},p.createElement(g.Z,{variant:"contained",style:{width:"100%"},className:"BtnCardMain CardInCardItem"},"Подтвердить заказ")))):null)}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:ye(e),page:"cart"};return ce()({method:"POST",url:se().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:ue.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t,st:t.st}}})).catch((function(e){console.log(e)}))}},{key:"getDerivedStateFromError",value:function(e){fetch(se().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"save_log_err",page:"cart",error:JSON.stringify(e),info:""})}).then((function(e){return e.json()})).then((function(e){}))}}]),a}(p.Component)},6068:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Contact:()=>S});var n=a(5671),i=a(3144),s=a(7326),r=a(136),o=a(6215),l=a(1120),c=a(4942),m=a(885),d=a(7294),p=a(30),h=a(8727),u=a(808),g=a(231),y=a(1647),f=a(3508),_=a(6282),v=a(8811),E=a.n(v),x=a(4593),w=a(9669),b=a.n(w);var Z=a(7563);function I(e){var t=d.useState(!1),a=(0,m.Z)(t,2),n=a[0],i=a[1],s=e.points;return d.createElement("div",{className:"Accordion"},s.map((function(e,t){return d.createElement(h.Z,{key:t,expanded:n==="panel"+t,onChange:(a="panel"+t,function(e,t){i(!!t&&a)})},d.createElement(u.Z,{expandIcon:d.createElement(f.Z,null),"aria-controls":"panel"+t+"bh-content",id:"panel"+t+"bh-header"},d.createElement(y.Z,{variant:"h5",component:"span"},e.raion,": ",e.addr)),d.createElement(g.Z,{className:"AccordionDesc",style:{flexDirection:"column",padding:0}},d.createElement("div",null,d.createElement(y.Z,{variant:"h5",component:"b"},"Название организации: "),d.createElement(y.Z,{variant:"h5",component:"span"},e.organization)),d.createElement("div",null,d.createElement(y.Z,{variant:"h5",component:"b"},"ИНН / КПП: "),d.createElement(y.Z,{variant:"h5",component:"span"},e.inn," / ",e.kpp)),d.createElement("div",null,d.createElement(y.Z,{variant:"h5",component:"b"},"ОГРН: "),d.createElement(y.Z,{variant:"h5",component:"span"},e.ogrn)),d.createElement("div",null,d.createElement(y.Z,{variant:"h5",component:"b"},"Фактический адрес: "),d.createElement(y.Z,{variant:"h5",component:"span"},e.full_addr)),d.createElement("div",null,d.createElement(y.Z,{variant:"h5",component:"b"},"Телефон: "),d.createElement(y.Z,{variant:"h5",component:"span"},e.phone))));var a})))}var S=function(e){(0,r.Z)(h,e);var t,a,m=(t=h,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function h(e){var t;return(0,n.Z)(this,h),t=m.call(this,e),(0,c.Z)((0,s.Z)(t),"is_load_script",!1),(0,c.Z)((0,s.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),_.Z.setPage("contact"),h.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),fetch(E().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Z.stringify({type:"get_addr_zone_web",city_id:t.state.city_name})}).then((function(e){return e.json()})).then((function(e){var a=[];console.log(e),e.map((function(e){e.zone_origin.length>0&&a.push(JSON.parse(e.zone_origin))}));var n=[],i=!1;e.map((function(e){i=!1,n.map((function(t){parseInt(t.id)==parseInt(e.id)&&(i=!0)})),i||n.push(e)})),t.setState({points:e,unic_point:n,is_load:!0}),setTimeout((function(){t.loadMap(e,a)}),500)})).catch((function(e){}))})),t.state={points:[],unic_point:[],page:t.props.data?t.props.data.page:null,title:"",description:"",city_name:t.props.city,is_load:!1,is_load_script:!1},_.Z.setCity(t.props.city),t}return(0,i.Z)(h,[{key:"dynamicallyLoadScript",value:function(){if(!1===this.state.is_load_script){console.log("is_load_script");var e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?apikey=ae2bad1f-486e-442b-a9f7-d84fff6296db&lang=ru_RU",document.head.appendChild(e),this.setState({is_load_script:!0})}}},{key:"loadMap",value:function(e,t){var a;ymaps.ready((function(){a=new ymaps.Map("ForMap",{center:[e[0].xy_center_map.latitude,e[0].xy_center_map.longitude],zoom:10.8});var n=ymaps.templateLayoutFactory.createClass("<div class='my-hint'><b>{{ properties.address }}</b><br />Зона {{ properties.zone }}<br />График работы: c 10:00 до 21:30<br />Стоимость доставки: {{ properties.sum_div }} руб.</div>");t.map((function(t,i){a.geoObjects.add(new ymaps.Polygon([t],{address:e[i].addr,sum_div:e[i].sum_div,zone:e[i].test},{hintLayout:n,fillColor:"rgba(187, 0, 37, 0.25)",strokeColor:"rgb(187, 0, 37)",strokeWidth:5}))})),e.map((function(e){a.geoObjects.add(new ymaps.Placemark([e.xy_point.latitude,e.xy_point.longitude],{},{iconLayout:"default#image",iconImageHref:"/assets/img_other/Favikon.png",iconImageSize:[30,30],iconImageOffset:[-12,-24],iconContentOffset:[15,15]}))}))}))}},{key:"render",value:function(){return d.createElement(p.ZP,{container:!0,className:"Contact mainContainer MuiGrid-spacing-xs-3"},d.createElement(x.q,null,d.createElement("title",null,this.state.title),d.createElement("meta",{name:"description",content:this.state.description})),d.createElement(p.ZP,{item:!0,xs:12},d.createElement(y.Z,{variant:"h5",component:"h1"},"Контакты")),d.createElement(p.ZP,{item:!0,lg:4,md:4,xl:4,sm:12,xs:12,className:"mainContainer"},d.createElement(y.Z,{variant:"h5",component:"h2"},"Режим работы"),d.createElement(y.Z,{variant:"h5",component:"span",className:"p20"},"Работаем ежедневно с 10:00 до 21:30"),d.createElement(y.Z,{variant:"h5",component:"h2"},"Телефон контакт-центра:"),this.state.points[0]?d.createElement(y.Z,{variant:"h5",component:"a",className:"p20",href:"tel:"+this.state.points[0].phone_new},this.state.points[0].phone):null,d.createElement(y.Z,{variant:"h5",component:"h2"},"Адреса кафе:"),d.createElement(I,{points:this.state.unic_point})),d.createElement(p.ZP,{item:!0,lg:8,md:8,xl:8,sm:12,xs:12,id:"ForMap"},d.createElement("div",{style:{width:"100%",height:"100%",marginRight:12,backgroundColor:"#e5e5e5"}})))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"contacts"};return b()({method:"POST",url:E().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Z.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),h}(d.Component)},7227:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Home:()=>Q,HomeCat:()=>X});var n=a(7462),i=a(5671),s=a(3144),r=a(7326),o=a(136),l=a(6215),c=a(1120),m=a(4942),d=a(7294),p=a(3727),h=a(30),u=a(6482),g=a(3085),y=a(2530),f=a(1822),_=a(1647),v=a(986),E=a(6261),x=a(9669),w=a.n(x),b=a(4593),Z=a(8653),I=a(7745),S=a(4498),C=a(6282),k=a(8811),P=a.n(k),N=a(8949),T=a(5425),A=a(8720),D=a(6406),M=a(1225),O=(a(8988),a(5503)),B=a(4465),R=a(7660);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,l.Z)(this,a)}}var L=E.W_,z=(E.zW,E.OK),W=a(7563),F=null,H=function(e){(0,o.Z)(a,e);var t=j(a);function a(e){var n;return(0,i.Z)(this,a),n=t.call(this,e),(0,m.Z)((0,r.Z)(n),"swiper",null),n.state={data:n.props.data,type:n.props.type},n}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){var e=this.state.data.length;this.swiper=new Swiper(".swiper-container",{grabCursor:1!=e,loop:1!=e,centeredSlidesBounds:!1,setWrapperSize:1!=e,autoHeight:!0,centeredSlides:!0,slidesPerView:1,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",type:"bullets"},navigation:1==e?{}:"pc"==this.state.type?{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}:{}})}},{key:"render",value:function(){return d.createElement("div",{className:"swiper-container swiper_"+this.state.type+" _h1_",style:{overflow:"hidden",position:"relative"}},d.createElement("div",{className:"swiper-wrapper _h2_ _count_"+this.state.data.length},this.state.data.map((function(e,t){return d.createElement("div",{className:"swiper-slide _h3_ "+t,key:t},e)}))),1==this.state.data.length?null:"pc"==this.state.type?d.createElement(d.Fragment,null,d.createElement("div",{className:"swiper-pagination"}),d.createElement("div",{className:"swiper-button-prev"}),d.createElement("div",{className:"swiper-button-next"})):null)}}]),a}(d.Component),G=function(e){return e.preventDefault()};function U(e){return e=(e=e.split("/")).filter((function(e){return""!=e})),e[0]}function q(e){var t=(0,M.Z)("(min-width:600px)",{noSsr:!1}),a=e.device?e.device:!0===t?"desktop":"mobile";return"bot"==e.type?"desktop"==a?d.createElement(h.ZP,{item:!0,className:"_PC_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:"flex"},style:{padding:"30px 16px",width:"100%"}},d.createElement(J,{data:e.data,type:"pc",openItem:e.openItemPC})):d.createElement(h.ZP,{item:!0,className:"_mobile_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:"flex"},style:{padding:"10px 0px",borderBottom:e.isLast?"none":"1px solid rgba(27, 27, 31, 0.1)"}},d.createElement(J,{data:e.data,type:"mobile",openItem:e.openItemMobile})):"desktop"==a?d.createElement(h.ZP,{item:!0,className:"_PC_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:"flex"},style:{padding:"30px 16px",width:"100%"}},d.createElement(K,{data:e.data,type:"pc",openItem:e.openItemPC})):d.createElement(h.ZP,{item:!0,className:"_mobile_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:"flex"},style:{padding:"10px 0px",borderBottom:e.isLast?"none":"1px solid rgba(27, 27, 31, 0.1)"}},d.createElement(K,{data:e.data,type:"mobile",openItem:e.openItemMobile}))}var K=function(e){(0,o.Z)(a,e);var t=j(a);function a(e){var n;return(0,i.Z)(this,a),n=t.call(this,e),(0,m.Z)((0,r.Z)(n),"_isMounted",!1),n.state={item:n.props.data,count:0,is_old_price:!1,old_price:0},n}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=C.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));if(t){this.setState({count:t.count});var a=C.Z.getCity();"samara"!=a||70!=parseInt(this.state.item.id)&&71!=parseInt(this.state.item.id)&&7!=parseInt(this.state.item.id)||this.setState({}),"samara"==a&&4==parseInt(this.state.item.id)&&this.setState({}),"togliatti"!=a||70!=parseInt(this.state.item.id)&&71!=parseInt(this.state.item.id)&&7!=parseInt(this.state.item.id)||this.setState({}),"togliatti"==a&&4==parseInt(this.state.item.id)&&this.setState({})}(0,N.EH)((function(){if(e._isMounted){var t=C.Z.getCity();"samara"!=t||70!=parseInt(e.state.item.id)&&71!=parseInt(e.state.item.id)&&7!=parseInt(e.state.item.id)||e.setState({}),"samara"==t&&4==parseInt(e.state.item.id)&&e.setState({}),"togliatti"!=t||70!=parseInt(e.state.item.id)&&71!=parseInt(e.state.item.id)&&7!=parseInt(e.state.item.id)||e.setState({}),"togliatti"==t&&4==parseInt(e.state.item.id)&&e.setState({});var a=C.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));a?e.setState({count:a.count}):e.setState({count:0})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(){this._isMounted&&C.Z.AddItem(this.state.item.id)}},{key:"minus",value:function(){this._isMounted&&C.Z.MinusItem(this.state.item.id)}},{key:"isEqual",value:function(e,t){var a=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(a.length!==n.length)return!1;for(var i=0;i<a.length;i+=1){var s=a[i];if(e[s]!==t[s])return!1}return!0}},{key:"shouldComponentUpdate",value:function(e,t){return!this.isEqual(t,this.state)||this.props.type!==e.type}},{key:"render",value:function(){var e=this,t=this.state.item.img_app.length>0?this.state.item.img_app:this.state.item.img_new,a=this.state.item.img_app.length>0?"new":"old",n=this.state.item.marc_desc.length>0?this.state.item.marc_desc:this.state.item.tmp_desc,i=0;return"pc"==this.props.type?(i=(("undefined"!=typeof window?window.innerWidth:1280)-140)/6,d.createElement(u.Z,{elevation:0,className:"CardItem",style:{width:"100%"}},d.createElement(y.Z,{style:{cursor:"pointer",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"},onClick:function(){return e.props.openItem(e.state.item.id)}},"old"==a?d.createElement("picture",null,d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{minHeight:150},loading:"lazy"})):d.createElement("picture",null,d.createElement("source",{type:"image/webp",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_276x276.webp 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.webp 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.webp 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_466x466.webp 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_585x585.webp 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_732x732.webp 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1168x1168.webp 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1420x1420.webp 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_2000x2000.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("source",{type:"image/jpeg",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_276x276.jpg 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.jpg 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.jpg 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_466x466.jpg 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_585x585.jpg 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_732x732.jpg 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1168x1168.jpg 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1420x1420.jpg 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("img",{alt:this.state.item.name,title:this.state.item.name,src:"https://storage.yandexcloud.net/site-img/".concat(t,"_292x292.jpg"),style:{minHeight:1.125*i,minWidth:1.125*i},loading:"lazy"})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:d.createElement(V,{size:"small",type:"hit",view:"pc"}):d.createElement(V,{size:"small",type:"new",view:"pc"}),d.createElement(_.Z,{className:"CardNameItem",variant:"h5",component:"h3",style:{flex:1}},this.state.item.name),d.createElement(y.Z,{style:{padding:0}},d.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:10,marginBottom:10}},d.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?230:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?75:135,height:34,border:"1px solid #dadada",borderRadius:15,display:"flex",flexDirection:"row"}},4==parseInt(this.state.item.cat_id)?d.createElement("div",{style:{height:34,borderRight:"1px solid #dadada",flex:3,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},this.state.item.count_part_new)):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?null:d.createElement("div",{style:{height:34,borderRight:"1px solid #dadada",flex:4==parseInt(this.state.item.cat_id)?2:3,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza:this.state.item.count_part," ",14==parseInt(this.state.item.cat_id)?"см":6==parseInt(this.state.item.cat_id)?"л":"шт."," ")),d.createElement("div",{style:{height:34,flex:3,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")))),d.createElement("div",{style:{height:120,width:"100%",marginBottom:10,textAlign:"center",overflow:"hidden"}},d.createElement(_.Z,{component:"span",className:"hidddenText5",style:{fontFamily:"Roboto",fontSize:"0.925rem",color:"#525252"}},n)))),d.createElement(g.Z,{style:{padding:0,width:"100%"}},0==this.state.count?d.createElement(D.GP,{price:this.state.item.price,add:this.add.bind(this)}):d.createElement(D.MG,{count:this.state.count,price:this.state.item.price,item_id:this.state.item.id,minus:this.minus.bind(this),add:this.add.bind(this)})))):"mobile"==this.props.type?(i=(("undefined"!=typeof window?window.innerWidth:320)-140)/6,d.createElement(h.ZP,{item:!0,container:!0,xs:12,className:"CardItem_mobile",style:{display:"flex",flexDirection:"row",flexWrap:"nowrap"}},d.createElement(h.ZP,{style:{position:"relative",marginRight:"3%"},item:!0,onClick:function(){return e.props.openItem(e.state.item.id)}},"old"==a?d.createElement("picture",null,d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{width:3*i+40,height:"auto"},loading:"lazy"})):d.createElement("picture",null,d.createElement("source",{type:"image/webp",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.webp 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_146x146.webp 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_183x183.webp 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_233x233.webp 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.webp 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.webp 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_584x584.webp 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_760x760.webp 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("source",{type:"image/jpeg",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.jpg 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_146x146.jpg 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_183x183.jpg 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_233x233.jpg 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.jpg 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.jpg 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_584x584.jpg 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_760x760.jpg 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("img",{alt:this.state.item.name,title:this.state.item.name,src:"https://storage.yandexcloud.net/site-img/".concat(t,"_366x366.jpg"),style:{width:3*i+40,height:3*i+40},loading:"lazy"})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:d.createElement(V,{size:"small",type:"hit",view:"mobile"}):d.createElement(V,{size:"small",type:"new",view:"mobile"})),d.createElement(h.ZP,{item:!0,className:"SecondBox_",style:{width:"100%",display:"flex",flexDirection:"column",position:"relative",justifyContent:"flex-end"}},d.createElement(_.Z,{className:"CardNameItem_",variant:"h5",component:"h3",style:{fontFamily:"Roboto",fontSize:"1.0625rem",fontWeight:"500",color:"#525252",marginBottom:10},onClick:function(){return e.props.openItem(e.state.item.id)}},this.state.item.name),4==parseInt(this.state.item.cat_id)?d.createElement("div",{style:{width:148,height:28,display:"flex",flexDirection:"row",alignItems:"center",border:"1px solid #dadada",borderRadius:10,marginBottom:10}},d.createElement("div",{style:{flex:3,textAlign:"center",borderRight:"1px solid #dadada",height:28,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement(_.Z,{style:{fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",lineHeight:0},component:"span"},this.state.item.count_part_new)),d.createElement("div",{style:{flex:2,textAlign:"center",height:28,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement(_.Z,{style:{fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",lineHeight:0},component:"span"},this.state.item.count_part," шт."))):null,d.createElement(_.Z,{className:"CardInfoItem_ hidddenText3",style:{marginBottom:10,fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",maxHeight:60,overflow:"hidden"},component:"p",onClick:function(){return e.props.openItem(e.state.item.id)}},n),d.createElement("div",{style:{marginBottom:10}},0==this.state.count?d.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"outlined",className:"MobileActionsCartButtonStart"},d.createElement(f.Z,{variant:"outlined",onClick:this.add.bind(this)},"В корзину за ",new Intl.NumberFormat("ru-RU").format(parseInt(this.state.item.price)),d.createElement(D.Ir,{style:{width:11,height:11,fill:"#525252",marginLeft:3,paddingBottom:1}}))):d.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"MobileActionsCartButton"},d.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN"},d.createElement("span",{className:"minus",onClick:this.minus.bind(this)},"–"),d.createElement("span",null,this.state.count),d.createElement("span",{className:"plus",onClick:this.add.bind(this)},"+"))))))):void 0}}]),a}(d.Component),J=function(e){(0,o.Z)(a,e);var t=j(a);function a(e){var n;return(0,i.Z)(this,a),n=t.call(this,e),(0,m.Z)((0,r.Z)(n),"_isMounted",!1),n.state={item:n.props.data,count:0,is_old_price:!1,old_price:0},n}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=C.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));if(t){this.setState({count:t.count});var a=C.Z.getCity();"samara"!=a||70!=parseInt(this.state.item.id)&&71!=parseInt(this.state.item.id)&&7!=parseInt(this.state.item.id)||this.setState({}),"samara"==a&&4==parseInt(this.state.item.id)&&this.setState({}),"togliatti"!=a||70!=parseInt(this.state.item.id)&&71!=parseInt(this.state.item.id)&&7!=parseInt(this.state.item.id)||this.setState({}),"togliatti"==a&&4==parseInt(this.state.item.id)&&this.setState({})}(0,N.EH)((function(){if(e._isMounted){var t=C.Z.getCity();"samara"!=t||70!=parseInt(e.state.item.id)&&71!=parseInt(e.state.item.id)&&7!=parseInt(e.state.item.id)||e.setState({}),"samara"==t&&4==parseInt(e.state.item.id)&&e.setState({}),"togliatti"!=t||70!=parseInt(e.state.item.id)&&71!=parseInt(e.state.item.id)&&7!=parseInt(e.state.item.id)||e.setState({}),"togliatti"==t&&4==parseInt(e.state.item.id)&&e.setState({});var a=C.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));a?e.setState({count:a.count}):e.setState({count:0})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(){this._isMounted&&C.Z.AddItem(this.state.item.id)}},{key:"minus",value:function(){this._isMounted&&C.Z.MinusItem(this.state.item.id)}},{key:"isEqual",value:function(e,t){var a=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(a.length!==n.length)return!1;for(var i=0;i<a.length;i+=1){var s=a[i];if(e[s]!==t[s])return!1}return!0}},{key:"shouldComponentUpdate",value:function(e,t){return!this.isEqual(t,this.state)}},{key:"render",value:function(){var e=this,t=this.state.item.img_app.length>0?this.state.item.img_app:this.state.item.img_new,a=this.state.item.img_app.length>0?"new":"old",n=this.state.item.marc_desc.length>0?this.state.item.marc_desc:this.state.item.tmp_desc,i=0;return"pc"==this.props.type?(i=(("undefined"!=typeof window?window.innerWidth:1280)-140)/6,d.createElement(u.Z,{elevation:0,className:"CardItem",style:{width:"100%"}},d.createElement(y.Z,{style:{cursor:"pointer",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"},onClick:function(){return e.props.openItem(e.state.item.id)}},"old"==a?d.createElement("picture",null,d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"300х200.webp?"+this.state.item.img_new_update,type:"image/webp"}),d.createElement("img",{datasrc:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"300х200.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{minHeight:150},loading:"lazy"})):d.createElement("picture",null,d.createElement("source",{type:"image/webp",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.webp 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_146x146.webp 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_183x183.webp 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_233x233.webp 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.webp 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.webp 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_584x584.webp 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_760x760.webp 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("source",{type:"image/jpeg",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.jpg 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_146x146.jpg 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_183x183.jpg 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_233x233.jpg 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.jpg 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.jpg 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_584x584.jpg 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_760x760.jpg 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("img",{alt:this.state.item.name,title:this.state.item.name,loading:"lazy",datasrc:"https://storage.yandexcloud.net/site-img/".concat(t,"138x138.jpg")})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:d.createElement(V,{size:"small",type:"hit",view:"pc"}):d.createElement(V,{size:"small",type:"new",view:"pc"}),d.createElement(_.Z,{className:"CardNameItem",variant:"h5",component:"h3",style:{flex:1}},this.state.item.name),d.createElement(y.Z,{style:{padding:0}},d.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:10,marginBottom:10}},d.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?230:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?75:135,height:34,border:"1px solid #dadada",borderRadius:15,display:"flex",flexDirection:"row"}},4==parseInt(this.state.item.cat_id)?d.createElement("div",{style:{height:34,borderRight:"1px solid #dadada",flex:3,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},this.state.item.count_part_new)):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?null:d.createElement("div",{style:{height:34,borderRight:"1px solid #dadada",flex:4==parseInt(this.state.item.cat_id)?2:3,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza:this.state.item.count_part," ",14==parseInt(this.state.item.cat_id)?"см":6==parseInt(this.state.item.cat_id)?"л":"шт."," ")),d.createElement("div",{style:{height:34,flex:3,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")))),d.createElement("div",{style:{height:120,width:"100%",marginBottom:10,textAlign:"center",overflow:"hidden"}},d.createElement(_.Z,{component:"span",className:"hidddenText5",style:{fontFamily:"Roboto",fontSize:"0.925rem",color:"#525252"}},n)))),d.createElement(g.Z,{style:{padding:0,width:"100%"}},0==this.state.count?d.createElement(D.GP,{price:this.state.item.price,add:this.add.bind(this)}):d.createElement(D.MG,{count:this.state.count,price:this.state.item.price,item_id:this.state.item.id,minus:this.minus.bind(this),add:this.add.bind(this)})))):"mobile"==this.props.type?(i=(("undefined"!=typeof window?window.innerWidth:320)-140)/6,d.createElement(h.ZP,{item:!0,container:!0,xs:12,className:"CardItem_mobile",style:{display:"flex",flexDirection:"row",flexWrap:"nowrap"}},d.createElement(h.ZP,{style:{position:"relative",marginRight:20},item:!0,onClick:function(){return e.props.openItem(e.state.item.id)}},"old"==a?d.createElement("picture",null,d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"300х200.webp?"+this.state.item.img_new_update,type:"image/webp"}),d.createElement("img",{datasrc:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"300х200.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{width:3*i+40,height:"auto"},loading:"lazy"})):d.createElement("picture",null,d.createElement("source",{type:"image/webp",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.webp 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_146x146.webp 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_183x183.webp 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_233x233.webp 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.webp 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.webp 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_584x584.webp 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_760x760.webp 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("source",{type:"image/jpeg",srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.jpg 138w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_146x146.jpg 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_183x183.jpg 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_233x233.jpg 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.jpg 292w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.jpg 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_584x584.jpg 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_760x760.jpg 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("img",{alt:this.state.item.name,title:this.state.item.name,loading:"lazy",style:{width:3*i+40,height:3*i+40},datasrc:"https://storage.yandexcloud.net/site-img/".concat(t,"138x138.jpg")})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:d.createElement(V,{size:"small",type:"hit",view:"mobile"}):d.createElement(V,{size:"small",type:"new",view:"mobile"})),d.createElement(h.ZP,{item:!0,className:"SecondBox_",style:{width:"max-content",display:"flex",flexDirection:"column",position:"relative",justifyContent:"flex-end"}},d.createElement(_.Z,{className:"CardNameItem_",variant:"h5",component:"h3",style:{fontFamily:"Roboto",fontSize:"1.0625rem",fontWeight:"500",color:"#525252",marginBottom:10},onClick:function(){return e.props.openItem(e.state.item.id)}},this.state.item.name),4==parseInt(this.state.item.cat_id)?d.createElement("div",{style:{width:148,height:28,display:"flex",flexDirection:"row",alignItems:"center",border:"1px solid #dadada",borderRadius:10,marginBottom:10}},d.createElement("div",{style:{flex:3,textAlign:"center",borderRight:"1px solid #dadada",height:28,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement(_.Z,{style:{fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",lineHeight:0},component:"span"},this.state.item.count_part_new)),d.createElement("div",{style:{flex:2,textAlign:"center",height:28,display:"flex",alignItems:"center",justifyContent:"center"}},d.createElement(_.Z,{style:{fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",lineHeight:0},component:"span"},this.state.item.count_part," шт."))):null,d.createElement(_.Z,{className:"CardInfoItem_ hidddenText3",style:{marginBottom:10,fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",maxHeight:60,overflow:"hidden"},component:"p",onClick:function(){return e.props.openItem(e.state.item.id)}},n),d.createElement("div",{style:{marginBottom:10}},0==this.state.count?d.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"outlined",className:"MobileActionsCartButtonStart"},d.createElement(f.Z,{variant:"outlined",onClick:this.add.bind(this)},"В корзину за ",new Intl.NumberFormat("ru-RU").format(parseInt(this.state.item.price)),d.createElement(D.Ir,{style:{width:11,height:11,fill:"#525252",marginLeft:3,paddingBottom:1}}))):d.createElement(v.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"MobileActionsCartButton"},d.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN"},d.createElement("span",{className:"minus",onClick:this.minus.bind(this)},"–"),d.createElement("span",null,this.state.count),d.createElement("span",{className:"plus",onClick:this.add.bind(this)},"+"))))))):void 0}}]),a}(d.Component),V=function(e){(0,o.Z)(a,e);var t=j(a);function a(e){var n;return(0,i.Z)(this,a),n=t.call(this,e),(0,m.Z)((0,r.Z)(n),"arrColor",{new:{color:"#EE7900",text:"новинка"},hit:{color:"#AF00DB",text:"хит"},sale:{color:"#DB0021",text:"скидка"}}),n.state={size:n.props.size,view:n.props.view,color:n.arrColor[n.props.type].color,text:n.arrColor[n.props.type].text},n}return(0,s.Z)(a,[{key:"render",value:function(){return d.createElement("div",{style:{position:"absolute",top:"mobile"==this.state.view?0:20,left:"mobile"==this.state.view?-10:20}},d.createElement("div",{style:{width:"small"==this.state.size?84:114,height:"small"==this.state.size?34:44,backgroundColor:"rgba(255, 255, 255, 0.6)",borderRadius:15}}),d.createElement("div",{style:{width:"small"==this.state.size?80:110,height:"small"==this.state.size?30:40,backgroundColor:this.state.color,borderRadius:15,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:2,left:2}},d.createElement(_.Z,{component:"span",style:{fontFamily:"Roboto",fontSize:"0.75rem",fontWeight:400,color:"#fff",textTransform:"uppercase",lineHeight:1}},this.state.text)))}}]),a}(d.Component),Y=d.forwardRef((function(e,t){return d.createElement(T.Z,(0,n.Z)({direction:"up",ref:t},e))})),X=function(e){(0,o.Z)(a,e);var t=j(a);function a(e){var n;return(0,i.Z)(this,a),(n=t.call(this,e)).state={},n}return(0,s.Z)(a,[{key:"render",value:function(){return d.createElement(Q,{data:this.props.data,city:this.props.city,this_link:this.props.this_link,device:this.props.device})}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:U(e),page:"",link:e};return w()({method:"POST",url:P().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:W.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),a}(d.Component),Q=function(e){(0,o.Z)(a,e);var t=j(a);function a(e){var n;return(0,i.Z)(this,a),n=t.call(this,e),(0,m.Z)((0,r.Z)(n),"_isMounted",!1),(0,m.Z)((0,r.Z)(n),"startMove",0),(0,m.Z)((0,r.Z)(n),"activeID",0),(0,m.Z)((0,r.Z)(n),"firebaseAnalitic",null),(0,m.Z)((0,r.Z)(n),"componentDidMount",(function(){n._isMounted=!0;var e=Date.now(),t=[];F=(0,O.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),n.firebaseAnalitic=(0,B.IH)(F),C.Z.getAllItemsCatNew();var i=C.Z.getAllItemsCat();n._isMounted,setTimeout((function(){window.addEventListener("scroll",(function(){if(n._isMounted&&e+700-Date.now()<0){if(i.map((function(e,a){var n=document.getElementById("cat"+e.id);if(n){var i=n.getBoundingClientRect().top+document.body.scrollTop-200;i<0&&t.push({name:e.name,Y:i,main_id:e.main_id,id:e.id})}})),t.length>0){var a=t[t.length-1];t=[];var s=i.filter((function(e){return parseInt(e.main_id)==parseInt(a.main_id)}));a&&n.activeID!=parseInt(a.main_id)&&0!=parseInt(a.main_id)&&(document.querySelector("#link_"+a.main_id)&&(document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),document.querySelector("#link_"+a.main_id).classList.add("activeCat")),s.length>1?n.setState({doubleCatList:s}):n.setState({doubleCatList:[]}),n.activeID=parseInt(a.main_id))}e=Date.now()}})),n.setState({is_load:!0})}),50),n.state.city_name,"undefined"!=typeof window&&(setTimeout((function(){if(localStorage.getItem("goTo")){var e=localStorage.getItem("goTo");localStorage.removeItem("goTo");var t=120;document.querySelector(".scrollCat.mobile")&&(t+=120),setTimeout((function(){z.scrollTo("myScrollToElement",{duration:800,delay:800,smooth:"easeInOutQuart",offset:document.getElementById("cat"+e).getBoundingClientRect().y-t})}),150)}}),1e3),setTimeout((function(){var e=window.location.search;if(e.length>0){var t=e.split("?showItem="),a=(C.Z.getAllItems(),t[1]);a=a.split("&")[0],window.innerWidth<=500?n.openItem(a):n.openItemPC(a)}var i=window.location.pathname,s=(i=i.split("/")).find((function(e){return"menu"==e}));if(s&&s.length>0){var r=i.find((function(e){return"item"==e}));if(!r){var o=i.findIndex((function(e){return"menu"==e}));i[o+1]}}}),750)),a.fetchData("/"+n.state.city_name).then((function(e){!0===n._isMounted&&n.setState({page:e.page,title:e.title,description:e.description})})),C.Z.setPage("home"),0==C.Z.getAllItemsCat().length&&!0===n._isMounted&&n.setState({allItems:C.Z.getAllItemsCat()}),window.scrollTo(0,0),(0,N.EH)((function(){!0===n._isMounted&&(n.setState({allItems:C.Z.getAllItemsCat(),mainLink:C.Z.getMainLink()}),n.loadBanners(C.Z.getBanners()))}))})),n.state={allItems:[],is_load:!1,testData:[1,2,3,4,5,6,7,8],openItem:null,openItemSet:null,openModal:!1,openModalPC:!1,openModalPCSet:!1,openModalPCSetItems:[],openModalPCInfo:!1,openModalPCInfoItems:[],banners_pc:[],banners_mobile:[],city_name:n.props.city,page:n.props.data?n.props.data.page:null,title:n.props.data?n.props.data.title:null,description:n.props.data?n.props.data.description:null,device:n.props.data?n.props.data.device:null,mainLink:n.props.this_link,doubleCatList:[],mainCatActive:0,doubleCatActive:0},n.props.data&&n.loadBanners(n.props.data.all.other.cats.baners),C.Z.setCity(n.props.city),n}return(0,s.Z)(a,[{key:"loadBanners",value:function(e){var t=this,a=[],n=[];e.map((function(e,i){e.aktia_id&&parseInt(e.aktia_id)>0?(a.push(d.createElement(p.OL,{to:"/"+C.Z.getCity()+"/akcii?act_"+e.aktia_id,exact:!0,style:{width:"inherit",height:"auto"}},d.createElement("picture",{style:{width:"inherit",height:"auto"}},d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.webp?"+e.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto",minHeight:200},onDragStart:G})))),n.push(d.createElement(p.OL,{to:"/"+C.Z.getCity()+"/akcii?act_"+e.aktia_id,exact:!0,style:{width:"inherit",height:"auto"}},d.createElement("picture",{style:{width:"inherit",height:"auto"}},d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.webp?"+e.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto"},onDragStart:G}))))):e.item&&parseInt(e.item)>0?(a.push(d.createElement("picture",{style:{width:"inherit",height:"auto"}},d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.webp?"+e.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto",minHeight:200},onDragStart:G,onClick:t.openItemPC.bind(t,e.item)}))),n.push(d.createElement("picture",{style:{width:"inherit",height:"auto"}},d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.webp?"+e.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto"},onDragStart:G,onClick:t.openItem.bind(t,e.item)})))):(a.push(d.createElement("picture",{style:{width:"inherit",height:"auto"}},d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.webp?"+e.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto",minHeight:200},onDragStart:G}))),n.push(d.createElement("picture",{style:{width:"inherit",height:"auto"}},d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.webp?"+e.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto"},onDragStart:G}))))})),this.setState({banners_pc:a,banners_mobile:n})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUmount",value:function(){window.removeEventListener("scroll")}},{key:"openItem",value:function(e){var t=C.Z.getAllItems().find((function(t){return t.id==e})),a={item_id:t.id,item_name:t.name},n=window.location.pathname+"?showItem="+t.id;(0,B.Kz)(this.firebaseAnalitic,"open_item",{content_type:"item",content_id:t.id,items:[{name:t.name}]}),window.history.pushState(a,"",n),this.setState({openItem:t,openModal:!0}),setTimeout((function(){}),300)}},{key:"openItemPC",value:function(e){var t=C.Z.getAllItems().find((function(t){return t.id==e})),a={item_id:t.id,item_name:t.name},n=window.location.pathname+"?showItem="+t.id;(0,B.Kz)(this.firebaseAnalitic,"open_item",{content_type:"item",content_id:t.id,items:[{name:t.name}]}),window.history.pushState(a,"",n),this.setState({openItem:t,openModalPC:!0})}},{key:"openModal",value:function(){this.setState({openModal:!0})}},{key:"handleClose",value:function(){var e=window.location.pathname;window.history.pushState({},"",e),this.setState({openModal:!1,openItem:null})}},{key:"handleClosePC",value:function(){var e=window.location.pathname;window.history.pushState({},"",e),this.setState({openModalPC:!1,openItem:null,openModalPCSet:!1,openModalPCSetItems:[]})}},{key:"handleClosePCSet",value:function(){this.setState({openModalPCSet:!1,openModalPCSetItems:[]})}},{key:"handleClosePCInfo",value:function(){this.setState({openModalPCInfo:!1,openModalPCInfoItems:[]})}},{key:"touchStart",value:function(e){this.startMove=e.changedTouches[0].pageY}},{key:"touchEnd",value:function(e){e.changedTouches[0].pageY-this.startMove>125&&this.handleClose()}},{key:"openSetPc",value:function(e){this.setState({openModalPCSet:!0,openModalPCSetItems:e})}},{key:"openInfo",value:function(e){this.setState({openModalPCInfo:!0,openModalPCInfoItems:e})}},{key:"render",value:function(){var e=this,t=this.state.mainLink;t=t.split("/");var a="",n=t.find((function(e){return"menu"==e}));if(n&&n.length>0){var i=t.find((function(e){return"item"==e}));if(!i){var s=t.findIndex((function(e){return"menu"==e}));a=t[s+1]}}if("undefined"!=typeof window){var r=window.location.href;if(this.state.mainLink!=r&&(t=(t=r).split("/"),a="",n=t.find((function(e){return"menu"==e})),n&&n.length>0)){var o=t.find((function(e){return"item"==e}));if(!o){var l=t.findIndex((function(e){return"menu"==e}));a=t[l+1]}}}return this.state.is_load,d.createElement(L,{name:"myScrollToElement",className:"Category"},d.createElement(b.q,null,d.createElement("title",null,this.state.title),d.createElement("meta",{name:"description",content:this.state.description})),d.createElement(A.Z,{sx:{display:{xs:"none",md:"block"}}},0==this.state.banners_pc.length?null:d.createElement(H,{type:"pc",data:this.state.banners_pc})),d.createElement(A.Z,{sx:{display:{xs:"block",md:"none"}}},0==this.state.banners_mobile.length?null:d.createElement(H,{type:"mobile",data:this.state.banners_mobile})),d.createElement(A.Z,{sx:{display:{xs:"flex",md:"none"}},className:"HomeCatList"},d.createElement("div",{className:"subHeaderBlock",name:"subHeaderBlock",id:"subHeaderBlock"},C.Z.getAllItemsCatNew().map((function(t,a){return d.createElement(E.rU,{key:a,to:"cat"+t.id,id:"catSubCat"+t.id,spy:!0,isDynamic:!0,onSetActive:function(a){if(parseInt(t.id)!=parseInt(e.state.mainCatActive)&&(e.setState({mainCatActive:t.id}),document.querySelector("#catSubCat"+t.id))){var n=document.querySelector("#subHeaderBlock"),i=document.getElementById("catSubCat"+t.id).getBoundingClientRect();n.scroll({left:i.x+i.width-150,behavior:"smooth"})}},smooth:!1,offset:-120},d.createElement("span",{className:parseInt(e.state.mainCatActive)==parseInt(t.id)?"headerCat activeCat":"headerCat",name:t.main_link,id:"link2_"+t.id},t.name))})))),0==this.state.doubleCatList.length?null:d.createElement(A.Z,{sx:{display:{xs:"flex",md:"none"}},className:"HomeSubCatList"},d.createElement("div",{className:"subHeaderBlock",id:"sub1HeaderBlock"},this.state.doubleCatList.map((function(t,a){return d.createElement(E.rU,{key:a,to:"cat"+t.id,id:"cat1SubCat"+t.id,spy:!0,isDynamic:!0,onSetActive:function(a){if((parseInt(t.main_id)!=parseInt(e.state.mainCatActive)||parseInt(t.id)!=parseInt(e.state.doubleCatActive))&&(e.setState({mainCatActive:t.main_id,doubleCatActive:t.id}),document.querySelector("#cat1SubCat"+t.id))){var n=document.querySelector("#sub1HeaderBlock"),i=document.getElementById("cat1SubCat"+t.id).getBoundingClientRect();n.scroll({left:i.x+i.width-150,behavior:"smooth"})}},smooth:!1,offset:-170},d.createElement("span",{className:parseInt(e.state.doubleCatActive)==parseInt(t.id)?"headerCat activeCat":"headerCat",name:t.main_link,id:"link3_"+t.id},t.short_name))})))),C.Z.getAllItemsCat().map((function(t,n){return t.items.length>0&&(""==a||a==t.main_link||a==t.link)?d.createElement("div",{key:n,name:"cat"+t.main_id,id:"cat"+t.id},d.createElement(h.ZP,{container:!0,spacing:2,sx:{padding:{xs:"0px 5%",sm:"0px 20px"}},style:{margin:0,flexWrap:"wrap",width:"100%"},className:"MainItems mainContainer"},t.items.map((function(a,i){return d.createElement(q,{openItemPC:e.openItemPC.bind(e),openItemMobile:e.openItem.bind(e),data:a,key:i,type:"user",isLast:t.items.length-1==i&&C.Z.getAllItemsCat().length-1==n,device:e.state.device})})))):null})),this.state.openItem?d.createElement(Z.Z,{disableElevation:!0,fullScreen:!0,open:this.state.openModal,className:"ItemDialog",onClose:this.handleClose.bind(this),TransitionComponent:Y},d.createElement(I.Z,{disableTypography:!0,style:{margin:0,padding:0}},d.createElement("div",{style:{position:"absolute",top:-36,left:15,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClose.bind(this)},d.createElement(D.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}}))),d.createElement("div",null,d.createElement(R.Item,{itemId:this.state.openItem.id,item:this.state.openItem,openSetPc:this.openSetPc.bind(this),openInfo:this.openInfo.bind(this),openModalPCInfo:this.state.openModalPCInfo}))):null,this.state.openItem?d.createElement(d.Fragment,null,d.createElement(Z.Z,{disableElevation:!0,maxWidth:"md",sx:{display:{xs:"none",md:"block",lg:"none"}},fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePC.bind(this),className:"modalActii Item OpenItemPC testModalMD",open:this.state.openModalPC},d.createElement("div",{className:"IconButtonClose","aria-label":"close",style:{position:"absolute",top:-52,left:16,zIndex:1500,width:52,height:52,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePC.bind(this)},d.createElement(D.bM,{style:{width:"inherit",height:"inherit",fill:"#fff",color:"#fff",overflow:"visible"}})),d.createElement(S.Z,{className:"modalActiiContentNew",style:{overflow:"hidden"}},d.createElement(R.Item,{itemId:this.state.openItem.id,item:this.state.openItem,openSetPc:this.openSetPc.bind(this),openInfo:this.openInfo.bind(this),openModalPCInfo:this.state.openModalPCInfo}))),d.createElement(Z.Z,{disableElevation:!0,maxWidth:"lg",sx:{display:{xs:"none",lg:"block"}},fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePC.bind(this),className:"modalActii Item OpenItemPC testModalLG",open:this.state.openModalPC},d.createElement("div",{className:"IconButtonClose","aria-label":"close",style:{position:"absolute",top:-32,left:16,zIndex:1500,width:25,height:25,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePC.bind(this)},d.createElement(D.bM,{style:{width:"inherit",height:"inherit",fill:"#fff",color:"#fff",overflow:"visible"}})),d.createElement(S.Z,{className:"modalActiiContentNew",style:{overflow:"hidden"}},d.createElement(R.Item,{itemId:this.state.openItem.id,item:this.state.openItem,openSetPc:this.openSetPc.bind(this),openInfo:this.openInfo.bind(this),openModalPCInfo:this.state.openModalPCInfo})))):null,this.state.openItem?d.createElement(d.Fragment,null,d.createElement(Z.Z,{sx:{display:{xs:"block",md:"none"}},disableElevation:!0,fullScreen:!0,style:{width:"100%",marginTop:this.state.openItem.items.length>1?400:470,borderTopRightRadius:30,borderTopLeftRadius:30},onClose:this.handleClosePCInfo.bind(this),className:"ItemDialog OpenItemMobInfo blurBacground",open:this.state.openModalPCInfo,TransitionComponent:Y},d.createElement(I.Z,{disableTypography:!0,style:{margin:0,padding:0}},d.createElement("div",{style:{position:"absolute",top:-36,left:15,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePCInfo.bind(this)},d.createElement(D.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}}))),d.createElement(S.Z,{className:"modalActiiContentNew",style:{height:this.state.openItem.items.length>1?"calc(100vh - 400px)":"calc(100vh - 470px)",padding:20,display:"flex",flexWrap:"wrap",alignContent:"start"}},d.createElement(_.Z,{variant:"h5",component:"h1",style:{textAlign:"center",fontFamily:"Roboto",fontWeight:700,fontSize:"1.625rem",color:"#fff",width:"100%",marginBottom:20}},"Пищевая ценность на 100 г"),1==this.state.openItem.items.length?null:d.createElement("div",{style:{width:"100%",height:2,backgroundColor:"#fff",marginBottom:20}}),d.createElement("div",{style:this.state.openItem.items.length>1?{overflowY:"scroll",maxHeight:200}:{}},this.state.openItem.items.map((function(t,a){return d.createElement("div",{style:{border:"2px solid #fff",borderRadius:10,marginBottom:1==e.state.openItem.items.length||e.state.openItem.items.length-1==a?0:20},key:a},d.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",borderBottom:"2px solid #fff"}},d.createElement("div",{style:{width:"75%",display:"flex",alignItems:"center",borderRight:"2px solid #fff",padding:10}},d.createElement(_.Z,{style:{fontFamily:"Roboto",fontWeight:400,fontSize:"1.1rem",lineHeight:1.25,color:"#fff"}},t.name)),d.createElement("div",{style:{width:"25%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:10}},d.createElement(_.Z,{style:{fontSize:"2rem",lineHeight:1,fontFamily:"Roboto",fontWeight:500,color:"#fff"}},t.kkal),d.createElement(_.Z,{style:{fontSize:"1rem",lineHeight:.8,fontFamily:"Roboto",fontWeight:400,color:"#fff"}},"ккал"))),d.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row"}},d.createElement("div",{style:{width:"50%",padding:10,borderRight:"2px solid #fff"}},d.createElement(_.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,color:"#fff"}},"Состав: ",t.tmp_desc)),d.createElement("div",{style:{width:"50%",padding:10},className:"styleTooltip"},d.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},d.createElement(_.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1,color:"#fff"}},"белки"),d.createElement(_.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3,color:"#fff"}},t.protein," г")),d.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},d.createElement(_.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1,color:"#fff"}},"жиры"),d.createElement(_.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3,color:"#fff"}},t.fat," г")),d.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},d.createElement(_.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1,color:"#fff"}},"углеводы"),d.createElement(_.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3,color:"#fff"}},t.carbohydrates," г")))))}))))),d.createElement(Z.Z,{sx:{display:{xs:"block",sm:"none"}},disableElevation:!0,fullScreen:!0,style:{height:"calc(100vh - 50px)",width:"100%"},onClose:this.handleClosePCSet.bind(this),className:"ItemDialog OpenItemMobSet",open:this.state.openModalPCSet,TransitionComponent:Y},d.createElement(I.Z,{disableTypography:!0,style:{margin:0,padding:0}},d.createElement("div",{style:{position:"absolute",top:-36,left:15,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePCSet.bind(this)},d.createElement(D.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}}))),d.createElement(S.Z,{className:"modalActiiContentNew",style:{height:"calc(100vh - 50px)",padding:20,display:"flex",flexWrap:"wrap",alignContent:"start"}},d.createElement(_.Z,{variant:"h5",component:"h1",style:{textAlign:"center",fontFamily:"Roboto",fontWeight:700,fontSize:"1.625rem",color:"#525252",width:"100%"}},this.state.openItem.name),d.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"}},d.createElement("div",{style:{width:4==parseInt(this.state.openItem.cat_id)?238:5==parseInt(this.state.openItem.cat_id)||6==parseInt(this.state.openItem.cat_id)||7==parseInt(this.state.openItem.cat_id)?78:148,height:28,border:"1px solid #DADADA",borderRadius:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginTop:10,marginBottom:20}},4==parseInt(this.state.openItem.cat_id)?d.createElement(d.Fragment,null,d.createElement(_.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},this.state.openItem.count_part_new),d.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})):null,5==parseInt(this.state.openItem.cat_id)||6==parseInt(this.state.openItem.cat_id)||7==parseInt(this.state.openItem.cat_id)?null:d.createElement(d.Fragment,null,d.createElement(_.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:4==parseInt(this.state.openItem.cat_id)?2:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},14==parseInt(this.state.openItem.cat_id)?this.state.openItem.size_pizza+" см":this.state.openItem.count_part+" шт."),d.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})),d.createElement(_.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.openItem.weight)," ",6==parseInt(this.state.openItem.cat_id)?"л":"г"))),d.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"calc(100vh - 250px)",overflow:"auto"}},this.state.openModalPCSetItems.map((function(e,t){return d.createElement("div",{key:t,style:{width:"100",display:"flex",flexDirection:"row",padding:"10px 0",borderTop:0==t?"1px solid rgba(27, 27, 31, 0.1)":null,borderBottom:"1px solid rgba(27, 27, 31, 0.1)"}},d.createElement("div",{style:{width:"40%",display:"flex",justifyContent:"center",alignItems:"center"}},0!=e.img_app.length&&e.img_app?d.createElement("picture",null,d.createElement("source",{type:"image/webp",srcset:"\n                                                                    https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_138x138.webp 138w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_146x146.webp 146w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_183x183.webp 183w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_233x233.webp 233w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_292x292.webp 292w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_366x366.webp 366w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_584x584.webp 584w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_760x760.webp 760w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("source",{type:"image/jpeg",srcset:"\n                                                                    https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_138x138.jpg 138w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_146x146.jpg 146w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_183x183.jpg 183w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_233x233.jpg 233w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_292x292.jpg 292w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_366x366.jpg 366w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_584x584.jpg 584w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_760x760.jpg 760w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("img",{alt:e.name,title:e.name,style:{width:"100%",height:"auto"},src:"https://storage.yandexcloud.net/site-img/".concat(e.img_app,"138x138.jpg")})):d.createElement("picture",null,d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.webp?"+e.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{width:"100%",height:"auto"}}))),d.createElement("div",{style:{width:"60%",display:"flex",flexDirection:"column",justifyContent:"center"}},d.createElement(_.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:700,fontSize:"1.06rem",color:"#525252"}},e.name),d.createElement(_.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:400,fontSize:"0.875rem",color:"#525252"}},e.tmp_desc)))}))))),d.createElement(Z.Z,{sx:{display:{xs:"none",md:"block",lg:"none"}},disableElevation:!0,maxWidth:"md",fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePCSet.bind(this),className:"modalActii Item OpenItemPCSet",open:this.state.openModalPCSet},d.createElement("div",{className:"IconButtonClose",style:{position:"absolute",top:-32,left:16,zIndex:2e3,width:25,height:25,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePCSet.bind(this)},d.createElement(D.bM,{style:{width:"inherit",height:"inherit",fill:"#fff",color:"#fff",overflow:"visible"}})),d.createElement(S.Z,{className:"modalActiiContentNew",style:{display:"flex",flexWrap:"wrap",padding:"2% 2.25% 2% 4.5%",marginRight:"1.5%",alignContent:"start"}},this.state.openModalPCSetItems.map((function(e,t){return d.createElement("div",{key:t,style:{width:"49%",display:"flex",flexDirection:"row",marginRight:0==t||t%2==0?"2%":0,marginBottom:"2%"}},d.createElement("div",{style:{width:"30%",display:"flex",justifyContent:"center",alignItems:"center"}},0!=e.img_app.length&&e.img_app?d.createElement("picture",null,d.createElement("source",{type:"image/webp",srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_138x138.webp 138w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_146x146.webp 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_183x183.webp 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_233x233.webp 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_292x292.webp 292w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_366x366.webp 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_584x584.webp 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_760x760.webp 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("source",{type:"image/jpeg",srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_138x138.jpg 138w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_146x146.jpg 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_183x183.jpg 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_233x233.jpg 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_292x292.jpg 292w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_366x366.jpg 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_584x584.jpg 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_760x760.jpg 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("img",{alt:e.name,title:e.name,style:{width:"100%",height:"auto"},src:"https://storage.yandexcloud.net/site-img/".concat(e.img_app,"138x138.jpg")})):d.createElement("picture",null,d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.webp?"+e.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{width:"100%",height:"auto"}}))),d.createElement("div",{style:{width:"70%",display:"flex",flexDirection:"column",justifyContent:"center"}},d.createElement(_.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:500,fontSize:"1.25rem"}},e.name),d.createElement(_.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:300,fontSize:"0.94rem"}},e.tmp_desc)))})))),d.createElement(Z.Z,{sx:{display:{xs:"none",lg:"block"}},disableElevation:!0,maxWidth:"lg",fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePCSet.bind(this),className:"modalActii Item OpenItemPCSet",open:this.state.openModalPCSet},d.createElement("div",{className:"IconButtonClose",style:{position:"absolute",top:-32,left:16,zIndex:2e3,width:25,height:25,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePCSet.bind(this)},d.createElement(D.bM,{style:{width:"inherit",height:"inherit",fill:"#fff",color:"#fff",overflow:"visible"}})),d.createElement(S.Z,{className:"modalActiiContentNew",style:{display:"flex",flexWrap:"wrap",padding:"2% 2.25% 2% 4.5%",marginRight:"1.5%",alignContent:"start"}},this.state.openModalPCSetItems.map((function(e,t){return d.createElement("div",{key:t,style:{width:"49%",display:"flex",flexDirection:"row",marginRight:0==t||t%2==0?"2%":0,marginBottom:"2%"}},d.createElement("div",{style:{width:"45%",display:"flex",justifyContent:"center",alignItems:"center"}},0!=e.img_app.length&&e.img_app?d.createElement("picture",null,d.createElement("source",{type:"image/webp",srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_138x138.webp 138w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_146x146.webp 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_183x183.webp 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_233x233.webp 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_292x292.webp 292w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_366x366.webp 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_584x584.webp 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_760x760.webp 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("source",{type:"image/jpeg",srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_138x138.jpg 138w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_146x146.jpg 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_183x183.jpg 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_233x233.jpg 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_292x292.jpg 292w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_366x366.jpg 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_584x584.jpg 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_760x760.jpg 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),d.createElement("img",{alt:e.name,title:e.name,style:{width:"100%",height:"auto"},src:"https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_138x138.jpg")})):d.createElement("picture",null,d.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.webp?"+e.img_new_update,type:"image/webp"}),d.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{width:"100%",height:"auto"}}))),d.createElement("div",{style:{width:"55%",display:"flex",flexDirection:"column",justifyContent:"center"}},d.createElement(_.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:500,fontSize:"1.25rem",color:"#525252"}},e.name),d.createElement(_.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:400,fontSize:"0.9rem",color:"#525252"}},e.tmp_desc)))}))))):null)}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:U(e),page:"",link:e};return w()({method:"POST",url:P().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:W.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),a}(d.Component)},7660:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Item:()=>W});var n=a(7462),i=a(5987),s=a(5671),r=a(3144),o=a(7326),l=a(136),c=a(6215),m=a(1120),d=a(4942),p=a(7294),h=a(30),u=a(1822),g=a(986),y=a(1647),f=a(8949),_=a(6282),v=a(8811),E=a.n(v),x=a(8720),w=a(4593),b=a(9669),Z=a.n(b),I=a(5697),S=a.n(I),C=a(4174),k=a(7575),P=a(7335),N=a(3926),T=a(6406),A=a(5503),D=a(4465),M=["className"];function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.Z)(e);if(t){var i=(0,m.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,c.Z)(this,a)}}var B=a(7563),R=null,j=function(e){(0,l.Z)(a,e);var t=O(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,d.Z)((0,o.Z)(n),"arrColor",{new:{color:"#EE7900",text:"новинка"},hit:{color:"#AF00DB",text:"хит"},sale:{color:"#DB0021",text:"скидка"}}),n.state={size:n.props.size,view:n.props.view,color:n.arrColor[n.props.type].color,text:n.arrColor[n.props.type].text},n}return(0,r.Z)(a,[{key:"render",value:function(){return p.createElement("div",{style:{position:"absolute",top:"mobile"==this.state.view?0:20,left:"mobile"==this.state.view?-10:20}},p.createElement("div",{style:{width:"small"==this.state.size?84:114,height:"small"==this.state.size?34:44,backgroundColor:"rgba(255, 255, 255, 0.6)",borderRadius:30}}),p.createElement("div",{style:{width:"small"==this.state.size?80:110,height:"small"==this.state.size?30:40,backgroundColor:this.state.color,borderRadius:30,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:2,left:2}},p.createElement(y.Z,{component:"span",style:{fontFamily:"Roboto",fontSize:"small"==this.state.size?"0.75rem":"1rem",fontWeight:400,color:"#fff",textTransform:"uppercase",lineHeight:1}},this.state.text)))}}]),a}(p.Component),L=(0,C.ZP)((function(e){var t=e.className,a=(0,i.Z)(e,M);return p.createElement(k.Z,(0,n.Z)({},a,{classes:{popper:t}}))}))((function(e){var t=e.theme;return(0,d.Z)({},"& .".concat(P.Z.tooltip),{maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"})}));function z(e){return(e=(e=e.split("/")).filter((function(e){return""!=e})))[e.length-1]}S().node,S().any.isRequired,S().any.isRequired;var W=function(e){(0,l.Z)(a,e);var t=O(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,d.Z)((0,o.Z)(n),"_isMounted",!1),(0,d.Z)((0,o.Z)(n),"swiper",null),(0,d.Z)((0,o.Z)(n),"startMove",0),(0,d.Z)((0,o.Z)(n),"firebaseAnalitic",null),(0,d.Z)((0,o.Z)(n),"changeTab",(function(e,t){n.setState({itemTab:t})})),n.state={item:n.props.item?n.props.item:[],is_load:!1,count:0,city_name:n.props.item?"":n.props.city,itemLink:n.props.item?"":n.props.linkItem,title:n.props.data?n.props.data.title:"",description:n.props.data?n.props.data.description:"",itemTab:0,openTooltip:!1,img_name:n.props.item?n.props.item.img_app.length>0?n.props.item.img_app:n.props.item.img_new:"",img_type:n.props.item&&n.props.item.img_app.length>0?"new":"old",desc:n.props.item?n.props.item.marc_desc_full.length>0?n.props.item.marc_desc_full:n.props.item.tmp_desc:""},n.props.item||_.Z.setCity(n.props.city),n}return(0,r.Z)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,R=(0,A.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),this.firebaseAnalitic=(0,D.IH)(R),(0,f.EH)((function(){if(e._isMounted){var t=_.Z.getAllItems().find((function(t){return t.link==e.state.itemLink}));if(t){e.setState({item:t}),0==t.items.length&&3!==parseInt(t.type)&&4!==parseInt(t.type)&&(0==parseFloat(t.kkal)&&0==parseFloat(t.protein)&&0==parseFloat(t.fat)&&0==parseFloat(t.carbohydrates)||t.items.push({kkal:t.kkal,protein:t.protein,fat:t.fat,carbohydrates:t.carbohydrates,name:""})),e.setState({is_load:!0});var a=_.Z.getItems().filter((function(e){return e.item_id==e.id}))[0];e.setState({count:a?a.count:0})}}})),this.props.item){this.state.item.items&&0==this.state.item.items.length&&3!==parseInt(this.state.item.type)&&4!==parseInt(this.state.item.type)&&this.state.item.items.push({kkal:this.state.item.kkal,protein:this.state.item.protein,fat:this.state.item.fat,carbohydrates:this.state.item.carbohydrates,name:""}),this.setState({is_load:!0});var t=_.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));this.setState({count:t?t.count:0})}this.props.item||(document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),_.Z.setPage("item"))}},{key:"add",value:function(){(0,D.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:this.state.item.id,items:[{name:this.state.item.name}]});var e=_.Z.AddItem(this.state.item.id);this.setState({count:e})}},{key:"minus",value:function(){(0,D.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:this.state.item.id,items:[{name:this.state.item.name}]});var e=_.Z.MinusItem(this.state.item.id);this.setState({count:e})}},{key:"handleTooltipOpen",value:function(){this.setState({openTooltip:!this.state.openTooltip})}},{key:"handleTooltipClose",value:function(){this.setState({openTooltip:!1})}},{key:"render",value:function(){var e=this;return p.createElement(p.Fragment,null,p.createElement(w.q,null,p.createElement("title",null,this.state.title),p.createElement("meta",{name:"description",content:this.state.description})),p.createElement(x.Z,{component:"div",className:"pcItem NewModal",sx:{display:{xs:"none",sm:"block"}}},p.createElement(h.ZP,{container:!0,className:"MainItem mainContainer"},"old"==this.state.img_type?p.createElement(h.ZP,{item:!0,className:"FirstMainItem"},p.createElement("picture",{style:{width:"100%"}},p.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),p.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{minHeight:150}})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:p.createElement(j,{size:"big",type:"hit",view:"pc"}):p.createElement(j,{size:"big",type:"new",view:"pc"})):p.createElement(h.ZP,{item:!0,className:"FirstMainItem"},p.createElement("picture",{style:{width:"100%"}},p.createElement("source",{type:"image/webp",srcset:"\n                                            https://storage.yandexcloud.net/site-img/".concat(this.state.img_name,"_1168x1168.webp 584w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_1420x1420.webp 760w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_2000x2000.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("source",{type:"image/jpeg",srcset:"\n                                            https://storage.yandexcloud.net/site-img/".concat(this.state.img_name,"_1168x1168.jpg 584w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_1420x1420.jpg 760w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{alt:this.state.item.name,title:this.state.item.name,className:"img",src:"https://storage.yandexcloud.net/site-img/".concat(this.state.img_name,"_1168x1168.jpg")})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:p.createElement(j,{size:"big",type:"hit",view:"pc"}):p.createElement(j,{size:"big",type:"new",view:"pc"})),p.createElement(h.ZP,{item:!0,className:"SecondMainItem"},p.createElement(y.Z,{variant:"h5",component:"h1",className:"ModalItemTitle",style:{marginTop:0}},this.state.item.name),p.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:300}},p.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?230:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?80:150,height:40,border:"1px solid #DADADA",borderRadius:15,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20,marginRight:25}},4==parseInt(this.state.item.cat_id)?p.createElement(p.Fragment,null,p.createElement(y.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center"}},this.state.item.count_part_new),p.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?null:p.createElement(p.Fragment,null,p.createElement(y.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:4==parseInt(this.state.item.cat_id)?2:3,textAlign:"center"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza+" см":this.state.item.count_part+" шт."),p.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})),p.createElement(y.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")),17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?null:p.createElement(N.Z,{mouseEvent:"onMouseDown",touchEvent:"onTouchStart",onClickAway:this.handleTooltipClose.bind(this)},p.createElement("div",null,p.createElement(L,{onClose:this.handleTooltipClose.bind(this),open:this.state.openTooltip,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,PopperProps:{disablePortal:!0},title:p.createElement(p.Fragment,null,p.createElement(y.Z,{style:{textAlign:"center",fontFamily:"Roboto",fontSize:"1.5rem",fontWeight:500,lineHeight:1,paddingTop:10,paddingBottom:20,whiteSpace:"nowrap"}},"Пищевая ценность на 100 г"),1==this.state.item.items.length?null:p.createElement("div",{style:{width:"100%",height:2,backgroundColor:"#fff",marginBottom:20}}),p.createElement("div",{className:"InfoScroll",style:this.state.item.items.length>1?{overflowY:"scroll",maxHeight:280,paddingRight:5}:{}},this.state.item.items.map((function(t,a){return p.createElement("div",{style:{border:"2px solid #fff",borderRadius:10,marginBottom:1==e.state.item.items.length||e.state.item.items.length-1==a?0:20},key:a},p.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",borderBottom:"2px solid #fff"}},p.createElement("div",{style:{width:"75%",display:"flex",alignItems:"center",borderRight:"2px solid #fff",padding:10}},p.createElement(y.Z,{style:{fontFamily:"Roboto",fontWeight:400,fontSize:"1.1rem",lineHeight:1.25}},t.name)),p.createElement("div",{style:{width:"25%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:10}},p.createElement(y.Z,{style:{fontSize:"2rem",lineHeight:1,fontFamily:"Roboto",fontWeight:500}},t.kkal),p.createElement(y.Z,{style:{fontSize:"1rem",lineHeight:.8,fontFamily:"Roboto",fontWeight:400}},"ккал"))),p.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row"}},p.createElement("div",{style:{width:"50%",padding:10,borderRight:"2px solid #fff"}},p.createElement(y.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400}},"Состав: ",t.tmp_desc)),p.createElement("div",{style:{width:"50%",padding:10},className:"styleTooltip"},p.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},p.createElement(y.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1}},"белки"),p.createElement(y.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3}},t.protein," г")),p.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},p.createElement(y.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1}},"жиры"),p.createElement(y.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3}},t.fat," г")),p.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},p.createElement(y.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1}},"углеводы"),p.createElement(y.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3}},t.carbohydrates," г")))))}))))},p.createElement("div",{style:{width:40,height:40,cursor:"pointer"},onClick:this.handleTooltipOpen.bind(this)},!0===this.state.openTooltip?p.createElement(T.kX,null):p.createElement(T.t1,null)))))),4==parseInt(this.state.item.cat_id)?p.createElement(g.Z,{elevation:0,disableRipple:!0,variant:"contained",style:{marginBottom:20,width:300}},p.createElement(u.Z,{variant:"contained",className:"ModalItemButtonCartOther",style:{width:300,height:40,borderRadius:30,border:"1px solid #F9BC23"},onClick:this.props.openSetPc?this.props.openSetPc.bind(this,this.state.item.items):null},"Состав сета")):null,p.createElement(y.Z,{variant:"h5",component:"span",style:{marginBottom:20,minHeight:200},className:"ModalItemDesc"},this.state.desc),0==this.state.count?p.createElement(T.GP,{price:this.state.item.price,add:this.add.bind(this)}):p.createElement(T.MG,{count:this.state.count,price:this.state.item.price,item_id:this.state.item.id,minus:this.minus.bind(this),add:this.add.bind(this)})))),p.createElement(x.Z,{sx:{display:{xs:"block",sm:"none"}}},p.createElement(h.ZP,{container:!0,className:"MainItem MainItemMobile mainContainer",style:{height:"calc(100vh - 50px)",paddingRight:20,paddingLeft:20,paddingTop:20,alignContent:"flex-start",position:"relative"}},p.createElement(h.ZP,{item:!0,xs:12},"old"==this.state.img_type?p.createElement("picture",null,p.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),p.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{width:"100%"}})):p.createElement("picture",null,p.createElement("source",{type:"image/webp",srcset:"\n                                            https://storage.yandexcloud.net/site-img/".concat(this.state.img_name,"_276x276.webp 138w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_292x292.webp 146w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_366x366.webp 183w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_466x466.webp 233w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_585x585.webp 292w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_732x732.webp 366w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_1168x1168.webp 584w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_1420x1420.webp 760w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_2000x2000.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("source",{type:"image/jpeg",srcset:"\n                                            https://storage.yandexcloud.net/site-img/".concat(this.state.img_name,"_276x276.jpg 138w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_292x292.jpg 146w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_366x366.jpg 183w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_466x466.jpg 233w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_585x585.jpg 292w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_732x732.jpg 366w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_1168x1168.jpg 584w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_1420x1420.jpg 760w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.img_name,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{alt:this.state.item.name,title:this.state.item.name,style:{width:"80%"},src:"https://storage.yandexcloud.net/site-img/".concat(this.state.img_name,"_366x366.jpg")})),p.createElement(y.Z,{variant:"h5",component:"h1",style:{textAlign:"center"}},this.state.item.name)),p.createElement(h.ZP,{item:!0,xs:12},p.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",position:"relative"}},p.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?238:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?78:148,height:28,border:"1px solid #DADADA",borderRadius:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginTop:10,marginBottom:20}},4==parseInt(this.state.item.cat_id)?p.createElement(p.Fragment,null,p.createElement(y.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},this.state.item.count_part_new),p.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?null:p.createElement(p.Fragment,null,p.createElement(y.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:4==parseInt(this.state.item.cat_id)?2:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza+" см":this.state.item.count_part+" шт."),p.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})),p.createElement(y.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")),17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?null:p.createElement("div",{style:{width:30,height:30,cursor:"pointer",position:"absolute",top:10,right:0},onClick:this.props.openInfo?this.props.openInfo.bind(this):null},this.props.openModalPCInfo&&!0===this.props.openModalPCInfo?p.createElement(T.kX,null):p.createElement(T.t1,null)))),4==parseInt(this.state.item.cat_id)?p.createElement(h.ZP,{item:!0,xs:12,style:{marginBottom:20}},p.createElement(g.Z,{elevation:0,disableRipple:!0,variant:"contained",style:{width:"100%",display:"flex",justifyContent:"center"}},p.createElement(u.Z,{variant:"contained",className:"ModalItemButtonCart",style:{width:240,height:30,borderRadius:15,border:"1px solid #F9BC23",fontSize:"0.875rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:400},onClick:this.props.openSetPc?this.props.openSetPc.bind(this,this.state.item.items):null},"Состав сета"))):null,p.createElement(h.ZP,{item:!0,xs:12,style:{height:80,justifyContent:"center"}},p.createElement(y.Z,{component:"span",className:"hidddenText4",style:{textAlign:"center",fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",width:"100%"}},this.state.desc)),p.createElement(h.ZP,{item:!0,xs:12,style:{position:"absolute",width:"calc(100% - 40px)",bottom:120}},0==this.state.count?p.createElement(g.Z,{disableelevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%",backgroundColor:"#fff"}},p.createElement(u.Z,{variant:"contained",className:"ModalItemButtonCart _NON_HOVER_",style:{width:"100%",height:60,borderRadius:40,border:"2px solid #F9BC23"},onClick:this.add.bind(this)},p.createElement("span",{style:{fontSize:"1.25rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:700}},"В корзину за ",new Intl.NumberFormat("ru-RU").format(this.state.item.price)),p.createElement(T.Ir,{style:{width:15,height:15,fill:"#525252",marginLeft:5}}))):p.createElement(g.Z,{disableelevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%",backgroundColor:"#fff"}},p.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN",style:{width:"100%",height:56,borderRadius:40,border:"2px solid #F9BC23",display:"flex",justifyContent:"space-between",alignItems:"center"}},p.createElement("button",{style:{width:30,height:30,minWidth:30,maxWidth:30,minHeight:30,maxHeight:30,borderRadius:40,padding:0,marginLeft:13,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"1.5rem",fontFamily:"Roboto",fontWeight:300,display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.minus.bind(this)},"–"),p.createElement("div",null,p.createElement("span",{style:{fontSize:"1.25rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:700}},this.state.count," шт. на ",new Intl.NumberFormat("ru-RU").format(parseInt(this.state.item.price)*parseInt(this.state.count))),p.createElement(T.Ir,{style:{width:15,height:15,fill:"#525252",marginLeft:5}})),p.createElement("button",{style:{width:40,height:40,minWidth:40,maxWidth:40,minHeight:40,maxHeight:40,borderRadius:40,padding:0,marginRight:10,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"2rem",fontFamily:"Roboto",fontWeight:300,display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.add.bind(this)},"+")))))))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),item:z(e),page:"item"};return Z()({method:"POST",url:E().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:B.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),a}(p.Component)},6546:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageAbout:()=>E});var n=a(5671),i=a(3144),s=a(7326),r=a(136),o=a(6215),l=a(1120),c=a(4942),m=a(7294),d=a(30),p=a(1647),h=a(6282),u=a(8811),g=a.n(u),y=a(4593),f=a(9669),_=a.n(f);var v=a(7563),E=function(e){(0,r.Z)(f,e);var t,a,u=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function f(e){var t;return(0,n.Z)(this,f),t=u.call(this,e),(0,c.Z)((0,s.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(f,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageAbout"),f.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(y.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEabout mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"about"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),f}(m.Component)},3407:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageInstPay:()=>E});var n=a(5671),i=a(3144),s=a(7326),r=a(136),o=a(6215),l=a(1120),c=a(4942),m=a(7294),d=a(30),p=a(1647),h=a(6282),u=a(8811),g=a.n(u),y=a(4593),f=a(9669),_=a.n(f);var v=a(7563),E=function(e){(0,r.Z)(f,e);var t,a,u=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function f(e){var t;return(0,n.Z)(this,f),t=u.call(this,e),(0,c.Z)((0,s.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(f,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageInstPay"),f.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(y.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEinstpay mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"instpayorders"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),f}(m.Component)},8716:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageJob:()=>E});var n=a(5671),i=a(3144),s=a(7326),r=a(136),o=a(6215),l=a(1120),c=a(4942),m=a(7294),d=a(30),p=a(1647),h=a(6282),u=a(8811),g=a.n(u),y=a(4593),f=a(9669),_=a.n(f);var v=a(7563),E=function(e){(0,r.Z)(f,e);var t,a,u=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function f(e){var t;return(0,n.Z)(this,f),t=u.call(this,e),(0,c.Z)((0,s.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(f,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageJob"),f.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(y.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEjob mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"jobs"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),f}(m.Component)},4025:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageOferta:()=>E});var n=a(5671),i=a(3144),s=a(7326),r=a(136),o=a(6215),l=a(1120),c=a(4942),m=a(7294),d=a(30),p=a(1647),h=a(6282),u=a(8811),g=a.n(u),y=a(4593),f=a(9669),_=a.n(f);var v=a(7563),E=function(e){(0,r.Z)(f,e);var t,a,u=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function f(e){var t;return(0,n.Z)(this,f),t=u.call(this,e),(0,c.Z)((0,s.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(f,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageOferta"),f.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(y.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEoferta mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"publichnaya-oferta"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),f}(m.Component)},2815:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PagePolitika:()=>E});var n=a(5671),i=a(3144),s=a(7326),r=a(136),o=a(6215),l=a(1120),c=a(4942),m=a(7294),d=a(30),p=a(1647),h=a(6282),u=a(8811),g=a.n(u),y=a(4593),f=a(9669),_=a.n(f);var v=a(7563),E=function(e){(0,r.Z)(f,e);var t,a,u=(t=f,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function f(e){var t;return(0,n.Z)(this,f),t=u.call(this,e),(0,c.Z)((0,s.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(f,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PagePolitika"),f.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(y.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEpolitika mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"politika-konfidencialnosti"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),f}(m.Component)},3858:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Profile:()=>ne});var n=a(5671),i=a(3144),s=a(7326),r=a(136),o=a(6215),l=a(1120),c=a(4942),m=a(7462),d=a(5987),p=a(7294),h=a(30),u=a(1822),g=a(986),y=a(130),f=a(1647),_=a(3892),v=a(5705),E=a(7036),x=a(594),w=a(8653),b=a(2962),Z=a(4498),I=a(7745),S=a(4439),C=a(6282),k=a(8811),P=a.n(k),N=a(3646),T=a(9669),A=a.n(T),D=a(4593),M=a(982),O=a(9417),B=a(3421),R=a(5697),j=a.n(R),L=a(5293),z=a(214),W=a(2922),F=a(8037),H=a(7888),G=a(9960),U=a(399),q=a(1470),K=a(4347),J=a(8984),V=a(4917),Y=a(2019),X=a(8720),Q=["children","value","index"];var $=a(7563);function ee(e){var t=e.children,a=e.value,n=e.index,i=(0,d.Z)(e,Q);return p.createElement("div",(0,m.Z)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&p.createElement("div",{style:{width:"100%"}},t))}function te(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function ae(e){return p.createElement("svg",{width:e.width?e.width:"50",height:"20",viewBox:e.viewBox?e.viewBox:"0 0 1500 200",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",null,p.createElement("path",{id:"svg_1",d:"m219.27,252.76c63.98,-2.85 99.22,-39.48 99.22,-103.13c0,-37.42 -12.62,-65.49 -37.52,-83.44c-22.29,-16.07 -48.63,-19.21 -62.35,-19.65c-28.61,-0.92 -107.02,-0.04 -110.34,0c-5.75,0.07 -10.38,4.75 -10.38,10.5l0,174.95c-9.23,-0.11 -15.07,-0.2 -15.31,-0.21c-0.06,0 -0.11,0 -0.17,0c-5.72,0 -10.41,4.59 -10.5,10.34c-0.09,5.8 4.54,10.57 10.34,10.66c0.95,0.01 6.78,0.1 15.64,0.21l0,26.12l-15.48,0c-5.8,0 -10.5,4.7 -10.5,10.5s4.7,10.5 10.5,10.5l15.48,0l0,74.89c0,5.8 4.7,10.5 10.5,10.5s10.5,-4.7 10.5,-10.5l0,-74.9l109.39,0c5.8,0 10.5,-4.7 10.5,-10.5s-4.7,-10.5 -10.5,-10.5l-109.39,0l0,-25.88c32.67,0.31 78.53,0.51 100.37,-0.46zm-100.37,-185.33c22.81,-0.21 76.99,-0.61 99.05,0.1c23.92,0.77 79.55,10.31 79.55,82.1c0,52.17 -26.63,79.82 -79.16,82.16c-21.17,0.94 -66.91,0.74 -99.44,0.43l0,-164.79z"})))}ee.propTypes={children:j().node,index:j().any.isRequired,value:j().any.isRequired};var ne=function(e){(0,r.Z)(k,e);var t,a,d=(t=k,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,o.Z)(this,e)});function k(e){var t;return(0,n.Z)(this,k),t=d.call(this,e),(0,c.Z)((0,s.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),C.Z.setPage("profile"),setTimeout((function(){C.Z.getToken()||(window.location.pathname="/"+t.state.city_name)}),300),k.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),t.loadData()})),(0,c.Z)((0,s.Z)(t),"changeTab",(function(e,a){t.setState({valueTab:a})})),(0,c.Z)((0,s.Z)(t),"changeM",(function(e){t.setState({changeM:e.target.value})})),(0,c.Z)((0,s.Z)(t),"changeDay",(function(e){t.setState({changeDay:e.target.value})})),(0,c.Z)((0,s.Z)(t),"changeMail",(function(e){t.setState({userMail:e.target.value})})),(0,c.Z)((0,s.Z)(t),"changeCheck",(function(e){var a=e.target.checked;fetch(P().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$.stringify({type:"save_profile_spam",my_spam:a?1:0,user_id:C.Z.getToken()})}).then((function(e){return e.json()})).then((function(e){t.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены",spam:a?1:0})}))})),(0,c.Z)((0,s.Z)(t),"changeName",(function(e){t.setState({userName:e.target.value})})),(0,c.Z)((0,s.Z)(t),"changeAddr",(function(e){t.setState({typeDel:e.target.value})})),t.state={actii:[],is_load:!1,openDialog:!1,delOrder:!1,errorOpen:!1,error:{title:"",text:""},title:"",description:"",page:t.props.data?t.props.data.page:null,city_name:t.props.city,typeDel:"0",valueTab:1,info:{},arr_day:[],arr_m:[{name:"Января",value:1},{name:"Февраля",value:2},{name:"Марта",value:3},{name:"Апреля",value:4},{name:"Мая",value:5},{name:"Июня",value:6},{name:"Июля",value:7},{name:"Августа",value:8},{name:"Сентября",value:9},{name:"Октября",value:10},{name:"Ноября",value:11},{name:"Декабря",value:12}],radiogroup_options:[{id:"0",label:"Решили отредактировать заказ",value:0},{id:"1",label:"Не устраивает время ожидания",value:0},{id:"2",label:"Изменились планы",value:0},{id:"3",label:"Недостаточно средств",value:0},{id:"4",label:"Другое",value:0}],textDel:"",changeDay:"",changeM:"",userMail:"",openMSG:!1,statusMSG:!1,textMSG:"",spam:0,userName:"",spiner:!1,showOrder:null},"undefined"!=typeof window&&setTimeout((function(){var e=window.location.search;if(e.length>0){if(e.indexOf("orderId")>0){var a=window.location.search.split("&"),n=a[0].split("bank=");n=n[1];var i=a[1].split("orderId=");i=i[1],t.checkPay(n,i);var s=window.location.pathname;window.history.pushState({},"",s)}if(e.indexOf("trueOrder")>0){var r=window.location.pathname;window.history.pushState({},"",r)}}}),300),C.Z.setCity(t.props.city),t}return(0,i.Z)(k,[{key:"loadData",value:function(){for(var e=this,t=[],a=1;a<=31;a++)t.push(a);setTimeout((function(){fetch(P().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$.stringify({type:"get_user_web",city_id:e.state.city_name,user_id:C.Z.getToken()})}).then((function(e){return e.json()})).then((function(a){var n=a.orders.my_orders.filter((function(e){return 6!=parseInt(e.status_order)&&0==parseInt(e.is_delete)}));e.setState({info:a,is_load:!0,arr_day:t,userMail:a.user.mail,spam:a.user.spam,userName:a.user.name}),n.length>0&&setTimeout((function(){e.loadData()}),6e3)})).catch((function(e){}))}),300)}},{key:"checkPay",value:function(e,t){var a=this,n={type:"check_pay_web",payId:t,bank:e};A()({method:"POST",url:P().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:$.stringify(n)}).then((function(n){if(200===n.status){var i=n.data;i.repeat?setTimeout((function(){a.checkPay(e,t)}),5e3):i.is_create||(a.setState({spiner:!1}),i.st?a.trueOrder(i.order_id,i.point_id):(a.props.history.push(window.location.pathname),a.setState({error:{title:"Ошибка оплаты",text:i.pay.actionCodeDescription},errorOpen:!0})))}})).catch((function(e){console.log(e)}))}},{key:"trueOrder",value:function(e,t){var a=this;fetch(P().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$.stringify({type:"trueOrder",city_id:this.state.city_name,user_id:C.Z.getToken(),order_id:e,point_id:t})}).then((function(e){return e.json()})).then((function(e){0==e.st?a.setState({error:{title:"При подтверждении оплаты произошла ошибка",text:e.text_err},errorOpen:!0}):(C.Z.setItems([]),C.Z.saveCartData({orderType:"0",orderAddr:"",orderPic:0,orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:"",orderSdacha:""}),a.loadData())}))}},{key:"closeDialog",value:function(){this.setState({showItem:null,openDialog:!1})}},{key:"openDialog",value:function(e){this.setState({showItem:e,openDialog:!0})}},{key:"closeAlert",value:function(){this.setState({openMSG:!1})}},{key:"saveMail",value:function(){var e=this;fetch(P().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$.stringify({type:"save_profile_mail_web",my_mail:this.state.userMail,user_id:C.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"saveDay",value:function(){var e=this,t=this.state.changeDay,a=this.state.changeM;if(""!=t&""!=a){var n="";this.state.arr_m.map((function(e,t){parseInt(e.value)==parseInt(a)&&(n=e.name)})),fetch(P().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$.stringify({type:"save_profile_date",my_date:t+" "+n,user_id:C.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){t.st&&fetch(P().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$.stringify({type:"get_user_web",city_id:e.state.city_name,user_id:C.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){e.setState({info:t})})).catch((function(e){})),setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}}},{key:"activePromo",value:function(e,t){var a=this;C.Z.setPromo(JSON.stringify(e),t);var n=C.Z.checkPromo();setTimeout((function(){n.st?a.setState({openMSG:!0,statusMSG:!0,textMSG:"Промокод применен"}):a.setState({openMSG:!0,statusMSG:!1,textMSG:n.text})}),300)}},{key:"saveName",value:function(){var e=this;fetch(P().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$.stringify({type:"save_profile_name",my_name:this.state.userName,user_id:C.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"getOrder",value:function(e,t){var a=this;this.setState({spiner:!0}),fetch(P().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$.stringify({type:"get_order",order_id:e,point_id:t})}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){a.setState({showOrder:e,openDialog:!0,spiner:!1})}),1e3)})).catch((function(e){}))}},{key:"closeOrder",value:function(){this.setState({delOrder:!0,typeDel:"0",textDel:""})}},{key:"closeOrderTrue",value:function(){var e=this,t=this.state.radiogroup_options.find((function(t){return t.id==e.state.typeDel}));"4"==t.id&&(t.label=this.state.textDel),confirm("Отменить заказ #"+this.state.showOrder.order.order_id)&&fetch(P().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:$.stringify({type:"close_order",user_id:C.Z.getToken(),order_id:this.state.showOrder.order.order_id,point_id:this.state.showOrder.order.point_id,ans:t.label})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?(e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены",delOrder:!1,openDialog:!1,showItem:null}),e.loadData()):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"repeatOrder",value:function(){var e=this,t=[],a=C.Z.getAllItems(),n=null;this.state.showOrder.order_items.map((function(e){if(n=a.find((function(t){return t.id==e.item_id}))){var i=parseInt(n.price),s=parseInt(e.count)*parseInt(n.price);t.push({name:e.name,item_id:e.item_id,count:e.count,one_price:i,all_price:s})}}));var i={orderType:parseInt(this.state.showOrder.order.type_order_)-1,orderAddr:1==parseInt(this.state.showOrder.order.type_order_)?this.state.showOrder.street.name:null,orderPic:parseInt(this.state.showOrder.order.point_id),orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:1==parseInt(this.state.showOrder.order.type_order_)?"cash":"in",orderSdacha:""};C.Z.saveCartData(i),this.state.showOrder.order.promo_name&&""!=this.state.showOrder.order.promo_name&&C.Z.setPromo(this.state.showOrder.promo_info,this.state.showOrder.order.promo_name),C.Z.setItems(t),setTimeout((function(){window.location.pathname="/"+e.state.city_name+"/cart"}),300)}},{key:"logOut",value:function(){localStorage.removeItem("token"),window.location.pathname="/"+this.state.city_name}},{key:"render",value:function(){var e=this;return p.createElement(h.ZP,{container:!0,className:"Profile mainContainer MuiGrid-spacing-xs-3"},p.createElement(D.q,null,p.createElement("title",null,this.state.title),p.createElement("meta",{name:"description",content:this.state.description})),p.createElement(_.Z,{open:this.state.spiner,style:{zIndex:99,color:"#fff"}},p.createElement(v.Z,{color:"inherit"})),p.createElement(w.Z,{open:this.state.errorOpen,onClose:function(){return e.setState({errorOpen:!1})},className:"DialogErr"},p.createElement(f.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},this.state.error.title),p.createElement(M.G,{className:"closeDialog",onClick:function(){return e.setState({errorOpen:!1})},icon:O.NBC}),p.createElement(Z.Z,null,p.createElement(S.Z,{className:"DialogErrText"},this.state.error.text)),p.createElement(b.Z,null,p.createElement(g.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({errorOpen:!1})}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Хорошо")))),p.createElement(h.ZP,{item:!0,xs:12},p.createElement(f.Z,{variant:"h5",component:"h1"},"Личный кабинет")),p.createElement(Y.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.openMSG,autoHideDuration:3e3,onClose:this.closeAlert.bind(this),message:this.state.textMSG,style:{backgroundColor:this.state.statusMSG?"green":"#BB0025",borderRadius:4},action:p.createElement(p.Fragment,null,p.createElement(y.Z,{size:"small","aria-label":"close",color:"inherit",onClick:this.closeAlert.bind(this)},p.createElement(x.Z,{fontSize:"small"})))}),p.createElement(h.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",style:{paddingTop:0}},p.createElement(B.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},p.createElement(L.Z,{value:this.state.valueTab,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",style:{justifyContent:"center"}},p.createElement(z.Z,(0,m.Z)({label:"Промокоды"},te(0),{disableRipple:!0})),p.createElement(z.Z,(0,m.Z)({label:"Заказы"},te(1),{disableRipple:!0})),p.createElement(z.Z,(0,m.Z)({label:"Редактирование"},te(2),{disableRipple:!0})))),p.createElement(ee,{value:this.state.valueTab,index:0,style:{width:"100%"}},p.createElement("div",{style:{padding:12}},this.state.info.promo?p.createElement(X.Z,{sx:{display:{xs:"none",lg:"block"}}},p.createElement("table",{style:{width:"100%"},className:"TablePromo"},p.createElement("thead",null,p.createElement("tr",null,p.createElement("td",null,p.createElement(f.Z,{variant:"h5",component:"span"},"Промокод")),p.createElement("td",null,p.createElement(f.Z,{variant:"h5",component:"span"},"Промокод дает:")),p.createElement("td",null,p.createElement(f.Z,{variant:"h5",component:"span"},"Действует до")))),p.createElement("tbody",null,this.state.info.promo.promo.map((function(t,a){return p.createElement("tr",{key:a},p.createElement("td",null,p.createElement(f.Z,{variant:"h5",component:"span",onClick:e.activePromo.bind(e,t.info,t.promo_name)},t.promo_name)),p.createElement("td",null,p.createElement(f.Z,{variant:"h5",component:"span"},t.promo_text)),p.createElement("td",null,p.createElement(f.Z,{variant:"h5",component:"span"},t.date_end)))}))))):null,this.state.info.promo?p.createElement(X.Z,{sx:{display:{xs:"block",lg:"none"}}},p.createElement("table",{style:{width:"100%"},className:"TablePromoMobile"},p.createElement("tbody",null,this.state.info.promo.promo.map((function(t,a){return p.createElement("tr",{key:a},p.createElement("td",null,p.createElement("div",null,p.createElement(f.Z,{variant:"h5",component:"span"},"Промокод: "),p.createElement(f.Z,{variant:"h5",component:"span"},t.promo_name)),p.createElement("div",{style:{width:"100%",paddingTop:10}},p.createElement(f.Z,{variant:"h5",component:"span"},"Действует до: "),p.createElement(f.Z,{variant:"h5",component:"span"},t.date_end)),p.createElement("div",{style:{width:"100%",paddingTop:10,textAlign:"justify"}},p.createElement(f.Z,{variant:"h5",component:"span"},"Промокод дает: "),p.createElement(f.Z,{variant:"h5",component:"span"},t.promo_text)),p.createElement("div",{style:{width:"100%",paddingTop:10}},p.createElement(g.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:e.activePromo.bind(e,t.info,t.promo_name)},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",style:{width:"100%"}},"Применить промокод")))))}))))):null)),p.createElement(ee,{value:this.state.valueTab,index:1,style:{width:"100%"}},this.state.info.orders?p.createElement("div",{className:"TableOrders"},p.createElement("div",{className:"thead"},p.createElement(f.Z,{variant:"h5",component:"span",style:{flex:2}},"№"),p.createElement(f.Z,{variant:"h5",component:"span",style:{flex:3}},"Дата"),p.createElement(f.Z,{variant:"h5",component:"span",style:{flex:1}},"Сумма"),p.createElement(f.Z,{variant:"h5",component:"span",style:{flex:1}})),p.createElement("div",{className:"tbody"},this.state.info.orders.my_orders.map((function(t,a){return p.createElement("div",{key:a,className:6==parseInt(t.status_order)||1==parseInt(t.is_delete)?"":"active",onClick:e.getOrder.bind(e,t.order_id,t.point_id)},p.createElement("div",null,p.createElement(f.Z,{variant:"h5",component:"span",style:{flex:2}},t.order_id),p.createElement(f.Z,{variant:"h5",component:"span",style:{flex:3}},t.date_time_new),p.createElement(f.Z,{variant:"h5",component:"span",className:"CardPriceItem",style:{flex:1}},t.sum," ",p.createElement(ae,{width:"20",viewBox:"0 0 700 300"})),p.createElement(f.Z,{variant:"h5",component:"span",style:{flex:1}},1==parseInt(t.is_delete)?p.createElement(x.Z,{style:{position:"relative",top:3}}):6==parseInt(t.status_order)?p.createElement(E.Z,{style:{position:"relative",top:3}}):null)),6==parseInt(t.status_order)||1==parseInt(t.is_delete)?null:p.createElement("div",{className:"boxSteps"},p.createElement("div",null,p.createElement("div",{className:0==parseInt(t.steps[0].active)||2==parseInt(t.steps[0].active)?"":"active"},p.createElement(f.Z,{variant:"h5",component:"span"},t.steps[0].name)),p.createElement("div",{className:0==parseInt(t.steps[1].active)||2==parseInt(t.steps[1].active)?"":"active"},p.createElement(f.Z,{variant:"h5",component:"span"},t.steps[1].name)),p.createElement("div",{className:0==parseInt(t.steps[2].active)||2==parseInt(t.steps[2].active)?"":"active"},p.createElement(f.Z,{variant:"h5",component:"span"},t.steps[2].name)),p.createElement("div",{className:0==parseInt(t.steps[3].active)||2==parseInt(t.steps[3].active)?"":"active"},p.createElement(f.Z,{variant:"h5",component:"span"},t.steps[3].name))),0==t.time_to_client?null:p.createElement("div",null,p.createElement(f.Z,{variant:"h5",component:"span"},"Заказ ",1==parseInt(t.type_order)?"привезут до: ":"будет готов до: ",t.time_to_client))))})))):null),p.createElement(ee,{value:this.state.valueTab,index:2,style:{width:"100%"}},this.state.info.user?p.createElement("div",{className:"TableInfo"},p.createElement("form",{noValidate:!0,autoComplete:"off"},p.createElement(N.Z,{label:"Имя",value:this.state.userName,className:"input",onChange:this.changeName.bind(this),onBlur:this.saveName.bind(this),size:"small"}),p.createElement(N.Z,{InputProps:{readOnly:!0},label:"Номер телефона",value:this.state.info.user.login,className:"input",size:"small"})),p.createElement("form",{noValidate:!0,autoComplete:"off"},""!=this.state.info.user.date_bir?p.createElement(N.Z,{label:"Дата рождения",className:"input",InputProps:{readOnly:!0},value:this.state.info.user.date_bir,size:"small"}):p.createElement("div",{className:"input"},p.createElement(V.Z,{className:"otherLabel",size:"small"},"Дата рождения"),p.createElement(H.Z,{className:"ChangeDay"},p.createElement(J.Z,{size:"small",labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,value:this.state.changeDay,onChange:this.changeDay.bind(this),onBlur:this.saveDay.bind(this)},p.createElement(K.Z,{className:"menuItem",value:""},"День"),this.state.arr_day.map((function(e,t){return p.createElement(K.Z,{key:t,className:"menuItem",value:e},e)})))),p.createElement(H.Z,{className:"ChangeM"},p.createElement(J.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,value:this.state.changeM,onChange:this.changeM.bind(this),onBlur:this.saveDay.bind(this),size:"small"},p.createElement(K.Z,{className:"menuItem",value:""},"Месяц"),this.state.arr_m.map((function(e,t){return p.createElement(K.Z,{key:t,className:"menuItem",value:e.value},e.name)}))))),p.createElement(N.Z,{label:"E-mail",className:"input",value:this.state.userMail,onChange:this.changeMail.bind(this),onBlur:this.saveMail.bind(this),size:"small"})),p.createElement(W.Z,{row:!0,className:"input checkbox"},p.createElement(F.Z,{onChange:this.changeCheck.bind(this),control:p.createElement(G.Z,{checked:1==parseInt(this.state.spam),name:"checkedC",sx:{"&.Mui-checked":{color:"#c03"}}}),label:"Получать сообщения с акциями"})),p.createElement(g.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:this.logOut.bind(this)},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Выйти"))):null)),this.state.showOrder?p.createElement(w.Z,{onClose:this.closeDialog.bind(this),"aria-labelledby":"customized-dialog-title",className:"showOrderDialog",open:this.state.openDialog,fullWidth:!0},p.createElement(I.Z,{disableTypography:!0,style:{margin:0,padding:8}},p.createElement(f.Z,{variant:"h6"},"Заказ ",this.state.showOrder.order.order_id),p.createElement(y.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0,color:"#000"},onClick:this.closeDialog.bind(this)},p.createElement(x.Z,null))),p.createElement(Z.Z,{className:"showOrderDialogContent"},p.createElement(f.Z,{variant:"h6",component:"span"},this.state.showOrder.order.type_order,": ",this.state.showOrder.order.type_order_addr_new),p.createElement(f.Z,{variant:"h6",component:"span"},this.state.showOrder.order.time_order_name,": ",this.state.showOrder.order.time_order),p.createElement(f.Z,{variant:"h6",component:"span"},"Статус заказа: ",this.state.showOrder.order.this_status_order),1==parseInt(this.state.showOrder.order.is_preorder)?null:p.createElement(f.Z,{variant:"h6",component:"span"},this.state.showOrder.order.text_time,this.state.showOrder.order.time_to_client),null==this.state.showOrder.order.promo_name||0==this.state.showOrder.order.promo_name.length?null:p.createElement(f.Z,{variant:"h6",component:"span"},"Промокод: ",this.state.showOrder.order.promo_name),null==this.state.showOrder.order.promo_name||0==this.state.showOrder.order.promo_name.length?null:p.createElement(f.Z,{variant:"h6",component:"span",className:"noSpace"},this.state.showOrder.order.promo_text),null==this.state.showOrder.order.sdacha||0==this.state.showOrder.order.sdacha.length||0==this.state.showOrder.order.sdacha?null:p.createElement(f.Z,{variant:"h6",component:"span"},"Сдача с: ",this.state.showOrder.order.sdacha),p.createElement(f.Z,{variant:"h5",component:"span",className:"CardPriceItem"},"Сумма закза: ",this.state.showOrder.order.sum_order," ",p.createElement(ae,{width:"20",viewBox:"0 0 700 300"})),p.createElement("table",{className:"tableOrderCheck"},p.createElement("tbody",null,this.state.showOrder.order_items.map((function(e,t){return p.createElement("tr",{key:t},p.createElement("td",null,p.createElement(f.Z,{variant:"h5",component:"span"},e.name)),p.createElement("td",null,p.createElement(f.Z,{variant:"h5",component:"span"},e.count)))}))))),0==parseInt(this.state.showOrder.order.is_delete)&&6!==parseInt(this.state.showOrder.order.status_order)?p.createElement(b.Z,{style:{justifyContent:"flex-end",padding:"15px 0px"}},p.createElement(g.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.closeOrder.bind(this,this.state.showOrder.order.order_id,this.state.showOrder.order.point_id)},"Отменить заказ"))):null,1==parseInt(this.state.showOrder.order.is_delete)||6==parseInt(this.state.showOrder.order.status_order)?p.createElement(b.Z,{style:{justifyContent:"flex-end",padding:"15px 0px"}},p.createElement(g.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.repeatOrder.bind(this,this.state.showOrder.order.order_id,this.state.showOrder.order.point_id)},"Повторить заказ"))):null):null,p.createElement(w.Z,{open:this.state.delOrder,onClose:function(){e.setState({delOrder:!1})},"aria-labelledby":"form-dialog-title"},p.createElement(I.Z,{id:"form-dialog-title"},"Отмена заказа"),p.createElement(Z.Z,null,p.createElement(S.Z,null,"Нам очень жаль, что вы приняли решение отменить заказ. Возможно, мы сделали что-то не так, помогите нам стать лучше, поделитесь причиной отказа:"),p.createElement(y.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0,color:"#000"},onClick:function(){e.setState({delOrder:!1})}},p.createElement(x.Z,null)),p.createElement(H.Z,{component:"fieldset"},p.createElement(q.Z,{name:"typeDel",value:this.state.typeDel,onChange:this.changeAddr},this.state.radiogroup_options.map((function(e,t){return p.createElement(F.Z,{key:t,value:e.id,control:p.createElement(U.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:e.label})})))),p.createElement(N.Z,{onFocus:function(){e.setState({typeDel:"4"})},value:this.state.textDel,onChange:function(t){e.setState({textDel:t.target.value})},margin:"dense",id:"name",label:"Причина отмены",type:"text",fullWidth:!0})),p.createElement(b.Z,{style:{paddingBottom:24}},p.createElement(g.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:function(){e.setState({delOrder:!1})}},"К заказу")),p.createElement(g.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},p.createElement(u.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.closeOrderTrue.bind(this)},"Отменить заказ")))))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"profile"};return A()({method:"POST",url:P().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:$.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),k}(p.Component)},476:(e,t,a)=>{"use strict";var n=a(7294),i=a(3935),s=a(3727),r=a(5861),o=a(5671),l=a(3144),c=a(7326),m=a(136),d=a(6215),p=a(1120),h=a(4942),u=a(4687),g=a.n(u),y=a(5977),f=a(7227),_=a(7660),v=a(6068),E=a(7173),x=a(3858),w=a(1072),b=a(6546),Z=a(8716),I=a(3407),S=a(4025),C=a(2815),k=a(7462),P=a(5987),N=a(3421),T=a(4384),A=a(5722),D=a(988),M=a(3892),O=a(5697),B=a.n(O),R=a(8720),j=a(1822),L=a(986),z=a(130),W=a(1647),F=a(4262),H=a(6261),G=a(6282),U=a(8811),q=a.n(U),K=a(6406),J=a(8949),V=a(961),Y=a(1472),X=a(3497),Q=a(2003),$=a(8573),ee=a(5901),te=["in","children","onEnter","onExited"];function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.Z)(this,a)}}var ne=a(7563),ie=n.forwardRef((function(e,t){var a=e.in,i=e.children,s=e.onEnter,r=e.onExited,o=(0,P.Z)(e,te),l=(0,Y.useSpring)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&s&&s()},onRest:function(){!a&&r&&r()}});return n.createElement(Y.animated.div,(0,k.Z)({ref:t,style:l},o),i)}));ie.propTypes={children:B().element,in:B().bool.isRequired,onEnter:B().func,onExited:B().func};var se=function(e){(0,m.Z)(u,e);var t,a,i,d,p=ae(u);function u(e){var t;return(0,o.Z)(this,u),t=p.call(this,e),(0,h.Z)((0,c.Z)(t),"sms1",!1),(0,h.Z)((0,c.Z)(t),"getData",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return 1==n&&t.setState({is_load:!0}),a.type=e,fetch(q().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ne.stringify(a)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){setTimeout((function(){t.setState({is_load:!1})}),300),console.log(e)}))})),t.state={open:!1,typeLogin:"start",fromType:"start",loginLogin:"",pwdLogin:"",newPassword:"",genPwd:"",checkCode:"",pwd:"",ResPWD:!1,NeedCode:!1,openLogin:!1,userLogin:"",userLoginFormat:"",userCode:"",timerSMS:89,timerSMSTime:t.toTime(89),errPhone:"",errSMS:"",errTitle:"",errText1:"",errText2:""},t}return(0,l.Z)(u,[{key:"componentDidUpdate",value:function(){this.props.isOpen!=this.state.open&&this.setState({open:this.props.isOpen,typeLogin:"start",fromType:"start",loginLogin:"",pwdLogin:"",newPassword:"",genPwd:"",checkCode:"",pwd:"",ResPWD:!1,NeedCode:!1,openLogin:!1,userLogin:"",userLoginFormat:"",userCode:"",timerSMS:89,timerSMSTime:this.toTime(89),errPhone:"",errSMS:"",errTitle:"",errText1:"",errText2:""})}},{key:"componentDidMount",value:function(){this.gen_password()}},{key:"open",value:function(){this.setState({open:!0})}},{key:"close",value:function(){this.props.close()}},{key:"changeData",value:function(e,t){var a=t.target.value;if("loginLogin"==e){if(isNaN(a)&&"+"!=a)return;9==parseInt(a[0])&&(a="8"+a),"+"==a[0]&&"7"==parseInt(a[1])&&(a="8"+(a=a.slice(2))),a=(a=(a=(a=(a=a.split(" ").join("")).split("(").join("")).split(")").join("")).split("-").join("")).split("_").join("")}this.setState((0,h.Z)({},e,a))}},{key:"checkLoginKey",value:function(e,t){13==parseInt(t.keyCode)&&(1==parseInt(e)&&this.logIn(),2==parseInt(e)&&this.sendSMS(),3==parseInt(e)&&this.checkCode(),4==parseInt(e)&&this.sendsmsNewLogin())}},{key:"logIn",value:(d=(0,r.Z)(g().mark((function e(){var t,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={number:this.state.loginLogin,pwd:this.state.pwdLogin},e.next=3,this.getData("site_login",t);case 3:!1===(a=e.sent).st?"modal"==a.type?this.setState({typeLogin:"error",errTitle:a.title,errText1:a.text1,errText2:a.text2}):this.setState({errPhone:a.text}):(this.setState({errPhone:"",errTitle:"",errText1:"",errText2:""}),G.Z.setToken(a.token,a.name),G.Z.setUserName(a.name),this.close());case 5:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"createProfileFetch",value:(i=(0,r.Z)(g().mark((function e(t,a){var n,i,s,r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={number:t,token:a},this.setState({fromType:this.state.typeLogin,typeLogin:"loginSMSCode"}),i=setInterval((function(){r.setState({timerSMS:r.state.timerSMS-1,timerSMSTime:r.toTime(r.state.timerSMS-1)}),0==r.state.timerSMS&&clearInterval(i)}),1e3),e.next=5,this.getData("create_profile",n);case 5:!0===(s=e.sent).st?this.setState({errPhone:"",errTitle:"",errText1:"",errText2:""}):"modal"==s.type?this.setState({typeLogin:"error",errTitle:s.title,errText1:s.text1,errText2:s.text2}):this.setState({errPhone:s.text}),setTimeout((function(){r.sms1=!1}),300);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"sendSMS",value:function(){var e=this;if(0==this.sms1){this.sms1=!0;var t=this.state.loginLogin;grecaptcha.ready((function(){grecaptcha.execute("6LdhWpIdAAAAAA4eceqTfNH242EGuIleuWAGQ2su",{action:"submit"}).then((function(a){e.createProfileFetch(t,a)}))}))}}},{key:"toTime",value:function(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(14,5)}},{key:"changeCode",value:function(e){var t=this;this.setState({checkCode:e}),4==e.length&&setTimeout((function(){t.checkCode()}),300)}},{key:"checkCode",value:(a=(0,r.Z)(g().mark((function e(){var t,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={number:this.state.loginLogin,cod:this.state.checkCode},e.next=3,this.getData("check_profile",t);case 3:!1===(a=e.sent).st?"modal"==a.type?this.setState({typeLogin:"error",errTitle:a.title,errText1:a.text1,errText2:a.text2}):this.setState({errPhone:a.text}):(this.setState({errPhone:"",errTitle:"",errText1:"",errText2:""}),G.Z.setToken(a.token,a.name),G.Z.setUserName(a.name),"create"==this.state.fromType?this.setState({fromType:this.state.typeLogin,typeLogin:"finish"}):this.close());case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"gen_password",value:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+?",a=0;a<10;a++)e+=t.charAt(Math.floor(Math.random()*t.length));this.setState({genPwd:e})}},{key:"sendsmsNewLoginFetch",value:(t=(0,r.Z)(g().mark((function e(t){var a,n,i=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={number:this.state.loginLogin,pwd:this.state.newPassword,token:t},this.setState({fromType:this.state.typeLogin,typeLogin:"loginSMSCode"}),n=setInterval((function(){i.setState({timerSMS:i.state.timerSMS-1,timerSMSTime:i.toTime(i.state.timerSMS-1)}),0==i.state.timerSMS&&clearInterval(n)}),1e3),e.next=5,this.getData("sendsmsrp",a);case 5:e.sent.st?this.setState({errPhone:"",errTitle:"",errText1:"",errText2:""}):"modal"==res.type?this.setState({typeLogin:"error",errTitle:res.title,errText1:res.text1,errText2:res.text2}):this.setState({errPhone:res.text}),setTimeout((function(){i.sms1=!1,i.setState({is_load_new:!1})}),300);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"sendsmsNewLogin",value:function(){var e=this;0==this.sms1&&(this.sms1=!0,grecaptcha.ready((function(){grecaptcha.execute("6LdhWpIdAAAAAA4eceqTfNH242EGuIleuWAGQ2su",{action:"submit"}).then((function(t){e.sendsmsNewLoginFetch(t)}))})))}},{key:"render",value:function(){var e=this;return n.createElement(V.Z,{open:this.props.isOpen,onClose:this.props.close,closeAfterTransition:!0,BackdropComponent:M.Z,BackdropProps:{timeout:500},className:"class123"},n.createElement(ie,{in:this.props.isOpen},"start"!=this.state.typeLogin?null:n.createElement(R.Z,{className:"modalLoginStart"},n.createElement(z.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(K.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG"},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(W.Z,{component:"h2"},"Мой аккаунт")),n.createElement(K.rZ,{type:"phone",placeholder:"Телефон",value:this.state.loginLogin,func:this.changeData.bind(this,"loginLogin"),onKeyDown:this.checkLoginKey.bind(this,1),className:"inputLogin"}),n.createElement("div",{className:"loginErr"},n.createElement(W.Z,{component:"span"},this.state.errPhone)),n.createElement(K.rZ,{type:"password",placeholder:"Пароль",value:this.state.pwdLogin,func:this.changeData.bind(this,"pwdLogin"),onKeyDown:this.checkLoginKey.bind(this,1),className:"inputLogin"}),n.createElement("div",{className:"loginLosePWD"},n.createElement(W.Z,{component:"span",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"resetPWD"})}},"Забыли пароль ?")),n.createElement("div",{className:"loginLogin",onClick:this.logIn.bind(this)},n.createElement(W.Z,{component:"span"},"Войти")),n.createElement("div",{className:"loginCreate",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"create"}),e.gen_password()}},n.createElement(W.Z,{component:"span"},"Создать новый аккаунт")),n.createElement("div",{className:"loginSMS"},n.createElement(W.Z,{component:"span",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"loginSMS"})}},"Войти по смс"))),"loginSMS"!=this.state.typeLogin?null:n.createElement(R.Z,{className:"modalLoginCreate"},n.createElement(z.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(K.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG"},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(W.Z,{component:"h2"},"Вход по СМС")),n.createElement(K.rZ,{type:"phone",placeholder:"Телефон",value:this.state.loginLogin,func:this.changeData.bind(this,"loginLogin"),onKeyDown:this.checkLoginKey.bind(this,2),className:"inputLogin",style:{marginBottom:0}}),n.createElement("div",{className:"loginErr"},n.createElement(W.Z,{component:"span"},this.state.errPhone)),n.createElement("div",{className:"loginLogin",onClick:this.sendSMS.bind(this)},n.createElement(W.Z,{component:"span"},"Получить код")),n.createElement("div",{className:"loginCreate",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"start"})}},n.createElement(W.Z,{component:"span"},"У меня есть аккаунт"))),"loginSMSCode"!=this.state.typeLogin?null:n.createElement(R.Z,{className:"modalLoginSMSCode"},n.createElement(z.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(K.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG"},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/tripple_dop.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(W.Z,{component:"h2"},"Проверим телефон ?")),n.createElement("div",{className:"loginSubHeader",style:{display:"none"}},n.createElement(W.Z,{component:"span"},"Сейчас мы вам позвоним."),n.createElement(W.Z,{component:"span"},"Введите последние 4 цифры номера.")),n.createElement("div",{className:"loginSubHeader"},n.createElement(W.Z,{component:"span"},"Введите 4 цифры из смс.")),n.createElement("div",{className:this.state.timerSMS>0?"loginAutCode":"loginAutCodeOther"},n.createElement(X.Z,{autoFocus:!0,allowedCharacters:"numeric",length:"4",onChange:this.changeCode.bind(this)})),n.createElement("div",{className:"loginErr"},n.createElement(W.Z,{component:"span"},this.state.errPhone)),this.state.timerSMS>0?n.createElement("div",{className:"loginTimer"},n.createElement(W.Z,{component:"span"},"Повторно отправить можно через ",this.state.timerSMSTime)):n.createElement("div",{className:"loginTimerSend",onClick:this.sendSMS.bind(this)},n.createElement(W.Z,{component:"span"},"Отправить код еще раз")),n.createElement("div",{className:"loginSend "+(4==this.state.checkCode.length?"":"disabled"),onClick:this.checkCode.bind(this)},n.createElement(W.Z,{component:"span"},"Отправить")),n.createElement("div",{className:"loginPrev"},n.createElement(W.Z,{component:"span",onClick:function(){e.setState({typeLogin:e.state.fromType})}},"Изменить номер телефона"))),"resetPWD"!=this.state.typeLogin?null:n.createElement(R.Z,{className:"modalLoginReset"},n.createElement(z.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(K.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG"},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(W.Z,{component:"h2"},"Восстановление пароля")),n.createElement(K.rZ,{type:"phone",placeholder:"Телефон",value:this.state.loginLogin,func:this.changeData.bind(this,"loginLogin"),onKeyDown:this.checkLoginKey.bind(this,4),className:"inputLogin"}),n.createElement("div",{className:"loginErr"},n.createElement(W.Z,{component:"span"},this.state.errPhone)),n.createElement(K.rZ,{type:"password",placeholder:"Придумай пароль",value:this.state.newPassword,func:this.changeData.bind(this,"newPassword"),onKeyDown:this.checkLoginKey.bind(this,4),className:"inputLogin"}),n.createElement("div",{className:"loginLogin",onClick:this.sendsmsNewLogin.bind(this)},n.createElement(W.Z,{component:"span"},"Сменить пароль")),n.createElement("div",{className:"loginCreate",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"start"})}},n.createElement(W.Z,{component:"span"},"У меня есть аккаунт"))),"create"!=this.state.typeLogin?null:n.createElement(R.Z,{className:"modalLoginCreateNew"},n.createElement(z.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(K.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG"},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240_white.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(W.Z,{component:"h2"},"Новый аккаунт")),n.createElement(K.rZ,{type:"phone",placeholder:"Телефон",value:this.state.loginLogin,func:this.changeData.bind(this,"loginLogin"),onKeyDown:this.checkLoginKey.bind(this,4),className:"inputLogin"}),n.createElement("div",{className:"loginErr"},n.createElement(W.Z,{component:"span"},this.state.errPhone)),n.createElement(K.rZ,{type:"password",placeholder:"Придумайте пароль",value:this.state.newPassword,func:this.changeData.bind(this,"newPassword"),onKeyDown:this.checkLoginKey.bind(this,4),className:"inputLogin"}),n.createElement("div",{className:"loginSubHeader"},n.createElement(W.Z,{component:"span"},"Надежный пароль - строчные и заглавные буквы, цифры и символы."),n.createElement(W.Z,{component:"span"},"Например: ",this.state.genPwd)),n.createElement("div",{className:"loginErrText"},n.createElement(W.Z,{component:"span"})),n.createElement("div",{className:"loginLogin",onClick:this.sendsmsNewLogin.bind(this)},n.createElement(W.Z,{component:"span"},"Создать аккаунт")),n.createElement("div",{className:"loginCreate",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"start"})}},n.createElement(W.Z,{component:"span"},"У меня есть аккаунт"))),"finish"!=this.state.typeLogin?null:n.createElement(R.Z,{className:"modalLoginFinish"},n.createElement(z.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(K.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG"},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/like.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(W.Z,{component:"h2"},"Добро пожаловать")),n.createElement("div",{className:"loginSubHeader1"},n.createElement(W.Z,{component:"span"},"Теперь вы можете легко оформить онлайн-заказ с доставкой или забрать его самостоятельно из любого нашего кафе.")),n.createElement("div",{className:"loginSubHeader2"},n.createElement(W.Z,{component:"span"},n.createElement(s.OL,{to:"/samara/profile",exact:!0,onClick:this.close.bind(this)},"Укажите в профиле")," день рождения и мы заренее пришлём вам промокод на приятный подарок.")),n.createElement(s.OL,{to:"/samara/",exact:!0,className:"loginLogin",onClick:this.close.bind(this)},n.createElement(W.Z,{component:"span"},"Перейти в меню")),n.createElement(s.OL,{to:"/samara/cart",exact:!0,className:"loginCreate",onClick:this.close.bind(this)},n.createElement(W.Z,{component:"span"},"Открыть корзину"))),"error"!=this.state.typeLogin?null:n.createElement(R.Z,{className:"modalLoginError"},n.createElement(z.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(K.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"InnerBorder"},n.createElement("div",{className:"loginHeader"},n.createElement(W.Z,{component:"h2"},this.state.errTitle)),n.createElement("div",{className:"loginSubHeader1"},n.createElement(W.Z,{component:"span"},this.state.errText1)),n.createElement("div",{className:"loginSubHeader2"},n.createElement(W.Z,{component:"span"},this.state.errText2))))))}}]),u}(n.Component),re=function(e){(0,m.Z)(a,e);var t=ae(a);function a(e){var n,i,s;return(0,o.Z)(this,a),(s=t.call(this,e)).state={open:!1,cityName:null!==(n=s.props.cityName)&&void 0!==n?n:"",cityList:null!==(i=s.props.cityList)&&void 0!==i?i:[]},s}return(0,l.Z)(a,[{key:"componentDidUpdate",value:function(){var e,t;this.props.isOpen!=this.state.open&&this.setState({open:this.props.isOpen,cityName:null!==(e=this.props.cityName)&&void 0!==e?e:"",cityList:null!==(t=this.props.cityList)&&void 0!==t?t:[]})}},{key:"chooseCity",value:function(e){setTimeout((function(){G.Z.saveCartData([]),localStorage.setItem("myCity",e),window.location.reload()}),300)}},{key:"getNewLink",value:function(e){return"undefined"!=typeof window?window.location.pathname.replace(this.state.cityName,e):""}},{key:"render",value:function(){var e=this;return n.createElement(V.Z,{open:this.props.isOpen,onClose:this.props.close,closeAfterTransition:!0,BackdropComponent:M.Z,BackdropProps:{timeout:500},className:"class123"},n.createElement(ie,{in:this.props.isOpen},n.createElement(R.Z,{className:"modalCity"},n.createElement(z.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.props.close},n.createElement(K.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG"},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(W.Z,{component:"h2"},"Выберите город")),this.state.cityList.map((function(t,a){return n.createElement(s.OL,{key:a,className:e.state.cityName==t.link?"active":"",to:{pathname:e.getNewLink(t.link)},onClick:e.chooseCity.bind(e,t.link)},n.createElement(W.Z,{variant:"h5",component:"span",className:"ModalLabel"},t.name))})))))}}]),a}(n.Component),oe=function(e){(0,m.Z)(a,e);var t=ae(a);function a(e){var n;return(0,o.Z)(this,a),n=t.call(this,e),(0,h.Z)((0,c.Z)(n),"componentDidMount",(function(){(0,J.EH)((function(){var e=G.Z.getItems(),t=G.Z.getItemsPromo(),a=[];e.map((function(e){e.count>0&&(e.type,a.push(e))})),t.map((function(e){e.count>0&&(e.type,a.push(e))}));var i=0;a.map((function(e){i+=parseInt(e.count)})),n.setState({allCount:i,allPrice:G.Z.getSumDiv()+G.Z.getAllPrice(),thisPage:G.Z.getPage(),auth:!!G.Z.getToken()})}))})),n.state={allPrice:0,allCount:0,thisPage:"",auth:!1},n}return(0,l.Z)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.allPrice!==t.allPrice||this.state.thisPage!==t.thisPage||this.state.auth!==t.auth}},{key:"render",value:function(){var e,t,a,i=G.Z.getCity();return"cart"==this.state.thisPage?null:n.createElement(A.Z,{className:"bottomNavigateNew",sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3},0==parseInt(this.state.allCount)?n.createElement("span",{className:"textPrice"}):n.createElement("span",{className:"textPrice"},this.state.allCount," ",(e=this.state.allCount,"товар","товара",t="товаров",a=Math.abs(e),(a%=100)>=5&&a<=20?t:1==(a%=10)?"товар":a>=2&&a<=4?"товара":t)," на ",new Intl.NumberFormat("ru-RU").format(this.state.allPrice)," ",n.createElement(K.Ir,{style:{width:14,height:14,fill:"#525252",marginLeft:0,paddingBottom:0}})),!0===this.state.auth?n.createElement(s.OL,{to:"/"+i+"/cart",exact:!0,className:"MuiButtonBase-root MuiBottomNavigationAction-root"},"Оформить заказ"):n.createElement(W.Z,{component:"span",className:"MuiButtonBase-root MuiBottomNavigationAction-root",onClick:this.props.openLogin},"Оформить заказ"))}}]),a}(n.Component),le=function(e){(0,m.Z)(a,e);var t=ae(a);function a(e){var n;return(0,o.Z)(this,a),n=t.call(this,e),(0,h.Z)((0,c.Z)(n),"_isMounted",!1),(0,h.Z)((0,c.Z)(n),"componentDidMount",(function(){n._isMounted=!0,localStorage.getItem("promo_name")&&localStorage.getItem("promo_name").length>0&&(n.setState({promoName:localStorage.getItem("promo_name")}),setTimeout((function(){n.checkPromo()}),1e3));var e=G.Z.getAllItems(),t=G.Z.getItems(),a=G.Z.getItemsPromo(),i=[];t.map((function(e){e.count>0&&(e.type,i.push(e))})),a.map((function(e){e.count>0&&(e.type,i.push(e))}));var s=G.Z.getSumDiv(),r=0;i.map((function(e){s+=parseInt(e.one_price)*parseInt(e.count),r+=parseInt(e.count)})),i.map((function(t,a){var n=e.find((function(e){return parseInt(e.id)==parseInt(t.item_id)}));i[a].is_sale=parseInt(t.all_price)!=parseInt(t.count)*parseInt(t.one_price),i[a].img_new=n.img_new,i[a].img_new_update=n.img_new_update,i[a].img_app=n.img_app})),n.setState({cartItems:i,originPrice:s,countCart:r}),(0,J.EH)((function(){if(n._isMounted){var e=G.Z.getPromoStatus();n.setState({allPrice:G.Z.getSumDiv()+G.Z.getAllPrice(),promoText:e.text,promoST:e.st});var t=G.Z.getAllItems(),a=G.Z.getItems(),i=G.Z.getItemsPromo(),s=[];a.map((function(e){e.count>0&&(e.type="us",s.push(e))})),i.map((function(e){e.count>0&&(e.type="promo",s.push(e))})),s.map((function(e,a){var n=t.find((function(t){return parseInt(t.id)==parseInt(e.item_id)}));s[a].is_sale=parseInt(e.all_price)!=parseInt(e.count)*parseInt(e.one_price),s[a].img_new=n.img_new,s[a].img_new_update=n.img_new_update,s[a].img_app=n.img_app}));var r=G.Z.getSumDiv(),o=0;s.map((function(e){r+=parseInt(e.one_price)*parseInt(e.count),o+=parseInt(e.count)})),n.setState({originPrice:r,cartItems:s,sumDiv:G.Z.getSumDiv(),promoName:localStorage.getItem("promo_name")?localStorage.getItem("promo_name"):"",countCart:o})}}))})),(0,h.Z)((0,c.Z)(n),"handleClick",(function(e){Boolean(n.state.anchorEl)?n.handleClose():"cart"!==G.Z.getPage()?n.setState({anchorEl:document.getElementById("headerNew")}):n.handleClose()})),(0,h.Z)((0,c.Z)(n),"handleClose",(function(){n.setState({anchorEl:null})})),n.state={anchorEl:null,cartItems:[],originPrice:0,allPrice:0,sumDiv:0,countCart:0,promoName:"",promoText:"",promoST:!1},n}return(0,l.Z)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(e){G.Z.AddItem(e)}},{key:"minus",value:function(e){G.Z.MinusItem(e)}},{key:"checkPromo",value:function(){G.Z.getInfoPromo(this.state.promoName)}},{key:"changePromo",value:function(e){this.setState({promoName:e.target.value})}},{key:"checkPromoKey",value:function(e){13==parseInt(e.keyCode)&&this.checkPromo()}},{key:"render",value:function(){var e=this,t=Boolean(this.state.anchorEl),a=t?"simple-popover":void 0;return n.createElement("div",{style:{width:"12.27%",minWidth:"max-content"}},n.createElement("div",{"aria-describedby":a,style:{width:"100%",minWidth:"max-content"},className:parseInt(this.state.countCart)>0?"headerCart count":"headerCart",onClick:this.handleClick.bind(this)},n.createElement("span",null,"Корзина"),parseInt(this.state.countCart)>0?n.createElement("div",null,this.state.countCart):null),n.createElement(F.ZP,{id:a,open:t,anchorEl:this.state.anchorEl,onClose:this.handleClose.bind(this),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},style:{zIndex:1100}},n.createElement("div",null,n.createElement("table",{className:"TableMini"},n.createElement("tbody",null,this.state.cartItems.map((function(t,a){return"us"==t.type?n.createElement("tr",{key:a},n.createElement("td",{className:"CellPic"},t.img_app.length>0?n.createElement("picture",null,n.createElement("source",{type:"image/webp",srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_138x138.webp 138w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_146x146.webp 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_183x183.webp 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_233x233.webp 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_292x292.webp 292w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_366x366.webp 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_584x584.webp 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_760x760.webp 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("source",{type:"image/jpeg",srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_138x138.jpg 138w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_146x146.jpg 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_183x183.jpg 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_233x233.jpg 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_292x292.jpg 292w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_366x366.jpg 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_584x584.jpg 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_760x760.jpg 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:t.name,title:t.name,src:"https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_276x276.jpg")})):n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+t.img_new+"600х400.webp?"+t.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+t.img_new+"600х400.jpg?"+t.img_new_update,alt:t.name,title:t.name}))),n.createElement("td",{className:"TableMiniName CellName"},n.createElement("span",{style:{height:40,width:"100%",display:"flex",alignItems:"center"}},t.name)),n.createElement("td",{className:"CellButton"},n.createElement(K.WY,{count:t.count,item_id:t.item_id,minus:e.minus.bind(e),add:e.add.bind(e)})),!0===t.is_sale&&!0===e.state.promoST?n.createElement("td",{className:"CellPrice2"},n.createElement("div",{className:"TableMiniPrice"},n.createElement("div",null,new Intl.NumberFormat("ru-RU").format(parseInt(t.one_price)*parseInt(t.count)),n.createElement(K.Ir,{style:{width:13,height:13,fill:"rgba(27, 27, 31, 0.2)",marginLeft:5}}))),n.createElement("div",{className:"TableMiniPrice"},new Intl.NumberFormat("ru-RU").format(t.all_price),n.createElement(K.Ir,{style:{width:13,height:13,fill:"#525252",marginLeft:5}}))):n.createElement("td",{className:"CellPrice"},n.createElement("div",{className:"TableMiniPrice"},new Intl.NumberFormat("ru-RU").format(parseInt(t.one_price)*parseInt(t.count)),n.createElement(K.Ir,{style:{width:13,height:13,fill:"#525252",marginLeft:5}})))):n.createElement("tr",{key:a},n.createElement("td",{className:"CellPic"},t.img_app.length>0?n.createElement("picture",null,n.createElement("source",{type:"image/webp",srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_138x138.webp 138w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_146x146.webp 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_183x183.webp 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_233x233.webp 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_292x292.webp 292w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_366x366.webp 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_584x584.webp 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_760x760.webp 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("source",{type:"image/jpeg",srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_138x138.jpg 138w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_146x146.jpg 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_183x183.jpg 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_233x233.jpg 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_292x292.jpg 292w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_366x366.jpg 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_584x584.jpg 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_760x760.jpg 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:t.name,title:t.name,src:"https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_276x276.jpg")})):n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+t.img_new+"600х400.webp?"+t.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+t.img_new+"600х400.jpg?"+t.img_new_update,alt:t.name,title:t.name}))),n.createElement("td",{className:"TableMiniName CellName"},n.createElement("span",{style:{height:40,width:"100%",display:"flex",alignItems:"center"}},t.name)),n.createElement("td",{className:"CellButtonPrize",colSpan:"2"},n.createElement(K.cZ,{count:t.count,price:t.all_price})))}))),n.createElement("tfoot",null,n.createElement("tr",null,n.createElement("td",null,"Итого:"),n.createElement("td",null,this.state.originPrice!=this.state.allPrice&&!0===this.state.promoST?n.createElement("div",{className:"originPrice"},n.createElement("span",null,new Intl.NumberFormat("ru-RU").format(this.state.originPrice),n.createElement(K.Ir,{style:{width:14,height:14,fill:"rgba(27,27,31,0.2)",marginLeft:5}}))):n.createElement("div",null,new Intl.NumberFormat("ru-RU").format(this.state.originPrice),n.createElement(K.Ir,{style:{width:14,height:14,fill:"#525252",marginLeft:5}})))))),n.createElement("div",{className:"SpacePromoRoot"},n.createElement(A.Z,{component:"div",className:"SpacePromo",elevation:0},n.createElement(D.ZP,{onBlur:this.checkPromo.bind(this),value:this.state.promoName,onKeyDown:this.checkPromoKey.bind(this),onChange:this.changePromo.bind(this),placeholder:"Есть промокод"}),this.state.promoText.length>0?n.createElement("div",{className:!0===this.state.promoST?"promoIndicator true":"promoIndicator false"}):null),this.state.originPrice!=this.state.allPrice&&!0===this.state.promoST?n.createElement("div",{className:"DescPromoPrice"},new Intl.NumberFormat("ru-RU").format(this.state.allPrice),n.createElement(K.Ir,{style:{width:14,height:14,fill:"#525252",marginLeft:5}})):null,this.state.promoText.length>0&&!1===this.state.promoST?n.createElement("div",{className:"DescPromo"},n.createElement(W.Z,{className:"cat",variant:"h5",component:"span"},this.state.promoText)):null),n.createElement("div",{className:"InCart"},null!==G.Z.getToken()?n.createElement(s.OL,{to:"/"+G.Z.getCity()+"/cart",exact:!0,style:{textDecoration:"none"},onClick:this.handleClose.bind(this)},n.createElement(L.Z,{disableElevation:!0,disableRipple:!0,variant:"contained"},n.createElement(j.Z,{variant:"contained"},"Оформить заказ"))):n.createElement(L.Z,{disableElevation:!0,disableRipple:!0,variant:"contained"},n.createElement(j.Z,{variant:"contained",onClick:this.props.openLogin},"Оформить заказ"))))))}}]),a}(n.Component),ce=function(e){(0,m.Z)(a,e);var t=ae(a);function a(){return(0,o.Z)(this,a),t.apply(this,arguments)}return(0,l.Z)(a,[{key:"render",value:function(){return n.createElement(me,{data:this.props.data,city:this.props.city,this_link:this.props.this_link})}}]),a}(n.Component),me=function(e){(0,m.Z)(a,e);var t=ae(a);function a(e){var n;return(0,o.Z)(this,a),n=t.call(this,e),(0,h.Z)((0,c.Z)(n),"componentDidMount",(function(){setTimeout((function(){var e=G.Z.getUserName(),t=G.Z.getToken();n.setState({token:localStorage.getItem("token")&&0!=localStorage.getItem("token").length?localStorage.getItem("token"):""}),t&&0==t.length&&localStorage.getItem("token")&&localStorage.getItem("token").length>0&&n.setToken(localStorage.getItem("token"),""),e.length>0&&(G.Z.setUserName(e),n.setState({userName:e})),localStorage.getItem("myCity")&&0!=localStorage.getItem("myCity").length||n.setState({openCity:!0});var a=G.Z.getCartData();if((a.orderType||0==a.orderType)&&0==a.orderType&&a.orderAddr&&a.orderAddr.id&&-1!==a.orderAddr.id){var i=G.Z.getAllPrice();1==parseInt(a.orderAddr.free_drive)?parseInt(i)>0?G.Z.setSumDiv(0):G.Z.setSumDiv(1):G.Z.setSumDiv(parseInt(a.orderAddr.sum_div))}n.setState({is_load:!0}),n.load()}),300),(0,J.EH)((function(){n.setState({activePage:G.Z.getPage()}),n.setState({token:localStorage.getItem("token")&&0!=localStorage.getItem("token").length?localStorage.getItem("token"):""}),G.Z.getCity()!==n.state.cityName&&(n.setState({cityName:G.Z.getCity()}),n.load());var e=G.Z.getUserName();e&&0!=e.length&&n.setState({userName:e})}))})),(0,h.Z)((0,c.Z)(n),"handleClick",(function(e){console.log("anchorEl",e.currentTarget),n.setState({anchorEl:e.currentTarget})})),(0,h.Z)((0,c.Z)(n),"handleClose",(function(){n.setState({anchorEl:null})})),n.props&&n.props.data&&(n.is_load=!0,G.Z.setDops(n.props.data.all.other.cats.need_dop),G.Z.setAllItems(n.props.data.all.other.cats.all_items),G.Z.setAllItemsCat(n.props.data.all.other.cats.arr),G.Z.setAllItemsCatNew(n.props.data.all.other.cats.main_cat),G.Z.setFreeItems(n.props.data.all.other.cats.free_items),G.Z.setBanners(n.props.data.all.other.cats.baners),G.Z.setCityRU(n.props.data.all.other.cats.this_city_name_ru),G.Z.setCity(n.props.city)),n.state={this_link:n.props.this_link?n.props.this_link:"",categoryItemsNew:n.props.data?n.props.data.all.other.cats.main_cat:[],categoryItems:n.props.data?n.props.data.all.other.cats.arr:[],cartItems:[],activePage:"",is_load:!1,is_load_new:!1,openCity:!1,cityName:n.props.city?n.props.city:"",testData:[1,2,3,4],cityList:n.props.data?n.props.data.all.other.cats.city_list:[],openLoginNew:!1,userName:"",token:"",soc_link:null,openDrawer:!1,anchorEl:null,cityNameRu:n.props.data&&n.props.data.all.other.cats.this_city_name_ru&&n.props.data.all.other.cats.this_city_name_ru.length>0?n.props.data.all.other.cats.this_city_name_ru:"Город"},n}return(0,l.Z)(a,[{key:"load",value:function(){var e=this;G.Z.getCity()&&fetch(q().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ne.stringify({type:"get_cat_web",city_id:G.Z.getCity(),user_id:G.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){G.Z.setUserName(t.user_name),G.Z.setDops(t.need_dop),G.Z.setAllItems(t.all_items),G.Z.setAllItemsCat(t.arr),G.Z.setAllItemsCatNew(t.main_cat),G.Z.setFreeItems(t.free_items),G.Z.setBanners(t.baners),G.Z.setCityRU(t.this_city_name_ru),e.setState({cityList:t.city_list,categoryItems:t.arr,categoryItemsNew:t.main_cat,is_load:!0,cityNameRu:t.this_city_name_ru,userName:t.user_name}),e.is_load=!1})).catch((function(e){}))}},{key:"openCity",value:function(){this.setState({openCity:!0})}},{key:"closeCity",value:function(){this.setState({openCity:!1})}},{key:"openLogin",value:function(){var e=this;localStorage.getItem("token")&&localStorage.getItem("token").length>0?fetch(q().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ne.stringify({type:"get_user_data",user_id:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(t){G.Z.setToken(localStorage.getItem("token"),t),G.Z.setUserName(t),e.is_load=!1,e.setState({userName:t,token:localStorage.getItem("token")}),"undefined"!=typeof window&&(window.location.pathname="/"+e.state.cityName+"/profile")})).catch((function(e){})):this.setState({openLoginNew:!0})}},{key:"closeLogin",value:function(){this.setState({openLoginNew:!1})}},{key:"toggleDrawer",value:function(e){this.setState({openDrawer:e})}},{key:"render",value:function(){var e=this,t=this.props.this_link,a=(t=t.split("/")).find((function(e){return"menu"==e}));if(a&&a.length>0){var i=t.find((function(e){return"item"==e}));if(!i){var r=t.findIndex((function(e){return"menu"==e}));t[r+1]}}if("undefined"!=typeof window){var o=window.location.href;if(this.state.this_link!=o&&(t=(t=o).split("/"),a=t.find((function(e){return"menu"==e})),a&&a.length>0)){var l=t.find((function(e){return"item"==e}));if(!l){var c=t.findIndex((function(e){return"menu"==e}));t[c+1]}}}return n.createElement(R.Z,{sx:{flexGrow:1}},n.createElement(N.Z,{position:"fixed",className:"headerNew",id:"headerNew",elevation:2,sx:{display:{xs:"none",md:"block"}}},n.createElement(T.Z,null,n.createElement("div",{style:{width:"4.51%"}}),n.createElement(s.OL,{to:"/",style:{width:"14.8%"}},n.createElement("img",{alt:"Жако доставка роллов и пиццы",src:"/assets/jaco-logo.png",style:{width:"100%"}})),n.createElement("div",{style:{width:"2.53%"}}),n.createElement("a",{style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"},onClick:this.openCity.bind(this)},n.createElement("span",{className:"headerCat"},this.state.cityNameRu)),n.createElement("div",{style:{width:"0.36%"}}),this.state.categoryItemsNew.map((function(t,i){return"home"!=e.state.activePage||a?n.createElement(n.Fragment,{key:i},n.createElement(s.OL,{to:"/"+e.state.cityName,name:t.main_link,style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"},onClick:function(){"undefined"==typeof window||localStorage.setItem("goTo",t.id)}},n.createElement("span",{className:"headerCat"},t.name)),n.createElement("div",{style:{width:"0.36%"}})):n.createElement(n.Fragment,{key:i},n.createElement(H.rU,{to:"cat"+t.id,spy:!0,isDynamic:!0,onSetActive:function(e){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),document.querySelector("#link_"+t.id).classList.add("activeCat")},smooth:!0,offset:-120,style:{width:"7.22%",minWidth:"max-content"}},n.createElement("span",{className:"headerCat",name:t.main_link,id:"link_"+t.id},t.name)),n.createElement("div",{style:{width:"0.36%"}}))})),n.createElement(s.OL,{to:"/"+this.state.cityName+"/akcii",style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"}},n.createElement("span",{className:"actii"==this.state.activePage?"headerCat activeCat":"headerCat"},"Акции")),n.createElement("div",{style:{width:"0.36%"}}),this.state.token.length>0?(this.state.userName.length,n.createElement(s.OL,{to:"/"+this.state.cityName+"/profile",style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"}},n.createElement("span",{className:"profile"==this.state.activePage?"headerCat activeCat":"headerCat"},"Профиль"))):n.createElement("a",{style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"},onClick:this.openLogin.bind(this)},n.createElement("span",{className:"headerCat"},"Войти")),n.createElement("div",{style:{width:"3.25%"}}),n.createElement(le,{openLogin:this.openLogin.bind(this)}),n.createElement("div",{style:{width:"4.51%"}}))),n.createElement(N.Z,{position:"fixed",className:"headerNewMobile",id:"headerNewMobile",elevation:2,sx:{display:{xs:"block",md:"none"}}},n.createElement(T.Z,null,n.createElement(s.OL,{to:"/"},n.createElement("img",{alt:"Жако доставка роллов и пиццы",src:"/assets/Logomini.png",style:{height:40}})),n.createElement(n.Fragment,null,n.createElement(K.ZR,{onClick:this.toggleDrawer.bind(this,!0),style:{padding:20,marginRight:-20}}),n.createElement(Q.Z,{anchor:"right",open:this.state.openDrawer,onClose:this.toggleDrawer.bind(this,!1),onOpen:this.toggleDrawer.bind(this,!0)},n.createElement($.Z,{className:"LinkList"},n.createElement(ee.ZP,{disablePadding:!0,onClick:function(){e.toggleDrawer(!1),e.openCity()}},n.createElement("a",null,this.state.cityNameRu)),n.createElement(ee.ZP,{disablePadding:!0,onClick:this.toggleDrawer.bind(this,!1)},n.createElement(s.OL,{to:"/"+this.state.cityName},"Меню")),n.createElement(ee.ZP,{disablePadding:!0,onClick:this.toggleDrawer.bind(this,!1)},n.createElement(s.OL,{to:"/"+this.state.cityName+"/akcii"},"Акции")),0==this.state.token.length?n.createElement(ee.ZP,{disablePadding:!0,onClick:function(){e.toggleDrawer(!1),e.openLogin()}},n.createElement("a",null,"Профиль")):n.createElement(ee.ZP,{disablePadding:!0,onClick:this.toggleDrawer.bind(this,!1)},n.createElement(s.OL,{to:"/"+this.state.cityName+"/profile"},"Профиль")),n.createElement(ee.ZP,{disablePadding:!0,onClick:this.toggleDrawer.bind(this,!1)},n.createElement(s.OL,{to:"/"+this.state.cityName+"/contacts"},"Контакты"))))))),n.createElement(re,{isOpen:this.state.openCity,close:this.closeCity.bind(this),cityList:this.state.cityList,cityName:this.state.cityName}),n.createElement(se,{isOpen:this.state.openLoginNew,close:this.closeLogin.bind(this)}),n.createElement(R.Z,{sx:{display:{md:"none",lg:"none",xl:"none"}}},n.createElement(oe,{openLogin:this.openLogin.bind(this)})))}}]),a}(n.Component),de=a(30),pe=a(9603),he=a(5503),ue=a(4465),ge=a(2026);function ye(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.Z)(this,a)}}var fe=a(7563),_e={itemsStore:G.Z},ve=a(5152),Ee=null;function xe(e){var t=e.code,a=e.children;return n.createElement(y.AW,{render:function(e){var n=e.staticContext;return n&&(n.status=t),a}})}function we(){return n.createElement(xe,{code:404},n.createElement(de.ZP,{container:!0,className:"Contact mainContainer MuiGrid-spacing-xs-3",style:{marginTop:64}},n.createElement(de.ZP,{item:!0,xs:12},n.createElement(W.Z,{variant:"h5",component:"h1"},"404 Страница не найдена"))))}var be=function(e){(0,m.Z)(a,e);var t=ye(a);function a(e){var n;return(0,o.Z)(this,a),n=t.call(this,e),(0,h.Z)((0,c.Z)(n),"componentDidMount",(function(){n.setState({page:G.Z.getPage()}),(0,J.EH)((function(){n.setState({cityName:G.Z.getCity()}),n.setState({page:G.Z.getPage()}),n.loadPageInfo()}))})),n.state={soc_link:null,cityName:n.props.cityName,is_load:!1,page:""},n}return(0,l.Z)(a,[{key:"loadPageInfo",value:function(){var e=this;G.Z.getCity()&&fetch(q().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:fe.stringify({type:"get_page_info",city_id:G.Z.getCity(),page:"info"})}).then((function(e){return e.json()})).then((function(t){e.setState({soc_link:t.soc_link,is_load:!0})})).catch((function(e){}))}},{key:"render",value:function(){return n.createElement("footer",{className:"footer "+("cart"==this.state.page?this.state.page:"")},n.createElement(de.ZP,{container:!0,className:"mainContainer"},n.createElement(de.ZP,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12,className:"copy"},n.createElement(W.Z,{variant:"body1",component:"h1"},"© Жако 2017 - ",(new Date).getFullYear())),n.createElement(de.ZP,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12},n.createElement(s.OL,{to:"/"+this.state.cityName+"/about",style:{textDecoration:"none"}},n.createElement(W.Z,{variant:"body1"},"О Компании")),n.createElement(s.OL,{to:"/"+this.state.cityName+"/jobs",style:{textDecoration:"none"}},n.createElement(W.Z,{variant:"body1"},"Вакансии")),n.createElement(s.OL,{to:"/"+this.state.cityName+"/publichnaya-oferta",style:{textDecoration:"none"}},n.createElement(W.Z,{variant:"body1"},"Публичная оферта")),this.state.is_load&&this.state.soc_link&&this.state.soc_link.link_allergens.length?n.createElement(s.OL,{to:{pathname:this.state.soc_link.link_allergens},target:"_blank",style:{textDecoration:"none"}},n.createElement(W.Z,{variant:"body1"},"Калорийность, состав и аллергены")):null),n.createElement(de.ZP,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12},n.createElement(s.OL,{to:"/"+this.state.cityName+"/politika-konfidencialnosti",style:{textDecoration:"none"}},n.createElement(W.Z,{variant:"body1"},"Политика конфиденциальности")),n.createElement(s.OL,{to:"/"+this.state.cityName+"/contacts",style:{textDecoration:"none"}},n.createElement(W.Z,{variant:"body1"},"Доставка и контакты")),n.createElement(s.OL,{to:"/"+this.state.cityName+"/instpayorders",style:{textDecoration:"none"}},n.createElement(W.Z,{variant:"body1"},"Правила оплаты товаров"))),this.state.is_load?n.createElement(de.ZP,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12,className:"socIcons"},this.state.soc_link&&this.state.soc_link.link_ok?n.createElement(s.OL,{to:{pathname:this.state.soc_link.link_ok},target:"_blank",style:{textDecoration:"none"}},n.createElement(K.lX,null)):null,this.state.soc_link&&this.state.soc_link.link_vk?n.createElement(s.OL,{to:{pathname:this.state.soc_link.link_vk},target:"_blank",style:{textDecoration:"none"}},n.createElement(K.Km,null)):null,n.createElement(s.OL,{to:{pathname:"https://t.me/jacofood"},target:"_blank",style:{textDecoration:"none"}},n.createElement(K.SV,null))):null))}}]),a}(n.Component);function Ze(e){return e=(e=e.split("/")).filter((function(e){return""!=e})),e[0]}var Ie=function(e){(0,m.Z)(i,e);var t,a=ye(i);function i(e){var t;return(0,o.Z)(this,i),t=a.call(this,e),(0,h.Z)((0,c.Z)(t),"getData",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return 1==n&&t.setState({is_load:!0}),a.type=e,fetch(q().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:fe.stringify(a)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){setTimeout((function(){t.setState({is_load:!1})}),300),console.log(e)}))})),(0,h.Z)((0,c.Z)(t),"componentDidMount",(function(){if(Ee=(0,he.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),(0,ue.IH)(Ee),(0,ge.r)(Ee),!t.props.globalState){var e=window.location.pathname,a=e.split("/");a=a.filter((function(e){return""!=e})),a=a[0],ve.find((function(t){return(0,y.LX)(e,t)}))}(0,J.EH)((function(){t.setState({activePage:G.Z.getPage()}),t.setState({cityName:G.Z.getCity()})}))})),t.state={categoryItems:[],cartItems:[],activePage:"",is_load:!1,openCity:!1,cityName:"",testData:[1,2,3,4,5,6,7,8,9],cityList:[],openLogin:!1,userLogin:"",userLoginFormat:"",userCode:"",stage_1:!0,stage_2:!1,timerSMS:59,errPhone:"",errSMS:"",userName:"",soc_link:null,globalState:null},t}return(0,l.Z)(i,[{key:"getData1",value:(t=(0,r.Z)(g().mark((function e(t){var a,n,i,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={city_id:Ze(t),page:"",link:t},e.next=3,this.getData("get_page_info",a);case 3:n=e.sent,i={title:n.page.title,description:n.page.description,page:n.page,cats:n.cats,allItems:n.allItems,all:n},s={data:i,city:Ze(t),this_link:t,linkItem:"",Item:null},this.setState({globalState:s});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){return this.state.activePage!==t.activePage||this.state.cityName!==t.cityName||this.state.globalState!==t.globalState}},{key:"render",value:function(){return this.props.globalState?this.props.globalState?n.createElement(pe.zt,_e,n.createElement("div",{className:"home"},n.createElement(y.rs,null,n.createElement(y.AW,{path:"/:cityName/contacts",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(v.Contact,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/akcii/:act_id",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(E.Actii,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/akcii",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(E.Actii,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/menu",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(f.Home,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(f.Home,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/item/:id",exact:!0},n.createElement(ce,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(_.Item,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link,linkItem:this.props.globalState.linkItem,item:this.props.globalState.Item}))),n.createElement(y.AW,{path:"/:cityName/menu/:catLink/:itemId",exact:!0},n.createElement(ce,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(_.Item,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link,linkItem:this.props.globalState.linkItem,item:this.props.globalState.Item}))),n.createElement(y.AW,{exact:!0,path:"/:cityName/profile/"},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(x.Profile,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/menu/:itemLink",exact:!0},n.createElement(ce,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(f.HomeCat,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/cart",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(w.Cart,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/about",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(b.PageAbout,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/jobs",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Z.PageJob,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/instpayorders",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(I.PageInstPay,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/publichnaya-oferta",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(S.PageOferta,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/politika-konfidencialnosti",exact:!0},n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(C.PagePolitika,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(y.AW,{path:"/",exact:!0},n.createElement(y.l_,{push:!0,to:"/togliatti"})),n.createElement(y.AW,{path:"/profile",exact:!0},n.createElement(y.l_,{push:!0,to:"/togliatti"})),n.createElement(y.AW,null,n.createElement(me,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(we,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}))),"cart"==this.state.activePage?n.createElement(R.Z,{sx:{display:{md:"none",lg:"none",xl:"none"}}},n.createElement(R.Z,{sx:{display:{xs:"none"}}},n.createElement("div",{className:"456",style:{width:"100%",height:3,position:"fixed",bottom:72,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:69,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:66,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:63,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:60,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:57,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:54,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:51,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:48,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:45,zIndex:0,backgroundColor:"#bababa",opacity:.1}})),n.createElement(R.Z,{sx:{display:{sm:"none"}}},n.createElement("div",{className:"123",style:{width:"100%",height:3,position:"fixed",bottom:171,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:168,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:165,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:162,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:159,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:156,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:153,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:150,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:147,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:144,zIndex:0,backgroundColor:"#bababa",opacity:.1}}))):null,n.createElement(be,{cityName:this.props.globalState.city}))):void 0:this.state.globalState?n.createElement(pe.zt,_e,n.createElement("div",{className:"home"},n.createElement(y.rs,null,n.createElement(y.AW,{path:"/:cityName/contacts",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(v.Contact,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/akcii/:act_id",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(E.Actii,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/akcii",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(E.Actii,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/menu",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(f.Home,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(f.Home,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/item/:id",exact:!0},n.createElement(ce,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(_.Item,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link,linkItem:this.state.globalState.linkItem,item:this.state.globalState.Item}))),n.createElement(y.AW,{path:"/:cityName/menu/:catLink/:itemId",exact:!0},n.createElement(ce,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(_.Item,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link,linkItem:this.state.globalState.linkItem,item:this.state.globalState.Item}))),n.createElement(y.AW,{exact:!0,path:"/:cityName/profile/"},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(x.Profile,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/menu/:itemLink",exact:!0},n.createElement(ce,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(f.HomeCat,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/cart",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(w.Cart,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/about",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(b.PageAbout,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/jobs",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(Z.PageJob,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/instpayorders",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(I.PageInstPay,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/publichnaya-oferta",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(S.PageOferta,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/:cityName/politika-konfidencialnosti",exact:!0},n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(C.PagePolitika,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(y.AW,{path:"/",exact:!0},n.createElement(y.l_,{push:!0,to:"/togliatti"})),n.createElement(y.AW,{path:"/profile",exact:!0},n.createElement(y.l_,{push:!0,to:"/togliatti"})),n.createElement(y.AW,null,n.createElement(me,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(we,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}))),"cart"==this.state.activePage?n.createElement(R.Z,{sx:{display:{md:"none",lg:"none",xl:"none"}}},n.createElement(R.Z,{sx:{display:{xs:"none"}}},n.createElement("div",{className:"456",style:{width:"100%",height:3,position:"fixed",bottom:72,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:69,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:66,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:63,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:60,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:57,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:54,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:51,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:48,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:45,zIndex:0,backgroundColor:"#bababa",opacity:.1}})),n.createElement(R.Z,{sx:{display:{sm:"none"}}},n.createElement("div",{className:"123",style:{width:"100%",height:3,position:"fixed",bottom:171,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:168,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:165,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:162,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:159,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:156,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:153,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:150,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:147,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:144,zIndex:0,backgroundColor:"#bababa",opacity:.1}}))):null,n.createElement(be,{cityName:this.state.globalState.city}))):n.createElement("h1",null,"LOAD ....")}}]),i}(n.Component);i.hydrate(n.createElement(s.VK,null,n.createElement(Ie,{globalState:GLOBAL_STATE})),document.getElementById("app"))},8811:e=>{e.exports={urlApi:"https://jacochef.ru/api/site/test_app.php"}},6406:(e,t,a)=>{"use strict";a.d(t,{GP:()=>b,Ir:()=>u,Km:()=>g,MG:()=>Z,SV:()=>f,WY:()=>w,ZR:()=>x,bM:()=>E,cZ:()=>I,kX:()=>v,lX:()=>y,rZ:()=>S,t1:()=>_});var n=a(5671),i=a(3144),s=a(136),r=a(6215),o=a(1120),l=a(7462),c=a(7294),m=a(986),d=a(1822),p=a(3646);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.Z)(e);if(t){var i=(0,o.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,r.Z)(this,a)}}function u(e){return c.createElement("svg",{style:e.style,xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 0 24 24"},c.createElement("path",{d:"M17.778 7.449a3.628 3.628 0 00-1.107-2.761l-.001-.001a4.03 4.03 0 00-2.923-1.057h.009-5.454v7.636h5.454a4.032 4.032 0 002.917-1.06l-.003.003a3.633 3.633 0 001.108-2.768v.007zm4.04 0a7.11 7.11 0 01-2.158 5.368l-.002.002a7.65 7.65 0 01-5.581 2.08h.015-5.795v2.011H16.926c.29 0 .525.235.525.525v.022-.001 2.203c0 .29-.235.525-.525.525h-.022.001-8.608v3.291a.537.537 0 01-.537.528H4.886a.525.525 0 01-.525-.525v-.022.001-3.273H.522a.525.525 0 01-.525-.525v-.022.001-2.182-.021c0-.29.235-.525.525-.525h.022-.001 3.818v-2.011H.522a.525.525 0 01-.525-.525v-.022.001-2.54-.006a.537.537 0 01.528-.537h.019-.001 3.818V.55.529c0-.29.235-.525.525-.525h.022-.001 9.187a7.653 7.653 0 015.57 2.084l-.004-.004a7.11 7.11 0 012.157 5.378v-.013z"}))}function g(e){return c.createElement("svg",{style:e.style,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},c.createElement("path",{d:"M31.4907 63.4907C0 94.9813 0 145.671 0 247.04V264.96C0 366.329 0 417.019 31.4907 448.509C62.9813 480 113.671 480 215.04 480H232.96C334.329 480 385.019 480 416.509 448.509C448 417.019 448 366.329 448 264.96V247.04C448 145.671 448 94.9813 416.509 63.4907C385.019 32 334.329 32 232.96 32H215.04C113.671 32 62.9813 32 31.4907 63.4907ZM75.6 168.267H126.747C128.427 253.76 166.133 289.973 196 297.44V168.267H244.16V242C273.653 238.827 304.64 205.227 315.093 168.267H363.253C359.313 187.435 351.46 205.583 340.186 221.579C328.913 237.574 314.461 251.071 297.733 261.227C316.41 270.499 332.907 283.63 346.132 299.751C359.357 315.873 369.01 334.618 374.453 354.747H321.44C316.555 337.262 306.614 321.61 292.865 309.754C279.117 297.899 262.173 290.368 244.16 288.107V354.747H238.373C136.267 354.747 78.0267 284.747 75.6 168.267Z"}))}function y(e){return c.createElement("svg",{style:e.style,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},c.createElement("path",{d:"M184.2 177.1c0-22.1 17.9-40 39.8-40s39.8 17.9 39.8 40c0 22-17.9 39.8-39.8 39.8s-39.8-17.9-39.8-39.8zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-305.1 97.1c0 44.6 36.4 80.9 81.1 80.9s81.1-36.2 81.1-80.9c0-44.8-36.4-81.1-81.1-81.1s-81.1 36.2-81.1 81.1zm174.5 90.7c-4.6-9.1-17.3-16.8-34.1-3.6 0 0-22.7 18-59.3 18s-59.3-18-59.3-18c-16.8-13.2-29.5-5.5-34.1 3.6-7.9 16.1 1.1 23.7 21.4 37 17.3 11.1 41.2 15.2 56.6 16.8l-12.9 12.9c-18.2 18-35.5 35.5-47.7 47.7-17.6 17.6 10.7 45.8 28.4 28.6l47.7-47.9c18.2 18.2 35.7 35.7 47.7 47.9 17.6 17.2 46-10.7 28.6-28.6l-47.7-47.7-13-12.9c15.5-1.6 39.1-5.9 56.2-16.8 20.4-13.3 29.3-21 21.5-37z"}))}function f(e){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",style:e.style},c.createElement("path",{d:"M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"}))}function _(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 80 80"},c.createElement("circle",{cx:"40",cy:"40",r:"39",stroke:"#DADADA",strokeWidth:"2"}),c.createElement("path",{stroke:"#DADADA",strokeLinecap:"round",strokeWidth:"4",d:"M40 34L40 62"}),c.createElement("circle",{cx:"40",cy:"22.667",r:"4",fill:"#DADADA"}))}function v(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 80 80"},c.createElement("circle",{cx:"40",cy:"40",r:"40",fill:"#000",fillOpacity:"0.6"}),c.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:"4",d:"M40 34L40 62"}),c.createElement("circle",{cx:"40",cy:"22.666",r:"4",fill:"#fff"}))}function E(e){return c.createElement("svg",{style:e.style?e.style:null,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},c.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:"3",d:"M2 2l60 60M62 2L2 62"}))}function x(e){return c.createElement("svg",(0,l.Z)({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"23",fill:"none",viewBox:"0 0 30 23"},e),c.createElement("path",{stroke:"#B1B1B1",strokeLinecap:"round",strokeWidth:"3",d:"M1.5 1.5L28.5 1.5"}),c.createElement("path",{stroke:"#B1B1B1",strokeLinecap:"round",strokeWidth:"3",d:"M1.5 11.5L28.5 11.5"}),c.createElement("path",{stroke:"#B1B1B1",strokeLinecap:"round",strokeWidth:"3",d:"M1.5 21.5L28.5 21.5"}))}var w=function(e){(0,s.Z)(a,e);var t=h(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(m.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"MiniActionsCartButton"},c.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN"},c.createElement("button",{className:"minus",onClick:this.props.minus.bind(this,this.props.item_id)},"–"),c.createElement("span",null,this.props.count),c.createElement("button",{className:"plus",onClick:this.props.add.bind(this,this.props.item_id)},"+")))}}]),a}(c.PureComponent),b=function(e){(0,s.Z)(a,e);var t=h(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(m.Z,{disableElevation:!0,disableRipple:!0,variant:"outlined",className:"ActionsCartButtonStart"},c.createElement(d.Z,{variant:"outlined",className:"ModalItemButtonCart",onClick:this.props.add.bind(this)},c.createElement("span",null,"В корзину за ",new Intl.NumberFormat("ru-RU").format(this.props.price)),c.createElement(u,{style:{width:14,height:14,fill:"#525252",marginLeft:5,paddingBottom:1}})))}}]),a}(c.PureComponent),Z=function(e){(0,s.Z)(a,e);var t=h(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(m.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"ActionsCartButton"},c.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN"},c.createElement("button",{className:"minus",onClick:this.props.minus.bind(this)},"–"),c.createElement("div",null,c.createElement("span",null,this.props.count," шт. на ",new Intl.NumberFormat("ru-RU").format(parseInt(this.props.price)*parseInt(this.props.count))),c.createElement(u,{style:{width:14,height:14,fill:"#525252",marginLeft:5,paddingBottom:1}})),c.createElement("button",{className:"plus",onClick:this.props.add.bind(this)},"+")))}}]),a}(c.PureComponent),I=function(e){(0,s.Z)(a,e);var t=h(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(m.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"MiniActionsCartButtonPrize"},c.createElement("div",{variant:"contained"},1==parseInt(this.props.count)?c.createElement("span",null,"В подарок за ",new Intl.NumberFormat("ru-RU").format(parseInt(this.props.price))):c.createElement("span",null,this.props.count," шт. в подарок за ",new Intl.NumberFormat("ru-RU").format(parseInt(this.props.price))),c.createElement(u,{style:{width:12,height:12,fill:"#525252",marginLeft:5}})))}}]),a}(c.PureComponent),S=function(e){(0,s.Z)(a,e);var t=h(a);function a(e){var i;return(0,n.Z)(this,a),(i=t.call(this,e)).state={type:"text"},i}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(p.Z,{label:this.props.label,placeholder:this.props.placeholder,value:this.props.value,onChange:this.props.func,onBlur:this.props.onBlur?this.props.onBlur:null,onKeyDown:this.props.onKeyDown?this.props.onKeyDown:null,disabled:!(!this.props.disabled&&!0!==this.props.disabled),variant:"outlined",size:"small",color:"primary",multiline:!!this.props.multiline&&this.props.multiline,maxRows:this.props.maxRows?this.props.maxRows:1,type:this.props.type?this.props.type:this.state.type,style:this.props.style?this.props.style:{},className:this.props.className?this.props.className:""})}}]),a}(c.PureComponent)},6282:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var n=a(2982),i=a(5671),s=a(3144),r=a(4942),o=a(8949),l=a(381),c=a.n(l),m=a(8811),d=a.n(m),p=a(7563),h=new(function(){function e(){var t=this;if((0,i.Z)(this,e),(0,r.Z)(this,"items",""),(0,r.Z)(this,"itemsPromo",""),(0,r.Z)(this,"allItems",""),(0,r.Z)(this,"allItemsCat",""),(0,r.Z)(this,"allItemsCatNew",""),(0,r.Z)(this,"banners",""),(0,r.Z)(this,"AllPrice",0),(0,r.Z)(this,"sum_div",0),(0,r.Z)(this,"cityName",""),(0,r.Z)(this,"cityNameRU",""),(0,r.Z)(this,"promo",null),(0,r.Z)(this,"userToken",null),(0,r.Z)(this,"userName",""),(0,r.Z)(this,"activePage",""),(0,r.Z)(this,"need_dops",""),(0,r.Z)(this,"free_items",""),(0,r.Z)(this,"cart_data",""),(0,r.Z)(this,"mainLink",""),(0,r.Z)(this,"free_drive",0),(0,r.Z)(this,"promoText",""),(0,r.Z)(this,"promoST",null),(0,r.Z)(this,"setMainLink",(function(e){t.mainLink=e})),(0,r.Z)(this,"setSumDiv",(function(e){t.sum_div=parseInt(e)})),(0,r.Z)(this,"setDops",(function(e){t.need_dops=JSON.stringify(e)})),(0,r.Z)(this,"setFreeItems",(function(e){t.free_items=JSON.stringify(e)})),(0,r.Z)(this,"setCityRU",(function(e){t.cityNameRU=e})),(0,r.Z)(this,"setCity",(function(e){t.cityName=e})),(0,r.Z)(this,"setAllPrice",(function(e){t.AllPrice=e})),(0,r.Z)(this,"setPage",(function(e){t.activePage=e})),(0,r.Z)(this,"setToken",(function(e,a){t.userToken=e,t.setUserName(a),"undefined"!=typeof window&&localStorage.setItem("token",e)})),(0,r.Z)(this,"setPromo",(function(e,a){t.promo=e,localStorage.setItem("promo_name",a)})),(0,r.Z)(this,"setBanners",(function(e){t.banners=JSON.stringify(e)})),(0,r.Z)(this,"setItemsPromo",(function(e){t.itemsPromo=JSON.stringify(e)})),(0,r.Z)(this,"setAllItemsCat",(function(e){t.allItemsCat=JSON.stringify(e)})),(0,r.Z)(this,"setAllItemsCatNew",(function(e){t.allItemsCatNew=JSON.stringify(e)})),(0,r.Z)(this,"setItems",(function(e){var a=0,n=0,i=t.getItemsPromo();if(n=e.reduce((function(e,t){return e+parseInt(t.all_price)}),a),a=0,n+=i.reduce((function(e,t){return e+parseInt(t.all_price)}),a),t.setAllPrice(n),t.items=JSON.stringify(e),"undefined"!=typeof window){var s=e.filter((function(e){return e.count>0}));s=JSON.stringify(s),localStorage.setItem("my_cart",s)}})),(0,r.Z)(this,"saveCartData",(function(e){var a=JSON.stringify(e);t.cart_data=a,"undefined"!=typeof window&&localStorage.setItem("cartData",a)})),(0,r.Z)(this,"setAllItems",(function(e){t.allItems=JSON.stringify(e),t.checkCart()})),"undefined"!=typeof window){if(localStorage.getItem("cartData")&&(this.cartData=localStorage.getItem("cartData")),localStorage.getItem("my_cart")){var a=JSON.parse(localStorage.getItem("my_cart")),n=[];a.forEach((function(e){n.push({name:e.name,item_id:e.item_id,count:e.count,one_price:parseInt(e.one_price),all_price:parseInt(e.one_price)*parseInt(e.count)})})),this.setItems(n),localStorage.getItem("promo_name")&&localStorage.getItem("promo_name").length>0&&setTimeout((function(){t.getInfoPromo(localStorage.getItem("promo_name"))}),500)}else localStorage.getItem("promo_name")&&localStorage.getItem("promo_name").length>0&&setTimeout((function(){t.getInfoPromo(localStorage.getItem("promo_name"))}),500);localStorage.getItem("token")&&setTimeout((function(){t.setToken(localStorage.getItem("token"),"")}),300)}(0,o.ky)(this)}return(0,s.Z)(e,[{key:"getMainLink",value:function(){return this.mainLink}},{key:"getSumDiv",value:function(){return this.sum_div}},{key:"getDops",value:function(){return 0==this.need_dops.length?[]:JSON.parse(this.need_dops,!0)}},{key:"getFreeItems",value:function(){return 0==this.free_items.length?[]:JSON.parse(this.free_items,!0)}},{key:"getCityRU",value:function(){return this.cityNameRU&&this.cityNameRU.length>0?this.cityNameRU:"Город"}},{key:"getCity",value:function(){return this.cityName}},{key:"getAllPrice",value:function(){return this.AllPrice}},{key:"getPage",value:function(){return this.activePage}},{key:"getUserName",value:function(){return this.userName&&this.userName.length>0?this.userName:""}},{key:"setUserName",value:function(e){this.userName=e}},{key:"getToken",value:function(){return this.userToken}},{key:"getPromoStatus",value:function(){return{text:this.promoText,st:this.promoST}}},{key:"setPromoStatus",value:function(e,t){this.promoText=e,this.promoST=t}},{key:"getInfoPromo",value:function(e){var t=this;fetch(d().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:p.stringify({type:"get_promo_web",city_id:h.getCity(),promo_name:e})}).then((function(e){return e.json()})).then((function(a){h.setPromo(JSON.stringify(a),e);var n=h.checkPromo();0==e.length?t.setPromoStatus("",null):n?t.setPromoStatus(n.text,n.st):t.setPromoStatus("",null)}))}},{key:"getPromo",value:function(){return JSON.parse(this.promo,!0)}},{key:"checkPromo",value:function(){var e=h.getCartData();h.setItemsPromo([]),h.free_drive=0;var t=0,a=0,n=e.orderTimes&&1!=parseInt(e.orderTimes)?e.orderPredDay+" "+e.orderPredTime:0,i=this.getPromo(),s=this.getItems(),r=this.getAllItems();if(0!=r.length&&r){var o=[];s.forEach((function(e,t){o.push({name:e.name,item_id:e.item_id,count:e.count,one_price:e.one_price,all_price:parseInt(e.one_price)*parseInt(e.count)})}));var l=[];a=(s=o).reduce((function(e,t){return e+parseInt(t.all_price)}),t);var m,d,p=0,u=0,g=0;(e.orderType||0==e.orderType)&&(p=null!==(m=parseInt(e.orderType))&&void 0!==m?m:0,u=e.orderAddr?parseInt(e.orderAddr.point_id):0,g=null!==(d=parseInt(e.orderPic))&&void 0!==d?d:0);var y="",f="",_="";if(0==n?(y=c()(new Date).format("YYYY-MM-DD"),f=c()(new Date).format("HH:mm"),_=parseInt(c()(new Date).format("E"))):(y=c()(n).format("YYYY-MM-DD"),f=c()(n).format("HH:mm"),_=parseInt(c()(n).format("E"))),i){if(!i.status_promo)return{st:!1,text:"Данный промокод не найден или уже активирован"};if(i.limits.date.min&&i.limits.date.max&&!(y>=i.limits.date.min&&y<=i.limits.date.max))return{st:!1,text:i.promo_text.false};if(0!=i.limits.time.min&&0!=i.limits.time.max&&!(f>=i.limits.time.min&&f<=i.limits.time.max))return{st:!1,text:i.promo_text.false};if(0!=i.limits.point_id&&!(0==p&&u==i.limits.point_id||1==p&&g==i.limits.point_id))return{st:!1,text:"Адрес указан некорректно"};if(0!=i.limits.summ.min||0!=i.limits.summ.max)if(a>=i.limits.summ.min&&(i.limits.summ.max>=a||0==i.limits.summ.max));else{if(a<i.limits.summ.min)return{st:!1,text:"Суммы заказа не достаточно для активации промокода"};if(a>i.limits.summ.max)return{st:!1,text:"Сумма заказа больше, чем лимит промокода"}}if(i.limits.dows&&0==parseInt(i.limits.dows[_]))return{st:!1,text:"Промокод не действует в эти даты"};if(i.limits.type_order)if(1==parseInt(i.limits.type_order)||3==parseInt(i.limits.type_order)&&0==p||2==parseInt(i.limits.type_order)&&1==p);else{if(1==parseInt(i.limits.type_order))return{st:!1,text:"Промокод действует только на доставку"};if(2==parseInt(i.limits.type_order))return{st:!1,text:"Промокод действует только на самовывоз"};if(3==parseInt(i.limits.type_order))return{st:!1,text:"Промокод действует только в кафе"}}if(i.limits.only_kassa&&1==parseInt(i.limits.only_kassa))return{st:!1,text:"Промокод действует только в кафе"};if(i.limits.items.length>0){var v=0;if(i.limits.items.map((function(e){o.find((function(t){return t.item_id==e}))&&v++})),i.limits.items.length!=v)return{st:!1,text:i.promo_text.false}}h.free_drive=parseInt(i.limits.free_drive);var E=0,x=0,w=null;return 1==parseInt(i.promo_action)?(1==parseInt(i.sale.cat_sale)&&(x=parseInt(i.sale.count_sale),s.forEach((function(e,t){w=r.find((function(t){return t.id==e.item_id})),3!=parseInt(w.type)&&4!=parseInt(w.type)&&i.sale.sale_action.forEach((function(a){parseInt(e.item_id)==parseInt(a)&&(1==parseInt(i.sale.type_price)?x>0&&((E=parseInt(e.one_price)*parseInt(e.count)-parseInt(x))<=0&&(E=1),x-=parseInt(e.one_price)*parseInt(e.count),s[t].new_one_price=parseInt(e.one_price),s[t].all_price=E):(E=parseInt(e.all_price)-parseInt(e.all_price)/100*parseInt(x),s[t].new_one_price=parseInt(e.one_price),s[t].all_price=parseInt(E)))}))}))),2==parseInt(i.sale.cat_sale)&&(x=parseInt(i.sale.count_sale),s.forEach((function(e,t){w=r.find((function(t){return t.id==e.item_id})),3!=parseInt(w.type)&&4!=parseInt(w.type)&&i.sale.sale_action.forEach((function(a){parseInt(w.cat_id)==parseInt(a)&&(1==parseInt(i.sale.type_price)?x>0&&((E=parseInt(e.one_price)*parseInt(e.count)-parseInt(x))<=0&&(E=1),x-=parseInt(e.one_price)*parseInt(e.count),s[t].new_one_price=parseInt(e.one_price),s[t].all_price=E):(E=parseInt(e.all_price)-parseInt(e.all_price)/100*parseInt(x),s[t].new_one_price=parseInt(e.one_price),s[t].all_price=parseInt(E)))}))}))),3==parseInt(i.sale.cat_sale)&&(x=parseInt(i.sale.count_sale),s.forEach((function(e,t){w=r.find((function(t){return t.id==e.item_id})),3!=parseInt(w.type)&&4!=parseInt(w.type)&&(1==parseInt(i.sale.type_price)?x>0&&((E=parseInt(e.one_price)*parseInt(e.count)-parseInt(x))<=0&&(E=1),x-=parseInt(e.one_price)*parseInt(e.count),s[t].new_one_price=parseInt(e.one_price),s[t].all_price=E):(E=parseInt(e.all_price)-parseInt(e.all_price)/100*parseInt(x),s[t].new_one_price=parseInt(e.one_price),s[t].all_price=parseInt(E)))}))),t=0,a=0,a=s.reduce((function(e,t){return e+t.all_price}),t),h.setAllPrice(a),this.setItems(s),{st:!0,text:i.promo_text.true}):(2==parseInt(i.promo_action)&&(i.items_add.forEach((function(e){w=r.find((function(t){return t.id==e.item_id})),l.push({item_id:e.item_id,count:e.count,one_price:w.price,all_price:e.price,name:w.name})})),t=0,a=0,a=s.reduce((function(e,t){return e+parseInt(t.all_price)}),t),t=0,a+=l.reduce((function(e,t){return e+parseInt(t.all_price)}),t),h.setItemsPromo(l),h.setAllPrice(a)),3==parseInt(i.promo_action)&&i.items_on_price.length>0&&(s.forEach((function(e,t){i.items_on_price.forEach((function(a){parseInt(e.item_id)==parseInt(a.id)&&(s[t].new_one_price=parseInt(a.price),s[t].all_price=parseInt(a.price)*parseInt(e.count))}))})),t=0,a=0,a=s.reduce((function(e,t){return e+parseInt(t.all_price)}),t),h.setAllPrice(a)),this.setItems(s),{st:!0,text:i.promo_text.true})}return{st:!1,text:i.promo_text.false,test:i}}}},{key:"getBanners",value:function(){return 0==this.banners.length?[]:JSON.parse(this.banners,!0)}},{key:"getItemsPromo",value:function(){return 0==this.itemsPromo.length?[]:JSON.parse(this.itemsPromo,!0)}},{key:"getAllItemsCat",value:function(){return 0==this.allItemsCat.length?[]:JSON.parse(this.allItemsCat,!0)}},{key:"getAllItemsCatNew",value:function(){return 0==this.allItemsCatNew.length?[]:JSON.parse(this.allItemsCatNew,!0)}},{key:"getCartData",value:function(){if("undefined"!=typeof window)return localStorage.getItem("cartData")?JSON.parse(localStorage.getItem("cartData")):[]}},{key:"checkCart",value:function(){var e=this.getItems(),t=this.getAllItems(),a=[];e.forEach((function(e){var n=t.find((function(t){return parseInt(t.id)==parseInt(e.item_id)}));n&&a.push({name:e.name,item_id:e.item_id,count:e.count,one_price:parseInt(n.price),all_price:parseInt(n.price)*parseInt(e.count)})})),this.setItems(a)}},{key:"getItems",value:function(){return 0==this.items.length?[]:JSON.parse(this.items,!0)}},{key:"getAllItems",value:function(){return 0==this.allItems.length?[]:JSON.parse(this.allItems,!0)}},{key:"AddItem",value:function(e){var t=h.getItems(),a=h.getAllItems(),n=h.getPromo();if(!(a.length>0))return 0;var i=t.find((function(t){return parseInt(t.item_id)==parseInt(e)})),s=0;i&&(s=parseInt(i.count));var r=a.find((function(t){return t.id==e}));if(r){var o=s+1,l=parseInt(r.price),c=h.check_max_count(parseInt(e));return parseInt(c)>=o?(t.some((function(t){return t.item_id==e}))?t.forEach((function(a,n){a.item_id==e&&(t[n].count=o,t[n].all_price=o*l)})):t.push({name:r.name,item_id:e,count:o,one_price:l,all_price:o*l}),h.setItems(t),n&&h.checkPromo(),o):o-1}}},{key:"MinusItem",value:function(e){var t=h.getItems(),a=h.getAllItems(),n=h.getPromo();if(a.length>0){var i=t.find((function(t){return t.item_id==e}));if(!i)return 0;var s=a.find((function(t){return t.id==e})),r=parseInt(i.count)-1,o=parseInt(s.price);if(r<=0&&(r=0),r>=0){t.map((function(a,n){a.item_id==e&&(t[n].count=r,t[n].all_price=r*o)})),h.setItems(t);var l=0;setTimeout((function(){var e=t.filter((function(e,t){return parseInt(e.count)>0&&(17==parseInt(e.item_id)||237==parseInt(e.item_id))}));e=0==e.length?1:e.length,t.map((function(a,n){l=h.check_max_count(a.item_id),l=(l/=e)>0&&l<1?1:parseInt(l),parseInt(l)<0&&(t[n].count=parseInt(a.count)+parseInt(l)>=0?parseInt(a.count)+parseInt(l):0,t[n].all_price=(parseInt(a.count)+parseInt(l))*parseInt(a.one_price)>=0?(parseInt(a.count)+parseInt(l))*parseInt(a.one_price):0)})),h.setItems(t)}),300)}return n&&h.checkPromo(),r}return 0}},{key:"check_need_dops",value:function(){var e=h.getItems(),t=h.getAllItems();if(!t||0==t.length)return[];var a=0,i=0,s=h.getDops();if(0==s.length)return[];e.forEach((function(e){var n=t.find((function(t){return t.id==e.item_id}));if(!n)return[];14==parseInt(n.cat_id)?a+=parseInt(e.count):14!==parseInt(n.cat_id)&&5!==parseInt(n.cat_id)&&6!==parseInt(n.cat_id)&&7!==parseInt(n.cat_id)&&(i+=parseInt(e.count))}));var r=[];i>0&&0==a&&(r=s.rolls),0==i&&a>0&&(r=s.pizza),i>0&&a>0&&(r=[].concat((0,n.Z)(s.rolls),(0,n.Z)(s.pizza))),0==i&&0==a&&(r=[].concat((0,n.Z)(s.rolls),(0,n.Z)(s.pizza)));var o=[],l=[];return e.forEach((function(e){var a=t.find((function(t){return t.id==e.item_id}));if(!a)return[];7==parseInt(a.cat_id)&&o.push(a)})),o.forEach((function(e){var t=!1;r.forEach((function(a){parseInt(a.id)==parseInt(e.id)&&(t=!0)})),t||l.push(e)})),r=[].concat((0,n.Z)(r),l)}},{key:"check_max_count",value:function(e){var t=[],a=[],i=h.getItems(),s=h.getItemsPromo(),r=h.getFreeItems(),o=h.getAllItems(),l=o.find((function(t){return parseInt(t.id)==parseInt(e)}));if(231==parseInt(l.id)||232==parseInt(l.id)||233==parseInt(l.id))return 1;if(3!=parseInt(l.type)||17!==parseInt(l.id)&&237!==parseInt(l.id))return 99;if(!r)return 99;var c=0;i.forEach((function(e,n){var i=o.find((function(t){return parseInt(t.id)==parseInt(e.item_id)})),s=r.find((function(t){return parseInt(t.this_item_id)==parseInt(e.item_id)}));s&&s.max_count&&3!=parseInt(i.type)&&parseInt(s.max_count),17!=parseInt(i.id)&&237!=parseInt(i.id)||(c+=parseInt(e.count)),r.forEach((function(n){parseInt(e.item_id)==parseInt(n.this_item_id)&&(n.count_in_cart=parseInt(e.count),t.push(n),a.push(parseInt(n.item_id)))}))})),s.forEach((function(e,n){var i=o.find((function(t){return parseInt(t.id)==parseInt(e.item_id)})),s=r.find((function(t){return parseInt(t.this_item_id)==parseInt(e.item_id)}));s&&s.max_count&&3!=parseInt(i.type)&&parseInt(s.max_count),17!=parseInt(i.id)&&237!=parseInt(i.id)||(c+=parseInt(e.count)),r.forEach((function(n){parseInt(e.item_id)==parseInt(n.this_item_id)&&(n.count_in_cart=parseInt(e.count),t.push(n),a.push(parseInt(n.item_id)))}))})),a=(0,n.Z)(new Set(a));var m=[];a.forEach((function(e,a){t.forEach((function(t){if(parseInt(e)==parseInt(t.item_id)){var a=!1;m.forEach((function(n,i){parseInt(n.item_id)==parseInt(e)&&(a=!0,m[i].count+=t.count_in_cart*t.max_count)})),a||m.push({item_id:parseInt(e),count_in_cart:t.count_in_cart,count:t.count_in_cart*t.max_count})}}))}));var d=99;return m.length>0&&(d=m.find((function(e){return 17==parseInt(e.item_id)})))&&(d=parseInt(d.count),c>=d)?d-c:d}}]),e}());const u=h},8028:(e,t,a)=>{var n={"./ru":238,"./ru.js":238};function i(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id=8028}},e=>{e.O(0,[216],(()=>(476,e(e.s=476)))),e.O()}]);
//# sourceMappingURL=main.37c6d6e79ee2c1f5cd3e.js.map