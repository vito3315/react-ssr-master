(self.webpackChunkreact_ssr=self.webpackChunkreact_ssr||[]).push([[179],{5152:(e,t,a)=>{var n=a(7227).Home,i=a(7227).HomeCat,o=a(7660).Item,r=a(6068).Contact,s=a(7173).Actii,l=a(3858).Profile,c=a(1072).Cart,m=a(6546).PageAbout,d=a(8716).PageJob,p=a(3407).PageInstPay,h=a(4025).PageOferta,u=a(2815).PagePolitika,g=a(9785).PageLegal,f=a(6745).PagePoliticLegal,y=a(9188).PageCompanyDetails;e.exports=[{path:"/:cityName",exact:!0,component:n,type:"home",code:200},{path:"/:cityName/home",exact:!0,component:n,type:"home",code:200},{path:"/:cityName/menu",exact:!0,component:n,type:"home",code:200},{path:"/:cityName/contacts",exact:!0,component:r,type:"",code:200},{path:"/:cityName/akcii/:act_id",exact:!0,component:s,type:"",code:200},{path:"/:cityName/akcii",exact:!0,component:s,type:"",code:200},{path:"/:cityName/menu/:itemLink",exact:!0,component:i,type:"home",code:200},{path:"/:cityName/item/:itemLink",exact:!0,component:o,type:"item",code:200},{path:"/:cityName/menu/:catLink/:itemId",exact:!0,component:o,type:"item",code:200},{path:"/",exact:!0,component:n,type:"",code:200},{path:"/:cityName/profile",exact:!0,component:l,type:"",code:200},{path:"/:cityName/cart",exact:!0,component:c,type:"",code:200},{path:"/:cityName/about",exact:!0,component:m,type:"",code:200},{path:"/:cityName/jobs",exact:!0,component:d,type:"",code:200},{path:"/:cityName/instpayorders",exact:!0,component:p,type:"",code:200},{path:"/:cityName/publichnaya-oferta",exact:!0,component:h,type:"",code:200},{path:"/:cityName/politika-konfidencialnosti",exact:!0,component:u,type:"",code:200},{path:"/:cityName/legal",exact:!0,component:g,type:"",code:200},{path:"/:cityName/politika-legal",exact:!0,component:f,type:"",code:200},{path:"/:cityName/company-details",exact:!0,component:y,type:"",code:200},{path:"/sitemap.xml",exact:!0,type:"other",code:200},{path:"*",component:n,type:"home",code:404}]},7173:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Actii:()=>N});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7294),d=a(5725),p=a(2642),h=a(4659),u=a(6867),g=a(2658),f=a(982),y=a(9417),_=a(3838),v=a(8979),E=a(7750),b=a(7645),w=a(8675),x=a(9669),Z=a.n(x),C=a(4593),I=a(6282),k=a(8811),S=a.n(k);var P=a(7563),N=function(e){(0,r.Z)(k,e);var t,a,x=(t=k,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function k(e){var t;return(0,n.Z)(this,k),t=x.call(this,e),(0,c.Z)((0,o.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),I.Z.setPage("actii"),k.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),fetch(S().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:P.stringify({type:"get_my_actii_web",city_id:t.state.city_name})}).then((function(e){return e.json()})).then((function(e){t.setState({actii:e.actii,is_load:!0}),setTimeout((function(){var a=window.location.search;if(a.length>0&&a.indexOf("act_")>0){var n=a.split("&")[0].split("act_")[1],i=e.actii.find((function(e){return e.id==n}));t.openDialog(i)}}),300)})).catch((function(e){}))})),t.state={actii:[],pre_actii:[1,2,3,4],is_load:!1,showItem:null,openDialog:!1,title:"",description:"",city_name:t.props.city,page:t.props.data?t.props.data.page:null,openMSG:!1,statusMSG:!1,textMSG:"",items:[]},I.Z.setCity(t.props.city),t}return(0,i.Z)(k,[{key:"closeDialog",value:function(){var e=window.location.pathname;window.history.pushState({},"",e),this.setState({showItem:null,openDialog:!1})}},{key:"openDialog",value:function(e){var t=I.Z.getAllItems();e.items.map((function(a,n){e.items[n].item=t.find((function(e){return e.id==a.item_id}))}));var a=window.location.pathname+"?act_"+e.id;window.history.pushState({},"",a),this.setState({showItem:e,openDialog:!0})}},{key:"closeAlert",value:function(){this.setState({openMSG:!1})}},{key:"activePromo",value:function(e,t){var a=this;I.Z.setPromo(JSON.stringify(e),t);var n=I.Z.checkPromo();setTimeout((function(){n.st?a.setState({openMSG:!0,statusMSG:!0,textMSG:"Промокод применен"}):a.setState({openMSG:!0,statusMSG:!1,textMSG:n.text})}),300)}},{key:"render",value:function(){var e=this;return m.createElement(m.Fragment,null,m.createElement(d.ZP,{container:!0,className:"Actii mainContainer MuiGrid-spacing-xs-3"},m.createElement(C.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(w.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.openMSG,autoHideDuration:3e3,onClose:this.closeAlert.bind(this),message:this.state.textMSG,style:{backgroundColor:this.state.statusMSG?"green":"#BB0025",borderRadius:4}}),m.createElement(d.ZP,{item:!0,xs:12},m.createElement(g.Z,{variant:"h5",component:"h1"},"Акции")),m.createElement(d.ZP,{container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"",style:{width:"100%",maxWidth:"100%",flexBasis:"100%",paddingBottom:30}},!1===this.state.is_load?this.state.pre_actii.map((function(e,t){return m.createElement(d.ZP,{item:!0,xs:12,sm:6,md:3,xl:3,key:t,style:{padding:12}},m.createElement("div",{style:{width:"100%",height:300,backgroundColor:"#e5e5e5"}}))})):this.state.actii.map((function(t,a){return m.createElement(d.ZP,{item:!0,xs:12,sm:6,md:4,xl:3,key:a},m.createElement("picture",null,m.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-aktii/"+t.img_new+"750х750.webp?"+t.img_new_update,type:"image/webp"}),m.createElement("img",{src:"https://storage.yandexcloud.net/site-aktii/"+t.img_new+"750х750.jpg?"+t.img_new_update,alt:t.promo_title,title:t.promo_title,style:{width:"100%"},onClick:e.openDialog.bind(e,t)})))}))),(this.state.page&&this.state.page.content,null),(this.state.page&&this.state.page.content,null),this.state.showItem?m.createElement(_.Z,{onClose:this.closeDialog.bind(this),"aria-labelledby":"customized-dialog-title",className:"modalActii",open:this.state.openDialog},m.createElement(b.Z,{disableTypography:!0,style:{margin:0,padding:8}},m.createElement(g.Z,{variant:"h6",component:"span"},this.state.showItem.promo_title),m.createElement(u.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0},onClick:this.closeDialog.bind(this)},m.createElement(f.G,{icon:y.NBC,style:{fontSize:"1.8rem",color:"#e5e5e5"}}))),m.createElement(E.Z,{className:"modalActiiContent"},m.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.showItem.text}})),this.state.showItem.promo.length>0?m.createElement(v.Z,{style:{justifyContent:"center",padding:"15px 0px"}},m.createElement(h.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",onClick:this.activePromo.bind(this,this.state.showItem.info,this.state.showItem.promo)},m.createElement(p.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Применить промокод"))):null):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"akcii"};return Z()({method:"POST",url:S().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:P.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),k}(m.Component)},1072:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Cart:()=>we});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7462),d=a(5987),p=a(7294),h=a(3727),u=a(5725),g=a(2642),f=a(4659),y=a(6867),_=a(2658),v=a(982),E=a(9417),b=a(4680),w=a(8072),x=a(7720),Z=a(4567),C=a(9062),I=a(5884),k=a(3838),S=a(7645),P=a(7750),N=a(8979),T=a(6408),A=a(3720),D=a(5697),M=a.n(D),j=a(20),O=a(2640),B=a(7665),L=a(3334),R=a(5305),z=a(5116),W=a(2580),F=a(7109),H=a(2440),G=a(799),U=a(417),q=a(9334),V=a(795),K=a(8061),J=a(2323),Y=a(6446),X=a(4731),Q=a(9941),$=a(7425),ee=a(5092),te=a(9332),ae=a(3738),ne=a(6282),ie=a(8811),oe=a.n(ie),re=a(8949),se=a(4593),le=a(9669),ce=a.n(le),me=a(3977),de=a(2133),pe=["children","value","index"];function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,s.Z)(this,a)}}var ue=a(7563),ge=null;function fe(e){return(e=(e=e.split("/")).filter((function(e){return""!=e})))[0]}function ye(e){return p.createElement("svg",{width:e.width?e.width:50,height:"20",viewBox:e.viewBox?e.viewBox:"0 0 1400 200",xmlns:"http://www.w3.org/2000/svg"},p.createElement("g",null,p.createElement("path",{id:"svg_1",d:"m219.27,252.76c63.98,-2.85 99.22,-39.48 99.22,-103.13c0,-37.42 -12.62,-65.49 -37.52,-83.44c-22.29,-16.07 -48.63,-19.21 -62.35,-19.65c-28.61,-0.92 -107.02,-0.04 -110.34,0c-5.75,0.07 -10.38,4.75 -10.38,10.5l0,174.95c-9.23,-0.11 -15.07,-0.2 -15.31,-0.21c-0.06,0 -0.11,0 -0.17,0c-5.72,0 -10.41,4.59 -10.5,10.34c-0.09,5.8 4.54,10.57 10.34,10.66c0.95,0.01 6.78,0.1 15.64,0.21l0,26.12l-15.48,0c-5.8,0 -10.5,4.7 -10.5,10.5s4.7,10.5 10.5,10.5l15.48,0l0,74.89c0,5.8 4.7,10.5 10.5,10.5s10.5,-4.7 10.5,-10.5l0,-74.9l109.39,0c5.8,0 10.5,-4.7 10.5,-10.5s-4.7,-10.5 -10.5,-10.5l-109.39,0l0,-25.88c32.67,0.31 78.53,0.51 100.37,-0.46zm-100.37,-185.33c22.81,-0.21 76.99,-0.61 99.05,0.1c23.92,0.77 79.55,10.31 79.55,82.1c0,52.17 -26.63,79.82 -79.16,82.16c-21.17,0.94 -66.91,0.74 -99.44,0.43l0,-164.79z"})))}function _e(e){var t=e.children,a=e.value,n=e.index,i=(0,d.Z)(e,pe);return p.createElement("div",(0,m.Z)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&p.createElement("div",null,t))}function ve(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}_e.propTypes={children:M().node,index:M().any.isRequired,value:M().any.isRequired};var Ee=function(e){(0,r.Z)(a,e);var t=he(a);function a(e){var i;return(0,n.Z)(this,a),i=t.call(this,e),(0,c.Z)((0,o.Z)(i),"_isMounted",!1),(0,c.Z)((0,o.Z)(i),"firebaseAnalitic",null),i.firebaseAnalitic=i.props.firebaseAnalitic,i.state={item:i.props.item,type:i.props.type,count:0,onePrice:0,new_onePrice:-1,allPrice:0},i}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=ne.Z.getItems(),a=(ne.Z.getItemsPromo(),t.find((function(t){return t.item_id==e.state.item.id})));a&&this.setState({count:a.count,onePrice:a.one_price,allPrice:a.all_price}),(0,re.EH)((function(){if(!0===e._isMounted){var t=ne.Z.getItems(),a=ne.Z.getItemsPromo();if(a&&a.length>0){var n=a.find((function(t){return t.item_id==e.state.item.id}));n&&e.setState({count:n.count,onePrice:n.one_price,allPrice:n.all_price})}var i=t.find((function(t){return t.item_id==e.state.item.id}));i||(i=a.find((function(t){return t.item_id==e.state.item.id}))),"promo"!=e.state.type&&(i?e.setState({count:i.count,onePrice:i.one_price,allPrice:i.all_price,new_onePrice:i.new_one_price?i.new_one_price:-1}):e.setState({count:0,onePrice:0,allPrice:0,new_onePrice:-1}))}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(e){(0,de.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:e,items:[{name:this.state.item.name}]}),ne.Z.AddItem(e)}},{key:"minus",value:function(e){(0,de.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:e,items:[{name:this.state.item.name}]}),ne.Z.MinusItem(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.count!==t.count||this.state.onePrice!==t.onePrice||this.state.allPrice!==t.allPrice||this.state.item.name!==e.item.name}},{key:"render",value:function(){return parseInt(this.state.count)>0||7==parseInt(this.state.item.cat_id)?p.createElement("tr",null,p.createElement("td",{style:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative"}},this.state.item.img_app.length>0?p.createElement("picture",null,p.createElement("source",{type:"image/webp",srcset:"\n                                        https://cdnimg.jacofood.ru/".concat(this.state.item.img_app,"_138x138.webp 138w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_146x146.webp 146w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_183x183.webp 183w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_233x233.webp 233w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_292x292.webp 292w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_366x366.webp 366w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_584x584.webp 584w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_760x760.webp 760w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("source",{type:"image/jpeg",srcset:"\n                                        https://cdnimg.jacofood.ru/".concat(this.state.item.img_app,"_138x138.jpg 138w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_146x146.jpg 146w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_183x183.jpg 183w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_233x233.jpg 233w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_292x292.jpg 292w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_366x366.jpg 366w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_584x584.jpg 584w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_760x760.jpg 760w,\n                                        https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{alt:this.state.item.name,title:this.state.item.name,src:"https://cdnimg.jacofood.ru/".concat(this.state.item.img_app,"_138x138.jpg"),loading:"lazy"})):p.createElement("picture",null,p.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+this.state.item.img+"300х200.webp?"+this.state.item.imgUpdate,type:"image/webp"}),p.createElement("img",{src:"https://cdnimg.jacofood.ru/"+this.state.item.img+"300х200.jpg?"+this.state.item.imgUpdate,alt:this.state.item.name,title:this.state.item.name,loading:"lazy"})),"promo"==this.state.type?p.createElement(v.G,{icon:E.Cly,className:"promoIcon"}):null,p.createElement("div",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"nameItem"},this.state.item.name),p.createElement(_.Z,{variant:"h5",component:"span",className:"descItem"},"dop"==this.state.type?"":this.state.item.desc))),p.createElement("td",null,"promo"!=this.state.type?p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count"},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain",onClick:this.minus.bind(this,this.state.item.id)},p.createElement(v.G,{icon:E.Kl4,style:{fontSize:"1rem"}})),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain _COUNT_"},p.createElement(_.Z,{component:"span",className:"CardCountItem"},this.state.count)),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain",onClick:this.add.bind(this,this.state.item.id)},p.createElement(v.G,{icon:E.r8p,style:{fontSize:"1rem"}}))):p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count promo"},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},p.createElement(v.G,{icon:E.Kl4,style:{fontSize:"1rem"}})),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},this.state.count),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},p.createElement(v.G,{icon:E.r8p,style:{fontSize:"1rem"}})))),p.createElement("td",null,-1!=this.state.new_onePrice?p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePriceOld"},parseInt(this.state.count)*parseInt(this.state.onePrice)):null,p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePrice"},this.state.allPrice," ",p.createElement(ye,{width:"20",viewBox:"0 20 500 200"})))):null}}]),a}(p.Component),be=function(e){(0,r.Z)(a,e);var t=he(a);function a(e){var i;return(0,n.Z)(this,a),i=t.call(this,e),(0,c.Z)((0,o.Z)(i),"_isMounted",!1),(0,c.Z)((0,o.Z)(i),"firebaseAnalitic",null),i.firebaseAnalitic=i.props.firebaseAnalitic,i.state={item:i.props.item,type:i.props.type,count:0,onePrice:0,allPrice:0,new_onePrice:-1},i}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=ne.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));t&&this.setState({count:t.count,onePrice:t.one_price,allPrice:t.all_price}),(0,re.EH)((function(){if(!0===e._isMounted){var t=ne.Z.getItems(),a=ne.Z.getItemsPromo();if(a&&a.length>0){var n=a.find((function(t){return t.item_id==e.state.item.id}));n&&e.setState({count:n.count,onePrice:n.one_price,allPrice:n.all_price})}var i=t.find((function(t){return t.item_id==e.state.item.id}));i||(i=a.find((function(t){return t.item_id==e.state.item.id}))),"promo"!=e.state.type&&(i?e.setState({count:i.count,onePrice:i.one_price,allPrice:i.all_price,new_onePrice:i.new_one_price?i.new_one_price:-1}):e.setState({count:0,onePrice:0,allPrice:0,new_onePrice:-1}))}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(e){(0,de.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:e,items:[{name:this.state.item.name}]}),ne.Z.AddItem(e)}},{key:"minus",value:function(e){(0,de.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:e,items:[{name:this.state.item.name}]}),ne.Z.MinusItem(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.count!==t.count||this.state.onePrice!==t.onePrice||this.state.allPrice!==t.allPrice||this.state.item.name!==e.item.name}},{key:"render",value:function(){return this.state.count>0||7==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)?p.createElement("div",{className:"boxItem"},this.state.item.img_app.length>0?p.createElement("picture",{style:{width:"40%"}},p.createElement("source",{type:"image/webp",srcset:"\n                                    https://cdnimg.jacofood.ru/".concat(this.state.item.img_app,"_138x138.webp 138w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_146x146.webp 146w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_183x183.webp 183w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_233x233.webp 233w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_292x292.webp 292w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_366x366.webp 366w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_584x584.webp 584w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_760x760.webp 760w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("source",{type:"image/jpeg",srcset:"\n                                    https://cdnimg.jacofood.ru/".concat(this.state.item.img_app,"_138x138.jpg 138w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_146x146.jpg 146w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_183x183.jpg 183w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_233x233.jpg 233w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_292x292.jpg 292w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_366x366.jpg 366w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_584x584.jpg 584w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_760x760.jpg 760w,\n                                    https://cdnimg.jacofood.ru/").concat(this.state.item.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{alt:this.state.item.name,title:this.state.item.name,src:"https://cdnimg.jacofood.ru/".concat(this.state.item.img_app,"_466x466.jpg"),loading:"lazy"})):p.createElement("picture",{style:{width:"40%"}},p.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+this.state.item.img+"300х200.webp?"+this.state.item.imgUpdate,type:"image/webp"}),p.createElement("img",{src:"https://cdnimg.jacofood.ru/"+this.state.item.img+"300х200.jpg?"+this.state.item.imgUpdate,alt:this.state.item.name,title:this.state.item.name,loading:"lazy"})),"promo"==this.state.type?p.createElement(v.G,{icon:E.Cly,className:"promoIcon"}):null,p.createElement("div",{style:{width:"60%"}},p.createElement(_.Z,{variant:"h5",component:"span"},this.state.item.name),p.createElement("div",null,"promo"!=this.state.type?p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count"},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain",onClick:this.minus.bind(this,this.state.item.id)},p.createElement(v.G,{icon:E.Kl4,style:{fontSize:"1rem"}})),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain _COUNT_"},p.createElement(_.Z,{component:"span",className:"CardCountItem"},this.state.count)),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain",onClick:this.add.bind(this,this.state.item.id)},p.createElement(v.G,{icon:E.r8p,style:{fontSize:"1rem"}}))):p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count promo"},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},p.createElement(v.G,{icon:E.Kl4,style:{fontSize:"1rem"}})),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain _COUNT_"},p.createElement(_.Z,{component:"span",className:"CardCountItem"},this.state.count)),p.createElement(g.Z,{variant:"contained",className:"BtnCardMain"},p.createElement(v.G,{icon:E.r8p,style:{fontSize:"1rem"}}))),-1!=this.state.new_onePrice?p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePriceOld"},parseInt(this.state.count)*parseInt(this.state.onePrice)):null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice"},this.state.allPrice," ",p.createElement(ye,{width:"20",viewBox:"10 0 600 200"}))))):null}}]),a}(p.Component),we=function(e){(0,r.Z)(a,e);var t=he(a);function a(e){var i;return(0,n.Z)(this,a),i=t.call(this,e),(0,c.Z)((0,o.Z)(i),"_isMounted",!1),(0,c.Z)((0,o.Z)(i),"clickOrderStart",!1),(0,c.Z)((0,o.Z)(i),"startOrderInterval",90),(0,c.Z)((0,o.Z)(i),"startOrderIntervalTimer",null),(0,c.Z)((0,o.Z)(i),"firebaseAnalitic",null),(0,c.Z)((0,o.Z)(i),"componentDidMount",(function(){i._isMounted=!0,ge=(0,me.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),i.firebaseAnalitic=(0,de.IH)(ge);try{document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),ne.Z.setPage("cart"),setTimeout((function(){ne.Z.getToken()||"undefined"!=typeof window&&(window.location.pathname="/"+i.state.city_name)}),300),i.loadData(),a.fetchData("/"+i.state.city_name).then((function(e){i.setState({title:e.page.title,description:e.page.description})}));var e=ne.Z.getItems(),t=ne.Z.getAllItems(),n=(ne.Z.getItemsPromo(),[]);if(e.length>0&&t.length>0){e.map((function(e){var a=t.find((function(t){return t.id==e.item_id}));a&&n.push({id:e.item_id,cat_id:a.cat_id,name:e.name,desc:a.tmp_desc,count:e.count,allPrice:e.all_price,img:a.img_new,img_app:a.img_app,imgUpdate:a.img_new_update})}));var o=n.filter((function(e){return 7!==parseInt(e.cat_id)})),r=n.filter((function(e){return 7==parseInt(e.cat_id)})),s=ne.Z.check_need_dops();i.setState({cartItems_main:o,cartItems_dop:r,cartItems_need_dop:s,sumDiv:ne.Z.getSumDiv(),allPrice:ne.Z.getAllPrice()})}(0,re.EH)((function(){if(!0===i._isMounted){var e=ne.Z.getItems(),t=ne.Z.getAllItems(),a=ne.Z.check_need_dops(),n=ne.Z.getItemsPromo(),o=[],r=[];e.map((function(e){var a=t.find((function(t){return t.id==e.item_id}));a&&o.push({id:e.item_id,cat_id:a.cat_id,name:e.name,desc:a.tmp_desc,count:e.count,allPrice:e.all_price,img:a.img_new,img_app:a.img_app,imgUpdate:a.img_new_update})}));var s=o.filter((function(e){return 7!==parseInt(e.cat_id)})),l=(o.filter((function(e){return 7==parseInt(e.cat_id)})),[]);a.map((function(e){var a=o.find((function(t){return parseInt(t.id)==parseInt(e.id)})),n=t.find((function(t){return parseInt(t.id)==parseInt(e.id)}));a?l.push({id:e.id,cat_id:e.cat_id,name:e.name,desc:e.tmp_desc,count:a.count,allPrice:a.allPrice,img:n.img_new,img_app:n.img_app,imgUpdate:n.img_new_update}):l.push({id:e.id,cat_id:e.cat_id,name:e.name,desc:e.tmp_desc,count:0,allPrice:0,img:n.img_new,img_app:n.img_app,imgUpdate:n.img_new_update})})),n.map((function(e){var a=t.find((function(t){return t.id==e.item_id}));a&&r.push({id:e.item_id,cat_id:a.cat_id,name:a.name,desc:a.tmp_desc,count:e.count,allPrice:e.all_price,img:a.img_new,img_app:a.img_app,imgUpdate:a.img_new_update})})),i.setState({cartItems_dop:[]}),i.setState({cartItems_dop:l}),i.setState({cartItems_main:s,cartItems_need_dop:a,cartItems_promo:r,sumDiv:ne.Z.getSumDiv(),allPrice:ne.Z.getAllPrice()})}}))}catch(e){console.log(e),i.setState({hasError:!0}),fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"save_log_err",page:"cart",error:JSON.stringify(e),info:""})}).then((function(e){return e.json()})).then((function(e){}))}})),(0,c.Z)((0,o.Z)(i),"changeTab",(function(e,t){i.setState({orderType:t});var a=i.state.orderAddr;if(0==t){var n=ne.Z.getAllPrice();a?1==parseInt(a.free_drive)||1==parseInt(ne.Z.free_drive)?parseInt(n)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(a.sum_div)):ne.Z.setSumDiv(0)}else ne.Z.setSumDiv(0),setTimeout((function(){i.state.pic_point.length>0&&i.choosePic(i.state.orderPic)}),300);i.state.orderTimes;var o="cash";0==t?(i.setState({renderPay:i.state.pays.dev}),o=""):(i.setState({renderPay:i.state.pays.pic}),o="in"),i.setState({orderPay:o}),i.saveData()})),(0,c.Z)((0,o.Z)(i),"changeAddr",(function(e){var t=i.state.my_addr.find((function(t){return t.id==e.target.value})),a=ne.Z.getAllPrice();0==parseInt(t.check_dom_true)&&i.setState({CheckDomTrue:!0}),1==parseInt(t.free_drive)||1==parseInt(ne.Z.free_drive)?parseInt(a)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(t.sum_div)),0==i.state.orderType?i.setState({renderPay:i.state.pays.dev}):i.setState({renderPay:i.state.pays.pic}),i.setState({orderAddr:t,chooseAddr:!1,newAddrInfo:null,newAddrPD:"",newAddrET:"",newAddrKV:""}),i.saveData()})),(0,c.Z)((0,o.Z)(i),"changeComment",(function(e){e.target.value.length<=50&&i.setState({orderComment:e.target.value}),i.saveData()})),(0,c.Z)((0,o.Z)(i),"changePay",(function(e){i.setState({orderPay:e.target.value}),i.saveData()})),(0,c.Z)((0,o.Z)(i),"changeTimes",(function(e){var t=e.target.value;0==i.state.orderType?(i.setState({renderPay:i.state.pays.dev}),""==i.state.orderPay||"in"==i.state.orderPay||i.state.orderPay):i.setState({renderPay:i.state.pays.pic}),i.setState({orderTimes:t}),i.loadTimePred(),i.saveData()})),(0,c.Z)((0,o.Z)(i),"changeSdacha",(function(e){i.setState({orderSdacha:e.target.value}),i.saveData()})),(0,c.Z)((0,o.Z)(i),"changePredDay",(function(e){0!==e.target.value?(i.setState({orderPredDay:e.target.value,orderTimes:"2"}),0==i.state.orderType?i.setState({renderPay:i.state.pays.dev}):i.setState({renderPay:i.state.pays.pic}),setTimeout((function(){i.loadTimePred()}),300)):(i.setState({orderPredDay:0,orderTimes:"1"}),0==i.state.orderType?i.setState({renderPay:i.state.pays.dev}):i.setState({renderPay:i.state.pays.pic})),i.saveData()})),(0,c.Z)((0,o.Z)(i),"changePredTime",(function(e){i.setState({orderPredTime:e.target.value}),i.saveData()})),(0,c.Z)((0,o.Z)(i),"enterPromoMobile",(function(e){"Enter"===e.key&&document.querySelector("#PromoMobile")&&document.querySelector("#PromoMobile").blur()})),i.state={hasError:!1,is_load:!1,city_name:i.props.city,page:i.props.data?i.props.data.page:null,spiner:!1,title:"",description:"",orderCheckDopTea:!1,chooseAddr:!1,choosePicDialog:!1,chooseTimeDialog:!1,choosePayDialog:!1,chooseNewAddr:!1,orderCheckDop:!1,sumDiv:0,allPrice:0,pic_point:[],my_addr:[],all_addr:[],date_pred:[],picPointInfo:null,pays:{dev:[{type:"cash",title:"Наличными курьеру"},{type:"card",title:"Онлайн на сайте"}],dev_mini:[{type:"cash",title:"Наличными курьеру"},{type:"card",title:"Онлайн на сайте"}],pic:[{type:"in",title:"В кафе"}]},renderPay:[{type:"cash",title:"Наличными курьеру"},{type:"card",title:"Онлайн на сайте"}],cartItems_main:[],cartItems_dop:[],cartItems_need_dop:[],cartItems_promo:[],cartItems_dop_tea:[],timePred:[],error:{title:"",text:""},errorOpen:!1,orderCheck:!1,newAddrInfo:null,newAddrPD:"",newAddrET:"",newAddrKV:"",newAddrHome:"",newAddrDom:!0,orderType:0,orderAddr:null,orderPic:0,orderComment:"",orderPay:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderSdacha:"",orderPromo:"",orderPromoText:"",newOrderData:null,CheckDomTrue:!1,sberPayData:null},ne.Z.setCity(i.props.city),i}return(0,i.Z)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t),fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"save_log_err",page:"cart",error:JSON.stringify(e),info:JSON.stringify(t)})}).then((function(e){return e.json()})).then((function(e){}))}},{key:"loadData",value:function(){var e=this;setTimeout((function(){fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"get_by_mi_web",city_id:e.state.city_name,user_id:ne.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){e.setState({pic_point:t.get_addr_pic.points,my_addr:t.get_my_addr,all_addr:t.get_addr,date_pred:t.date_pred}),setTimeout((function(){var a=ne.Z.getCartData();if(a.orderType||0==a.orderType){var n=t.get_my_addr.find((function(e){return parseInt(e.id)==parseInt(a.orderAddr.id)}));if(a.orderAddr=n,e.setState({orderType:a.orderType,orderAddr:a.orderAddr&&-1==a.orderAddr.id?null:a.orderAddr,orderPic:a.orderPic,orderComment:a.orderComment,orderTimes:a.orderTimes,orderPredDay:a.orderPredDay,orderPredTime:a.orderPredTime,orderPay:a.orderPay,orderSdacha:a.orderSdacha}),ne.Z.saveCartData({orderType:a.orderType,orderAddr:a.orderAddr&&-1==a.orderAddr.id?null:a.orderAddr,orderPic:a.orderPic,orderComment:a.orderComment,orderTimes:a.orderTimes,orderPredDay:a.orderPredDay,orderPredTime:a.orderPredTime,orderPay:a.orderPay,orderSdacha:a.orderSdacha}),2==parseInt(a.orderTimes)&&""!=a.orderPredDay&&(a.orderAddr&&-1!==a.orderAddr.id||parseInt(a.orderPic)>0)&&setTimeout((function(){e.loadTimePred()}),300),setTimeout((function(){1==parseInt(a.orderType)&&parseInt(a.orderPic)>0&&e.choosePic(a.orderPic)}),300),0==parseInt(a.orderType)&&a.orderAddr&&a.orderAddr.id&&-1!==a.orderAddr.id){var i=ne.Z.getAllPrice();1==parseInt(a.orderAddr.free_drive)||1==parseInt(ne.Z.free_drive)?parseInt(i)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(a.orderAddr.sum_div))}else ne.Z.setSumDiv(0);setTimeout((function(){a.orderTimes,0==a.orderType?e.setState({renderPay:e.state.pays.dev}):e.setState({renderPay:e.state.pays.pic})}),300)}else 1==e.state.pic_point.length&&e.choosePic(e.state.pic_point[0].id),1==e.state.my_addr.length&&e.changeAddr({target:{value:e.state.my_addr[0].id}});"undefined"!=typeof window&&setTimeout((function(){localStorage.getItem("promo_name")&&(e.setState({orderPromo:localStorage.getItem("promo_name")}),setTimeout((function(){e.checkPromo()}),300))}),1e3)}),300)}))}),300)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"choosePic",value:function(e){ne.Z.setSumDiv(0),document.querySelector(".boxPic.active")&&document.querySelector(".boxPic.active").classList.remove("active"),document.querySelector("#pic_"+e)&&document.querySelector("#pic_"+e).classList.add("active");var t=this.state.pic_point.find((function(t){return t.id==e}));this.setState({orderPic:e,picPointInfo:t,choosePicDialog:!1}),this.saveData()}},{key:"changePayMobile",value:function(e){this.setState({orderPay:e,choosePayDialog:!1}),this.saveData()}},{key:"checkPromo",value:function(){var e=this;ne.Z.setItemsPromo([]),ne.Z.free_drive=0;var t;t=document.getElementById("PROMONAME")&&document.getElementById("PROMONAME").value.length>0?document.getElementById("PROMONAME").value:document.getElementById("PromoMobile")&&document.getElementById("PromoMobile").value.length>0?document.getElementById("PromoMobile").value:this.state.orderPromo,fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"get_promo_web",city_id:ne.Z.getCity(),promo_name:t})}).then((function(e){return e.json()})).then((function(a){ne.Z.setPromo(JSON.stringify(a),t);var n=ne.Z.checkPromo();0==t.length?e.setState({orderPromoText:""}):(n.st,e.setState({orderPromoText:n.text})),setTimeout((function(){var e=ne.Z.getCartData();if(e.orderType||0==e.orderType){var t=ne.Z.getAllPrice();1==parseInt(e.orderAddr?e.orderAddr.free_drive:0)||1==parseInt(ne.Z.free_drive)?parseInt(t)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(e.orderAddr?e.orderAddr.sum_div:0))}1==parseInt(e.orderType)&&ne.Z.setSumDiv(0)}),500)}))}},{key:"saveData",value:function(){var e=this;setTimeout((function(){var t={orderType:e.state.orderType,orderAddr:e.state.orderAddr,orderPic:e.state.orderPic,orderComment:e.state.orderComment,orderTimes:e.state.orderTimes,orderPredDay:e.state.orderPredDay,orderPredTime:e.state.orderPredTime,orderPay:e.state.orderPay,orderSdacha:e.state.orderSdacha};ne.Z.saveCartData(t),setTimeout((function(){e.checkPromo()}),300)}),500)}},{key:"saveDataCustomAddr",value:function(){var e=this;setTimeout((function(){var t={orderType:e.state.orderType,orderAddr:{id:-1,city_name:ne.Z.getCityRU(),street:e.state.newAddrInfo?e.state.newAddrInfo.street:"",home:e.state.newAddrInfo?e.state.newAddrInfo.home:"",kv:e.state.newAddrKV,pd:e.state.newAddrPD,et:e.state.newAddrET,dom_true:e.state.newAddrDom?1:0,free_drive:e.state.newAddrInfo?e.state.newAddrInfo.free_drive:0,sum_div:e.state.newAddrInfo?e.state.newAddrInfo.sum_div:0,point_id:e.state.newAddrInfo?e.state.newAddrInfo.point_id:0,xy:e.state.newAddrInfo?e.state.newAddrInfo.xy:"",pay_active:e.state.newAddrInfo?e.state.newAddrInfo.pay_active:0},orderPic:e.state.orderPic,orderComment:e.state.orderComment,orderTimes:e.state.orderTimes,orderPredDay:e.state.orderPredDay,orderPredTime:e.state.orderPredTime,orderPay:e.state.orderPay,orderSdacha:e.state.orderSdacha};t.orderAddr.street.length>0&&t.orderAddr.home.length>0&&e.setState({orderAddr:t.orderAddr}),ne.Z.saveCartData(t);var a=ne.Z.getAllPrice();1==parseInt(e.state.newAddrInfo?e.state.newAddrInfo.free_drive:0)||1==parseInt(ne.Z.free_drive)?parseInt(a)>0?ne.Z.setSumDiv(0):ne.Z.setSumDiv(1):ne.Z.setSumDiv(parseInt(e.state.newAddrInfo?e.state.newAddrInfo.sum_div:0)),e.state.orderTimes,0==e.state.orderType?e.setState({renderPay:e.state.pays.dev}):e.setState({renderPay:e.state.pays.pic})}),500)}},{key:"loadTimePred",value:function(){var e,t,a=this,n=[],i=ne.Z.getItems();this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id?(i.forEach((function(e){n.push({item_id:e.item_id,count:e.count})})),fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"get_times_pred_web",point_id:this.state.orderType+1==1?null!==(e=this.state.orderAddr.point_id)&&void 0!==e?e:0:null!==(t=this.state.orderPic)&&void 0!==t?t:0,type_order:this.state.orderType+1,date:this.state.orderPredDay,cart:JSON.stringify(n)})}).then((function(e){return e.json()})).then((function(e){e.st?a.setState({timePred:e.data}):a.setState({error:{title:"Предупреждение",text:e.text},errorOpen:!0})}))):this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0,orderTimes:"1"})}},{key:"startOrder",value:function(){var e=this;if(0==this.clickOrderStart){if(this.clickOrderStart=!0,!this.state.renderPay.find((function(t){return t.type==e.state.orderPay})))return this.setState({error:{title:"Предупреждение",text:"Выберите способ оплаты: онлайн на сайте или наличными при получении."},errorOpen:!0}),void(this.clickOrderStart=!1);if(2==parseInt(this.state.orderTimes)&&(""==this.state.orderPredDay||""==this.state.orderPredTime))return this.setState({error:{title:"Предупреждение",text:"Дата или время предзаказа не указано"},errorOpen:!0}),void(this.clickOrderStart=!1);if(!(this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id))return this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0}),void(this.clickOrderStart=!1);this.setState({spiner:!0,sberPayData:null});var t=[],a=ne.Z.getItems(),n=ne.Z.getAllItems(),i=[];a.forEach((function(e){e.count>0&&t.push({name:e.name,count:e.count,price:e.all_price,item_id:e.item_id,cat_id:n.find((function(t){return t.id==e.item_id})).cat_id})})),n.filter((function(e){return 231==parseInt(e.id)||232==parseInt(e.id)})).map((function(e,t){i.push({name:e.name,id:e.id,count:0,one_price:0,all_price:0,img:e.img_new,imgUpdate:e.img_new_update,cat_id:e.cat_id})}));var o=!1,r=!1,s=!1;if(t.forEach((function(e){(3==parseInt(e.cat_id)||4==parseInt(e.cat_id)||9==parseInt(e.cat_id)||10==parseInt(e.cat_id)||12==parseInt(e.cat_id)||13==parseInt(e.cat_id))&&parseInt(e.count)>0&&(o=!0),(17==parseInt(e.item_id)&&parseInt(e.count)>0||237==parseInt(e.item_id)&&parseInt(e.count)>0)&&(r=!0),19==parseInt(e.item_id)&&parseInt(e.count)>0&&(s=!0)})),o&&0==r||o&&0==s)return this.setState({orderCheckDop:!0,spiner:!1}),void setTimeout((function(){e.clickOrderStart=!1}),300);this.clickOrderStart=!1,this.startOrderNext()}}},{key:"startOrderNext",value:function(){var e=this;if(0==this.clickOrderStart){this.clickOrderStart=!0,clearTimeout(this.startOrderIntervalTimer),this.startOrderInterval=90,this.setState({orderCheckDop:!1,orderCheckDopTea:!1,spiner:!0});var t=this.state.renderPay.find((function(t){return t.type==e.state.orderPay})),a=[];if(ne.Z.getItems().forEach((function(e){e.count>0&&a.push({name:e.name,count:e.count,price:e.all_price,id:e.item_id})})),0==parseInt(this.state.orderType)){var n=this.state.orderAddr?JSON.stringify(this.state.orderAddr):"";if(!n||""==n)return void setTimeout((function(){e.setState({spiner:!1,error:{title:"Предупреждение",text:"Нет адреса для доставки"},errorOpen:!0}),e.clickOrderStart=!1}),300)}if(1==parseInt(this.state.orderType)){var i=this.state.orderPic;if(!i||0==i)return void setTimeout((function(){e.setState({spiner:!1,error:{title:"Предупреждение",text:"Не выбрана точка для самовывоза"},errorOpen:!0}),e.clickOrderStart=!1}),300)}var o=this.state.orderPromo;localStorage.getItem("promo_name")&&localStorage.getItem("promo_name").length>0&&localStorage.getItem("promo_name")!=o&&(o=localStorage.getItem("promo_name")),fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"createOrder_web",city_id:this.state.city_name,user_id:ne.Z.getToken(),timePred:JSON.stringify({value:1==parseInt(this.state.orderTimes)?0:this.state.orderPredDay+" "+this.state.orderPredTime}),typeOrder:this.state.orderType,addrPic:this.state.orderPic,comment:this.state.orderComment,addrDev:this.state.orderAddr?JSON.stringify(this.state.orderAddr):"",pay:t.title,sdacha:this.state.orderSdacha,payFull:JSON.stringify(t),cart:JSON.stringify(a),promo_name:o})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){e.clickOrderStart=!1}),300),setTimeout((function(){if(e.setState({spiner:!1}),t.st){var a;if(null!=t&&null!==(a=t.test_pay_res)&&void 0!==a&&null!==(a=a.confirmation)&&void 0!==a&&a.confirmation_token){var n;e.startOrderInterval=null==t||null===(n=t.test_pay_res)||void 0===n||null===(n=n.confirmation)||void 0===n?void 0:n.time_wait_pay;var i=new window.YooMoneyCheckoutWidget({confirmation_token:t.test_pay_res.confirmation.confirmation_token,return_url:"https://jacofood.ru/"+e.state.city_name+"/profile",customization:{},error_callback:function(e){console.log(e)}});setTimeout((function(){i.render("payment-form")}),300)}e.setState({orderCheck:!0,newOrderData:t,sberPayData:t.sberPay}),t.sberPay&&(t.sberPay.selector="#sbol-pay-container",t.sberPay.rowView=!0,new window.SbolPay(t.sberPay)),e.startOrderIntervalTimer=setTimeout((function(){e.setState({orderCheck:!1,newOrderData:null})}),1e3*e.startOrderInterval)}else t.type&&"new_pred"==t.type&&e.setState({timePred:t.times}),e.setState({error:{title:"Предупреждение",text:t.text_err},errorOpen:!0})}),1e3)})).catch((function(t){setTimeout((function(){e.setState({spiner:!1})}),300),console.log(t)}))}}},{key:"checkNewAddr",value:function(){var e,t=this,a=document.querySelector("#newAddrStreet")?document.querySelector("#newAddrStreet").value:"",n=document.querySelector("#newAddrStreetModal")?document.querySelector("#newAddrStreetModal").value:"";(e=a.length>0?a:n.length>0?n:"").length>0&&this.state.newAddrHome.length>0&&fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"save_new_addr_web_new",city_id:this.state.city_name,user_id:ne.Z.getToken(),street:e,home:this.state.newAddrHome})}).then((function(e){return e.json()})).then((function(e){e.st?""==e.data.home?t.setState({error:{title:"Предупреждение",text:"Номер дома не указан или указан не верно"},errorOpen:!0}):(t.setState({newAddrInfo:e.data}),t.saveDataCustomAddr()):t.setState({error:{title:"Предупреждение",text:e.text},errorOpen:!0})}))}},{key:"trueOrder",value:function(){var e=this;fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"trueOrder_web",city_id:this.state.city_name,user_id:ne.Z.getToken(),order_id:this.state.newOrderData.order_id,point_id:this.state.newOrderData.point_id})}).then((function(e){return e.json()})).then((function(t){0==t.st?e.setState({error:{title:"При подтверждении оплаты произошла ошибка",text:t.text_err},errorOpen:!0}):(ne.Z.setItems([]),ne.Z.saveCartData({orderType:0,orderAddr:"",orderPic:0,orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:"",orderSdacha:""}),setTimeout((function(){var e=fe(window.location.pathname);window.location.href=window.location.origin+"/"+e+"/profile?trueOrder"}),300))}))}},{key:"delAddr",value:function(e){var t=this;confirm("Удалить сохраненный адрес ?")&&fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"del_addr_web",city_id:this.state.city_name,user_id:ne.Z.getToken(),id_addr:e})}).then((function(e){return e.json()})).then((function(e){t.setState({my_addr:e})}))}},{key:"changeDomTrue",value:function(e){this.setState({newAddrDom:e})}},{key:"closeTimeDialog",value:function(){""==this.state.orderPredTime?(this.changePredDay({target:{value:0}}),this.setState({chooseTimeDialog:!1})):this.setState({chooseTimeDialog:!1})}},{key:"changePayMobile_new",value:function(){this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id?this.setState({choosePayDialog:!0}):this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0,orderTimes:"1"})}},{key:"changeTimeMobile",value:function(){this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id?this.setState({chooseTimeDialog:!0}):this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0,orderTimes:"1"})}},{key:"checkSaveData",value:function(e,t){var a=e.target.value;isNaN(a)||this.setState((0,c.Z)({},t,a))}},{key:"checkDomTrue",value:function(e,t){var a=this;fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"checkDomTrue",city_id:this.state.city_name,user_id:ne.Z.getToken(),addr_id:this.state.orderAddr.id,dom_true:!0===e?1:0})}).then((function(e){return e.json()})).then((function(e){}));var n=this.state.orderAddr;n.dom_true=!0===e?1:0,n.check_dom_true=1,this.setState({newAddrDom:!0===e?1:0,orderAddr:n,CheckDomTrue:!1}),setTimeout((function(){a.saveData()}),300)}},{key:"render",value:function(){var e=this;if(this.state.hasError)return p.createElement(p.Fragment,null,p.createElement(_.Z,{variant:"h5",component:"h1"},"Корзина"),p.createElement("a",{href:"https://jacofood.ru/"+this.state.city_name},"На главную"));var t=this.state.renderPay.find((function(t){return t.type==e.state.orderPay})),a=this.state.pic_point.find((function(t){return t.id==e.state.orderPic}));return a=a?a.addr:"",p.createElement(u.ZP,{container:!0,className:"Cart mainContainer MuiGrid-spacing-xs-3"},p.createElement(se.q,null,p.createElement("title",null,this.state.title),p.createElement("meta",{name:"description",content:this.state.description})),p.createElement(Z.Z,{open:this.state.spiner,style:{zIndex:9999,color:"#fff"}},p.createElement(C.Z,{color:"inherit"})),p.createElement(u.ZP,{item:!0,xs:12},p.createElement(_.Z,{variant:"h5",component:"h1"},"Корзина")),p.createElement(u.ZP,{item:!0,container:!0,sx:{display:{xs:"none",sm:"flex"}},spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",style:{paddingTop:0}},p.createElement(A.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},p.createElement(j.Z,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",style:{justifyContent:"center"}},p.createElement(O.Z,(0,m.Z)({label:"Доставка"},ve(0),{disableRipple:!0})),p.createElement(O.Z,(0,m.Z)({label:"Самовывоз"},ve(1),{disableRipple:!0})))),p.createElement(_e,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,index:0,style:{width:"100%"}},p.createElement(Y.Z,{component:"fieldset",style:{width:"100%"}},p.createElement(K.Z,{name:"addrs",value:this.state.orderAddr?this.state.orderAddr.id:0,onChange:this.changeAddr},this.state.my_addr.map((function(t,a){return p.createElement("div",{key:a,className:"boxAddr"},p.createElement(J.Z,{value:t.id,control:p.createElement(V.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:t.city_name+", "+t.street+" "+t.home+(0==parseInt(t.pd)||0==t.pd.length?"":", Пд. "+t.pd)+(0==parseInt(t.et)||0==t.et.length?"":", Эт. "+t.et)+(0==parseInt(t.kv)||0==t.kv.length?"":", Кв. "+t.kv)+(0==parseInt(t.dom_true)?" Домофон не работает":"")}),p.createElement(v.G,{onClick:e.delAddr.bind(e,t.id),icon:E.NBC}))})))),p.createElement(Q.Z,null,p.createElement($.Z,{"aria-controls":"panel1a-content",id:"panel1a-header"},p.createElement(_.Z,{variant:"h5",component:"span",className:"newAddr"},"Новый адрес")),p.createElement(ee.Z,{className:"newAddr"},p.createElement("div",null,p.createElement(ae.Z,{freeSolo:!0,id:"newAddrStreet",size:"small",onBlur:this.checkNewAddr.bind(this),options:this.state.all_addr.map((function(e){return e.value})),renderInput:function(e){return p.createElement(z.Z,(0,m.Z)({},e,{label:"Улица",margin:"normal",variant:"outlined"}))}}),p.createElement(z.Z,{label:"Дом",size:"small",variant:"outlined",value:this.state.newAddrHome,onChange:function(t){return e.setState({newAddrHome:t.target.value})},onBlur:this.checkNewAddr.bind(this)})),p.createElement("div",null,p.createElement(z.Z,{label:"Подъезд",variant:"outlined",size:"small",style:{width:"100%"},value:this.state.newAddrPD,onChange:function(t){return e.checkSaveData(t,"newAddrPD")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(z.Z,{label:"Этаж",variant:"outlined",size:"small",style:{width:"100%"},value:this.state.newAddrET,onChange:function(t){return e.checkSaveData(t,"newAddrET")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(z.Z,{label:"Квартира",variant:"outlined",size:"small",style:{width:"100%"},value:this.state.newAddrKV,onChange:function(t){return e.checkSaveData(t,"newAddrKV")},onBlur:this.saveDataCustomAddr.bind(this)})),p.createElement("div",null,p.createElement(f.Z,{disableElevation:!0,variant:"contained",className:"chooseDomTrue"},p.createElement(g.Z,{className:!0===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!0)},"Домофон работает"),p.createElement(g.Z,{className:!1===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!1)},"Домофон не работает")))))),p.createElement(_e,{value:this.state.orderType,index:1},p.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},this.state.pic_point.map((function(t,a){return p.createElement("div",{className:"boxPic",id:"pic_"+t.id,key:a,onClick:e.choosePic.bind(e,t.id)},p.createElement(_.Z,{variant:"h5",component:"span"},t.raion),p.createElement(_.Z,{variant:"h5",component:"span"},t.addr,", c 10:00 до 21:30"))})))),0==this.state.orderType?p.createElement("div",{className:"_comment_"},p.createElement(z.Z,{id:"outlined-multiline-flexible",label:"Комментарий курьеру",multiline:!0,rowsMax:2,value:this.state.orderComment,onChange:this.changeComment,variant:"outlined",size:"small",type:"text"})):null,p.createElement("div",null,p.createElement(Y.Z,{component:"fieldset"},p.createElement(X.Z,{component:"legend"},"Оплата"),p.createElement(K.Z,{"aria-label":"pays",name:"pays",value:this.state.orderPay,onChange:this.changePay},this.state.renderPay.map((function(e,t){return p.createElement(J.Z,{key:t,value:e.type,control:p.createElement(V.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:e.title})}))))),p.createElement("div",null,p.createElement(Y.Z,{component:"fieldset"},p.createElement(X.Z,{component:"legend"},"Когда приготовить?"),p.createElement(K.Z,{"aria-label":"times",name:"times",value:this.state.orderTimes,onChange:this.changeTimes},p.createElement(J.Z,{value:"1",control:p.createElement(V.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:"Как можно быстрее"}),p.createElement(J.Z,{value:"2",control:p.createElement(V.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:"Предзаказ"})))),2==this.state.orderTimes?p.createElement("div",null,p.createElement(Y.Z,{style:{width:"30%"},variant:"standard"},p.createElement(B.Z,{htmlFor:"age-native-simple"},"День"),p.createElement(L.Z,{size:"small",displayEmpty:!0,value:this.state.orderPredDay,onChange:this.changePredDay,inputProps:{id:"age-native-simple"}},this.state.date_pred.map((function(e,t){return p.createElement(R.Z,{key:t,value:e.date},e.text)})))),p.createElement(Y.Z,{style:{width:"20%"},variant:"standard"},p.createElement(B.Z,{htmlFor:"age-native-simple1"},"Время"),p.createElement(L.Z,{displayEmpty:!0,size:"small",value:this.state.orderPredTime,onChange:this.changePredTime,inputProps:{id:"age-native-simple1"}},this.state.timePred.map((function(e,t){return p.createElement(R.Z,{key:t,value:e.value},e.text)}))))):null,p.createElement("div",null,p.createElement(_.Z,{variant:"h5",component:"h2"},"Моя корзина")),p.createElement("div",null,p.createElement("table",{className:"tableCart"},p.createElement("tbody",null,this.state.cartItems_main.map((function(t,a){return p.createElement(Ee,{key:a,item:t,type:"item",firebaseAnalitic:e.firebaseAnalitic})})),this.state.cartItems_promo.map((function(t,a){return p.createElement(Ee,{key:a,item:t,type:"promo",firebaseAnalitic:e.firebaseAnalitic})})),p.createElement("tr",{className:"rowAboutDop"},p.createElement("td",{colSpan:"3"},p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Соевый соус, имбирь и васаби приобретаются отдельно!"),p.createElement("br",null),p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Не забудьте добавить нужные позиции в корзину."))),this.state.cartItems_dop.map((function(t,a){return p.createElement(Ee,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})}))),p.createElement("tfoot",null,p.createElement("tr",null,p.createElement("td",{colSpan:"2"},p.createElement(_.Z,{component:"span"},"Доставка:")),p.createElement("td",null,p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv," ",p.createElement(ye,{width:"20",viewBox:"0 20 500 200"})))),p.createElement("tr",null,p.createElement("td",{colSpan:"2"},p.createElement(_.Z,{component:"span"},"Итого:")),p.createElement("td",null,p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv+this.state.allPrice," ",p.createElement(ye,{width:"20",viewBox:"0 20 500 200"}))))))),0==this.state.orderType&&"cash"==this.state.orderPay?p.createElement("div",{className:"orderSdacha"},p.createElement("div",null,p.createElement(Y.Z,null,p.createElement(B.Z,{htmlFor:"standard-adornment-weight"},"Подготовить сдачу с"),p.createElement(te.Z,{type:"number",id:"standard-adornment-weight",value:this.state.orderSdacha,onChange:this.changeSdacha,endAdornment:p.createElement(ye,{viewBox:"-400 0 1200 300"})})))):null,p.createElement("div",{className:"promoOrder"},p.createElement("div",null,p.createElement(b.Z,{component:"div",className:"SpacePromo"},p.createElement(w.ZP,{onBlur:this.checkPromo.bind(this),value:this.state.orderPromo,onChange:function(t){return e.setState({orderPromo:t.target.value})},placeholder:"Промокод",id:"PROMONAME"}),p.createElement(x.Z,{orientation:"vertical"}),p.createElement(y.Z,{color:"primary","aria-label":"directions",onClick:this.checkPromo.bind(this)},p.createElement(I.Z,null))),this.state.orderPromoText.length>0?p.createElement("div",{className:"DescPromo"},p.createElement(_.Z,{variant:"h5",component:"span"},"Промокод дает: ",this.state.orderPromoText)):null),p.createElement("div",null,p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:this.startOrder.bind(this)},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Оформить заказ"))))),p.createElement(u.ZP,{item:!0,container:!0,sx:{display:{xs:"flex",sm:"none"}},spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer mobile"},p.createElement(A.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},p.createElement(j.Z,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",style:{justifyContent:"center"}},p.createElement(O.Z,(0,m.Z)({label:"Доставка"},ve(0),{style:{width:"50%"},disableRipple:!0})),p.createElement(O.Z,(0,m.Z)({label:"Самовывоз"},ve(1),{style:{width:"50%"},disableRipple:!0})))),p.createElement(_e,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,index:0,style:{width:"100%"}},p.createElement("div",{className:"boxMobile",onClick:function(){return e.setState({chooseAddr:!0})}},p.createElement(_.Z,{variant:"h5",component:"span"},"Адрес: ",this.state.orderAddr?this.state.orderAddr.city_name+", "+this.state.orderAddr.street+" "+this.state.orderAddr.home+(0==parseInt(this.state.orderAddr.pd)||0==this.state.orderAddr.pd.length?"":", Пд. "+this.state.orderAddr.pd)+(0==parseInt(this.state.orderAddr.et)||0==this.state.orderAddr.et.length?"":", Эт. "+this.state.orderAddr.et)+(0==parseInt(this.state.orderAddr.kv)||0==this.state.orderAddr.kv.length?"":", Кв. "+this.state.orderAddr.kv):""))),p.createElement(_e,{value:this.state.orderType,index:1,style:{width:"100%"}},p.createElement("div",{className:"boxMobile",onClick:function(){return e.setState({choosePicDialog:!0})}},p.createElement(_.Z,{variant:"h5",component:"span"},"Адрес: ",this.state.orderPic>0&&this.state.pic_point.length>0?a:""))),p.createElement("div",{className:"boxMobile",onClick:this.changeTimeMobile.bind(this)},p.createElement(_.Z,{variant:"h5",component:"span"},"Приготовим: ",1==this.state.orderTimes?"как можно быстрее":this.state.orderPredDay+" "+this.state.orderPredTime)),p.createElement("div",{className:"boxMobile",onClick:this.changePayMobile_new.bind(this)},p.createElement(_.Z,{variant:"h5",component:"span"},"Оплачу: ",t?t.title:"")),p.createElement("div",{style:{marginTop:15}},p.createElement(b.Z,{component:"div",className:"SpacePromo"},p.createElement(w.ZP,{onBlur:this.checkPromo.bind(this),value:this.state.orderPromo,onChange:function(t){return e.setState({orderPromo:t.target.value})},onKeyPress:this.enterPromoMobile,id:"PromoMobile",placeholder:"Промокод"}),p.createElement(x.Z,{orientation:"vertical"}),p.createElement(y.Z,{color:"primary",id:"NextPromo","aria-label":"directions",onClick:this.checkPromo.bind(this)},p.createElement(I.Z,null))),this.state.orderPromoText.length>0?p.createElement("div",{className:"DescPromo"},p.createElement(_.Z,{variant:"h5",component:"span"},"Промокод дает: ",this.state.orderPromoText)):null),0==this.state.orderType?p.createElement("div",{className:"boxMobile_ area",style:{paddingTop:20}},p.createElement("form",{noValidate:!0,autoComplete:"off"},p.createElement(z.Z,{style:{width:"100%"},id:"outlined-multiline-flexible",label:"Комментарий курьеру",multiline:!0,rowsMax:2,value:this.state.orderComment,onChange:this.changeComment,variant:"outlined",size:"small",type:"text"}))):null,0==this.state.orderType&&"cash"==this.state.orderPay?p.createElement("div",{className:"boxMobile_ area",style:{paddingTop:20}},p.createElement(Y.Z,{variant:"outlined",style:{width:"100%"}},p.createElement(B.Z,{htmlFor:"outlined-adornment-password"},"Подготовить сдачу с"),p.createElement(W.Z,{id:"outlined-adornment-password",type:"number",style:{width:"100%"},value:this.state.orderSdacha,onChange:this.changeSdacha,endAdornment:p.createElement(ye,{viewBox:"-600 80 1000 300"}),label:"Подготовить сдачу с"}))):null,p.createElement("div",null,p.createElement("div",{className:"tableMobile"},this.state.cartItems_main.map((function(t,a){return p.createElement(be,{key:a,item:t,type:"item",firebaseAnalitic:e.firebaseAnalitic})})),this.state.cartItems_promo.map((function(t,a){return p.createElement(be,{key:a,item:t,type:"promo",firebaseAnalitic:e.firebaseAnalitic})})),p.createElement("div",{className:"boxItem rowAboutDop"},p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Соевый соус, имбирь и васаби приобретаются отдельно!"),p.createElement("br",null),p.createElement(_.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Не забудьте добавить нужные позиции в корзину.")),this.state.cartItems_dop.map((function(t,a){return p.createElement(be,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})})))),p.createElement("div",{className:"bottomOrder",style:{paddingTop:0}},p.createElement("div",{style:{padding:"5px 0px"}},p.createElement(_.Z,{variant:"h5",component:"span"},"Доставка"),p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv," ",p.createElement(ye,{width:"20",viewBox:"0 0 600 200"}))),p.createElement("div",{style:{paddingBottom:5}},p.createElement(_.Z,{variant:"h5",component:"span"},"К оплате"),p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv+this.state.allPrice," ",p.createElement(ye,{width:"20",viewBox:"0 0 600 200"}))),p.createElement("div",null,p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:this.startOrder.bind(this)},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Оформить заказ"))))),p.createElement(k.Z,{open:this.state.CheckDomTrue,onClose:function(){return e.setState({CheckDomTrue:!1})},className:"CheckDomTrue"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Подтвердите работоспособность домофона"),p.createElement(P.Z,null,p.createElement(T.Z,{className:"DialogErrText"},this.state.orderAddr?this.state.orderAddr.city_name+", "+this.state.orderAddr.street+" "+this.state.orderAddr.home+(0==parseInt(this.state.orderAddr.pd)||0==this.state.orderAddr.pd.length?"":", Пд. "+this.state.orderAddr.pd)+(0==parseInt(this.state.orderAddr.et)||0==this.state.orderAddr.et.length?"":", Эт. "+this.state.orderAddr.et)+(0==parseInt(this.state.orderAddr.kv)||0==this.state.orderAddr.kv.length?"":", Кв. "+this.state.orderAddr.kv):"")),p.createElement(N.Z,null,p.createElement(f.Z,{disableElevation:!0,variant:"contained",className:"chooseDomTrue",style:{width:"100%"}},p.createElement(g.Z,{style:{width:"50%"},onClick:this.checkDomTrue.bind(this,!0)},"Домофон работает"),p.createElement(g.Z,{style:{width:"50%"},onClick:this.checkDomTrue.bind(this,!1)},"Домофон не работает")))),p.createElement(k.Z,{open:this.state.errorOpen,onClose:function(){return e.setState({errorOpen:!1})},className:"DialogErr"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},this.state.error.title),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({errorOpen:!1})},icon:E.NBC}),p.createElement(P.Z,null,p.createElement(T.Z,{className:"DialogErrText"},this.state.error.text)),p.createElement(N.Z,null,p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({errorOpen:!1})}},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Хорошо")))),p.createElement(k.Z,{open:this.state.chooseAddr,fullWidth:!0,onClose:function(){return e.setState({chooseAddr:!1})},className:"DialogChooseAddr"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Адрес доставки"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({chooseAddr:!1})},icon:E.NBC}),p.createElement(P.Z,null,p.createElement(Y.Z,{component:"fieldset"},p.createElement(K.Z,{name:"addrs",value:this.state.orderAddr?this.state.orderAddr.id:0,onChange:this.changeAddr},this.state.my_addr.map((function(t,a){return p.createElement("div",{key:a,className:"boxAddr"},p.createElement(J.Z,{value:t.id,control:p.createElement(V.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:t.city_name+", "+t.street+" "+t.home+(0==parseInt(t.pd)||0==t.pd.length?"":", Пд. "+t.pd)+(0==parseInt(t.et)||0==t.et.length?"":", Эт. "+t.et)+(0==parseInt(t.kv)||0==t.kv.length?"":", Кв. "+t.kv)+(0==parseInt(t.dom_true)?" Домофон не работает":"")}),p.createElement(v.G,{onClick:e.delAddr.bind(e,t.id),icon:E.NBC}))})))),p.createElement(_.Z,{variant:"h5",component:"span",className:"newAddrMobile",onClick:function(){e.setState({chooseAddr:!1,chooseNewAddr:!0})}},"Новый адрес"))),p.createElement(k.Z,{open:this.state.chooseNewAddr,fullWidth:!0,onClose:function(){return e.setState({chooseNewAddr:!1})},className:"DialogChooseNewAddr"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Новый адрес"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({chooseNewAddr:!1})},icon:E.NBC}),p.createElement(P.Z,{style:{paddingTop:0}},p.createElement("div",{className:"newAddrMobile",style:{paddingTop:0}},p.createElement(ae.Z,{freeSolo:!0,id:"newAddrStreetModal",size:"small",style:{width:"100%"},onBlur:this.checkNewAddr.bind(this),options:this.state.all_addr.map((function(e){return e.value})),renderInput:function(e){return p.createElement(z.Z,(0,m.Z)({},e,{label:"Улица",margin:"normal"}))}}),p.createElement(z.Z,{label:"Дом",size:"small",style:{width:"100%"},value:this.state.newAddrHome,onChange:function(t){return e.setState({newAddrHome:t.target.value})},onBlur:this.checkNewAddr.bind(this)}),p.createElement(z.Z,{label:"Подъезд",size:"small",style:{width:"100%"},value:this.state.newAddrPD,onChange:function(t){return e.checkSaveData(t,"newAddrPD")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(z.Z,{label:"Этаж",size:"small",style:{width:"100%"},value:this.state.newAddrET,onChange:function(t){return e.checkSaveData(t,"newAddrET")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(z.Z,{label:"Квартира",size:"small",style:{width:"100%"},value:this.state.newAddrKV,onChange:function(t){return e.checkSaveData(t,"newAddrKV")},onBlur:this.saveDataCustomAddr.bind(this)}),p.createElement(f.Z,{disableElevation:!0,variant:"contained",className:"chooseDomTrue"},p.createElement(g.Z,{className:!0===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!0)},"Домофон работает"),p.createElement(g.Z,{className:!1===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!1)},"Домофон не работает"))),p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({chooseNewAddr:!1})}},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Использовать")))),p.createElement(k.Z,{open:this.state.choosePicDialog,fullWidth:!0,onClose:function(){return e.setState({choosePicDialog:!1})},className:"DialogChoosePicDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Адрес кафе"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({choosePicDialog:!1})},icon:E.NBC}),p.createElement(P.Z,null,p.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},this.state.pic_point.map((function(t,a){return p.createElement("div",{className:"boxPic "+(e.state.orderPic==t.id?"active":""),id:"pic_"+t.id,key:a,onClick:e.choosePic.bind(e,t.id)},p.createElement(_.Z,{variant:"h5",component:"span"},t.raion),p.createElement(_.Z,{variant:"h5",component:"span"},t.addr,", c 10:00 до 21:30"))}))))),p.createElement(k.Z,{open:this.state.chooseTimeDialog,fullWidth:!0,onClose:this.closeTimeDialog.bind(this),className:"DialogChoosePicDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Время заказа"),p.createElement(v.G,{className:"closeDialog",onClick:this.closeTimeDialog.bind(this),icon:E.NBC}),p.createElement(P.Z,null,p.createElement("div",{style:{display:"flex",flexDirection:"column"}},p.createElement(Y.Z,{style:{width:"100%",paddingBottom:20},variant:"standard"},p.createElement(B.Z,{htmlFor:"age-native-simple"},"День"),p.createElement(L.Z,{size:"small",displayEmpty:!0,value:this.state.orderPredDay,onChange:this.changePredDay,inputProps:{id:"age-native-simple"}},p.createElement(R.Z,{value:0},"Как можно быстрее"),this.state.date_pred.map((function(e,t){return p.createElement(R.Z,{key:t,value:e.date},e.text)})))),p.createElement(Y.Z,{style:{width:"100%",paddingBottom:20,display:0==this.state.orderPredDay?"none":"inline-flex"},variant:"standard"},p.createElement(B.Z,{htmlFor:"age-native-simple1"},"Время"),p.createElement(L.Z,{size:"small",displayEmpty:!0,value:this.state.orderPredTime,onChange:this.changePredTime,inputProps:{id:"age-native-simple1"}},this.state.timePred.map((function(e,t){return p.createElement(R.Z,{key:t,value:e.value},e.text)}))))),p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({chooseTimeDialog:!1})}},p.createElement(g.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Использовать")))),p.createElement(k.Z,{onClose:function(){return e.setState({choosePayDialog:!1})},"aria-labelledby":"simple-dialog-title",open:this.state.choosePayDialog,fullWidth:!0,className:"DialogChoosePayDialog"},p.createElement(S.Z,{id:"simple-dialog-title",style:{paddingBottom:0}},"Оплата"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({choosePayDialog:!1})},icon:E.NBC}),p.createElement(H.Z,null,this.state.renderPay.map((function(t,a){return p.createElement(G.ZP,{button:!0,onClick:e.changePayMobile.bind(e,t.type),key:a},p.createElement(U.Z,null,p.createElement(F.Z,{style:{color:"#fff",backgroundColor:"#000"}},"cash"==t.type?p.createElement(v.G,{icon:E.aLp}):"in"==t.type?p.createElement(v.G,{icon:E.J4t}):p.createElement(v.G,{icon:E.Ozh}))),p.createElement(q.Z,{primary:t.title}))})))),p.createElement(k.Z,{open:this.state.orderCheckDop,fullWidth:!0,onClose:this.startOrderNext.bind(this),className:"DialogOrderCheckDopDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"А как же палочки и соевый соус ?"),p.createElement(v.G,{className:"closeDialog",onClick:this.startOrderNext.bind(this),icon:E.NBC}),p.createElement(P.Z,null,p.createElement("div",{className:"tableMobile OrderCheckDopDialog"},this.state.cartItems_dop.map((function(t,a){return p.createElement(be,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})})))),p.createElement(N.Z,{style:{padding:"12px 24px",paddingBottom:24}},p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:this.startOrderNext.bind(this)},p.createElement(g.Z,{variant:"contained",style:{width:"100%"},className:"BtnCardMain CardInCardItem"},"Продолжить")))),p.createElement(k.Z,{open:this.state.orderCheckDopTea,fullWidth:!0,onClose:this.startOrderNext.bind(this),className:"DialogOrderCheckDopDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Согреваем, чаем угощаем!"),p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Две индивидуальные упаковки ягодно-фруктового чая вам в подарок"),p.createElement(v.G,{className:"closeDialog",onClick:this.startOrderNext.bind(this),icon:E.NBC}),p.createElement(P.Z,null,p.createElement("div",{className:"tableMobile OrderCheckDopDialog"},this.state.cartItems_dop_tea.map((function(t,a){return p.createElement(be,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})})))),p.createElement(N.Z,{style:{padding:"12px 24px",paddingBottom:24}},p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:this.startOrderNext.bind(this)},p.createElement(g.Z,{variant:"contained",style:{width:"100%"},className:"BtnCardMain CardInCardItem"},"Продолжить")))),!0===this.state.orderCheck?p.createElement(k.Z,{open:this.state.orderCheck,fullWidth:!0,onClose:function(){return e.setState({orderCheck:!1})},className:"DialogOrderCheckDialog"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Подтверждение заказа"),p.createElement(v.G,{className:"closeDialog",onClick:function(){return e.setState({orderCheck:!1})},icon:E.NBC}),p.createElement(P.Z,{style:{display:"flex",flexDirection:"column"}},1==parseInt(this.state.orderTimes)?null:p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Время предзаказа: ",this.state.orderPredDay+" "+this.state.orderPredTime),0==parseInt(this.state.orderType)?p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Доставим: ",this.state.orderAddr?this.state.orderAddr.city_name+", "+this.state.orderAddr.street+" "+this.state.orderAddr.home+(0==parseInt(this.state.orderAddr.pd)||0==this.state.orderAddr.pd.length?"":", Пд. "+this.state.orderAddr.pd)+(0==parseInt(this.state.orderAddr.et)||0==this.state.orderAddr.et.length?"":", Эт. "+this.state.orderAddr.et)+(0==parseInt(this.state.orderAddr.kv)||0==this.state.orderAddr.kv.length?"":", Кв. "+this.state.orderAddr.kv):null):p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Заберу: ",this.state.picPointInfo?this.state.picPointInfo.addr:""),0==parseInt(this.state.orderType)&&this.state.orderAddr&&0==parseInt(this.state.orderAddr.dom_true)?p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Домофон не работает"):null,this.state.orderPromo.length>0?p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Промокод: ",this.state.orderPromo):null,p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Оплачу: ",this.state.renderPay.find((function(t){return t.type==e.state.orderPay})).title),0==parseInt(this.state.orderType)&&"cash"==this.state.orderPay?this.state.orderSdacha.length>0?p.createElement(_.Z,{variant:"h5",component:"span",className:"nameSdacha orderCheckText"},"Сдача с: ",this.state.orderSdacha," ",p.createElement(ye,{width:"20",viewBox:"0 0 700 300"})):p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Без сдачи"):null,-1!=parseInt(this.state.orderType)?null:p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText",style:{color:"#c03"}},"Забрать заказ можно только в маске"),-1!=parseInt(this.state.orderType)?null:p.createElement(p.Fragment,null,p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},p.createElement(v.G,{icon:E.rtB}),' Уважаемые посетители кафе "Жако", посадка в зал осуществляется только при наличии qr - кода и документа, удостоверяющего личность. '),p.createElement(h.OL,{to:{pathname:"https://pravo.samregion.ru/wp-content/uploads/sites/2/2021/11/pgso291.pdf"},target:"_blank",style:{textDecoration:"none",color:"inherit",paddingBottom:10,marginTop:-10}},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Постановление губернатора Самарской области от 6.11.2021 г."))),(0==parseInt(this.state.orderType)&&parseInt(this.state.orderAddr.point_id),null),this.state.newOrderData&&this.state.newOrderData.dop_text&&this.state.newOrderData.dop_text.length>0?p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText",style:{fontWeight:"bold"}},this.state.newOrderData.dop_text):null,p.createElement("table",{className:"tableOrderCheck"},p.createElement("tbody",null,ne.Z.getItems().map((function(e,t){return parseInt(e.count)>0?p.createElement("tr",{key:t},p.createElement("td",{style:{width:"60%"}},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.name)),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.count)),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},e.all_price," ",p.createElement(ye,{width:"20",viewBox:"0 0 700 300"})))):null})),this.state.cartItems_promo.map((function(e,t){return p.createElement("tr",{key:t},p.createElement("td",{style:{width:"60%"}},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.name)),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.count)),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},e.allPrice," ",p.createElement(ye,{width:"20",viewBox:"0 0 700 300"}))))})),0==parseInt(this.state.orderType)?p.createElement("tr",null,p.createElement("td",{colSpan:"2"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Доставка")),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},ne.Z.getSumDiv()," ",p.createElement(ye,{width:"20",viewBox:"0 0 700 300"})))):null),p.createElement("tfoot",null,p.createElement("tr",null,p.createElement("td",{colSpan:"2"},p.createElement(_.Z,{variant:"h5",component:"span",className:"orderCheckText bold"},"Сумма заказа")),p.createElement("td",null,p.createElement(_.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},parseInt(ne.Z.getAllPrice())+parseInt(ne.Z.getSumDiv())," ",p.createElement(ye,{width:"20",viewBox:"0 0 700 300"})))))),p.createElement("div",{id:"payment-form",style:{marginTop:50}})),p.createElement(N.Z,{id:"other-payment-form",style:{padding:"12px 24px",paddingBottom:24,display:"flex",flexDirection:"column"}},"card"==this.state.orderPay?this.state.newOrderData.pay.formUrl.length>0&&p.createElement(p.Fragment,null,p.createElement("a",{href:this.state.newOrderData.pay.formUrl,className:"MuiButtonBase-root MuiBottomNavigationAction-root",style:{padding:20}},p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"}},p.createElement(g.Z,{variant:"contained",style:{width:"100%",margin:"0px 10px"},className:"BtnCardMain CardInCardItem"},"Оплатить заказ картой"))),p.createElement("div",{id:"sbol-pay-container",className:""})):p.createElement(f.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:this.trueOrder.bind(this)},p.createElement(g.Z,{variant:"contained",style:{width:"100%"},className:"BtnCardMain CardInCardItem"},"Подтвердить заказ")))):null)}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:fe(e),page:"cart"};return ce()({method:"POST",url:oe().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:ue.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t,st:t.st}}})).catch((function(e){console.log(e)}))}},{key:"getDerivedStateFromError",value:function(e){fetch(oe().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ue.stringify({type:"save_log_err",page:"cart",error:JSON.stringify(e),info:""})}).then((function(e){return e.json()})).then((function(e){}))}}]),a}(p.Component)},9188:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageCompanyDetails:()=>E});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7294),d=a(5725),p=a(2658),h=a(6282),u=a(8811),g=a.n(u),f=a(4593),y=a(9669),_=a.n(y);var v=a(7563),E=function(e){(0,r.Z)(y,e);var t,a,u=(t=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function y(e){var t;return(0,n.Z)(this,y),t=u.call(this,e),(0,c.Z)((0,o.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(y,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageCompanyDetails"),y.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(f.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEdetails mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"company-details"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),y}(m.Component)},6068:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Contact:()=>I});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(885),d=a(7294),p=a(5725),h=a(9941),u=a(7425),g=a(5092),f=a(2658),y=a(3508),_=a(6282),v=a(8811),E=a.n(v),b=a(4593),w=a(9669),x=a.n(w);var Z=a(7563);function C(e){var t=d.useState(!1),a=(0,m.Z)(t,2),n=a[0],i=a[1],o=e.points;return d.createElement("div",{className:"Accordion"},o.map((function(e,t){return d.createElement(h.Z,{key:t,expanded:n==="panel"+t,onChange:(a="panel"+t,function(e,t){i(!!t&&a)})},d.createElement(u.Z,{expandIcon:d.createElement(y.Z,null),"aria-controls":"panel"+t+"bh-content",id:"panel"+t+"bh-header"},d.createElement("div",null,d.createElement(f.Z,{variant:"h5",component:"b"},e.addr," "),d.createElement(f.Z,{variant:"h5",component:"span"},"(",e.raion,")")),d.createElement(f.Z,{variant:"h5",component:"span",className:"ur_info"},"Юридическая информация")),d.createElement(g.Z,{className:"AccordionDesc",style:{flexDirection:"column",padding:0}},d.createElement("div",null,d.createElement(f.Z,{variant:"h5",component:"b"},"Название организации: "),d.createElement(f.Z,{variant:"h5",component:"span"},e.organization)),d.createElement("div",null,d.createElement(f.Z,{variant:"h5",component:"b"},"ИНН / КПП: "),d.createElement(f.Z,{variant:"h5",component:"span"},e.inn," / ",e.kpp)),d.createElement("div",null,d.createElement(f.Z,{variant:"h5",component:"b"},"ОГРН: "),d.createElement(f.Z,{variant:"h5",component:"span"},e.ogrn)),d.createElement("div",null,d.createElement(f.Z,{variant:"h5",component:"b"},"Фактический адрес: "),d.createElement(f.Z,{variant:"h5",component:"span"},e.full_addr)),d.createElement("div",null,d.createElement(f.Z,{variant:"h5",component:"b"},"Телефон: "),d.createElement(f.Z,{variant:"h5",component:"span"},e.phone))));var a})))}var I=function(e){(0,r.Z)(h,e);var t,a,m=(t=h,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function h(e){var t;return(0,n.Z)(this,h),t=m.call(this,e),(0,c.Z)((0,o.Z)(t),"is_load_script",!1),(0,c.Z)((0,o.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),_.Z.setPage("contact"),h.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),fetch(E().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Z.stringify({type:"get_addr_zone_web",city_id:t.state.city_name})}).then((function(e){return e.json()})).then((function(e){var a=[];e.map((function(e){e.zone_origin.length>0&&a.push(JSON.parse(e.zone_origin))}));var n=[],i=!1;e.map((function(e){i=!1,n.map((function(t){parseInt(t.id)==parseInt(e.id)&&(i=!0)})),i||n.push(e)})),t.setState({points:e,unic_point:n,is_load:!0}),setTimeout((function(){t.loadMap(e,a)}),500)})).catch((function(e){}))})),t.state={points:[],unic_point:[],page:t.props.data?t.props.data.page:null,title:"",description:"",city_name:t.props.city,is_load:!1,is_load_script:!1},_.Z.setCity(t.props.city),t}return(0,i.Z)(h,[{key:"dynamicallyLoadScript",value:function(){if(!1===this.state.is_load_script){var e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?apikey=644a89c9-9588-4247-9c71-43e06064436e&lang=ru_RU",document.head.appendChild(e),this.setState({is_load_script:!0})}}},{key:"loadMap",value:function(e,t){var a;ymaps.ready((function(){a=new ymaps.Map("ForMap",{center:[e[0].xy_center_map.latitude,e[0].xy_center_map.longitude],zoom:10.8});var n=ymaps.templateLayoutFactory.createClass("<div class='my-hint'><b>{{ properties.address }}</b><br />Зона {{ properties.zone }}<br />График работы: c 10:00 до 21:30<br />Стоимость доставки: {{ properties.sum_div }} руб.</div>");t.map((function(t,i){a.geoObjects.add(new ymaps.Polygon([t],{address:e[i].addr,sum_div:e[i].sum_div,zone:e[i].test},{hintLayout:n,fillColor:"rgba(187, 0, 37, 0.25)",strokeColor:"rgb(187, 0, 37)",strokeWidth:5}))})),e.map((function(e){a.geoObjects.add(new ymaps.Placemark([e.xy_point.latitude,e.xy_point.longitude],{},{iconLayout:"default#image",iconImageHref:"/assets/img_other/Favikon.png",iconImageSize:[30,30],iconImageOffset:[-12,-24],iconContentOffset:[15,15]}))}))}))}},{key:"render",value:function(){return d.createElement(p.ZP,{container:!0,className:"Contact mainContainer MuiGrid-spacing-xs-3"},d.createElement(b.q,null,d.createElement("title",null,this.state.title),d.createElement("meta",{name:"description",content:this.state.description})),d.createElement(p.ZP,{item:!0,lg:4,md:4,xl:4,sm:12,xs:12,className:"mainContainer"},d.createElement(f.Z,{variant:"h5",component:"h1"},"Контакты"),d.createElement(f.Z,{variant:"h5",component:"h2",style:{marginTop:20}},"Режим работы"),d.createElement(f.Z,{variant:"h5",component:"span",className:"p20"},"Работаем ежедневно с 10:00 до 21:30"),d.createElement(f.Z,{variant:"h5",component:"h2",style:{marginTop:20}},"Телефон контакт-центра:"),this.state.points[0]?d.createElement(f.Z,{variant:"h5",component:"a",className:"p20",href:"tel:"+this.state.points[0].phone_new},this.state.points[0].phone):null,d.createElement(f.Z,{variant:"h5",component:"h2",style:{marginTop:20}},"Адреса кафе:"),d.createElement(C,{points:this.state.unic_point})),d.createElement(p.ZP,{item:!0,lg:8,md:8,xl:8,sm:12,xs:12,id:"ForMap"},d.createElement("div",{style:{width:"100%",height:"100%",marginRight:12,backgroundColor:"#e5e5e5"}})))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"contacts"};return x()({method:"POST",url:E().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Z.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),h}(d.Component)},7227:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Home:()=>se,HomeCat:()=>re});var n=a(5861),i=a(5671),o=a(3144),r=a(7326),s=a(136),l=a(2963),c=a(1120),m=a(4942),d=a(7462),p=a(5987),h=a(4687),u=a.n(h),g=a(7294),f=a(3727),y=a(5725),_=a(5295),v=a(9161),E=a(2643),b=a(2642),w=a(2658),x=a(4659),Z=a(6261),C=a(9669),I=a.n(C),k=a(4593),S=a(4567),P=a(9062),N=a(3838),T=a(7645),A=a(7750),D=a(7009),M=a(5697),j=a.n(M),O=a(6867),B=a(6282),L=a(8811),R=a.n(L),z=a(8949),W=a(4776),F=a(1508),H=a(6406),G=a(3977),U=a(2133),q=a(7660),V=["in","children","onEnter","onExited"];function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,c.Z)(e);if(t){var i=(0,c.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,l.Z)(this,a)}}var J=Z.W_,Y=(Z.zW,Z.OK),X=a(7563),Q=null,$=g.forwardRef((function(e,t){var a=e.in,n=e.children,i=e.onEnter,o=e.onExited,r=(0,p.Z)(e,V),s=useSpring({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&i&&i()},onRest:function(){!a&&o&&o()}});return g.createElement(animated.div,(0,d.Z)({ref:t,style:s},r),n)}));$.propTypes={children:j().element,in:j().bool.isRequired,onEnter:j().func,onExited:j().func};var ee=function(e){(0,s.Z)(a,e);var t=K(a);function a(e){var n;return(0,i.Z)(this,a),n=t.call(this,e),(0,m.Z)((0,r.Z)(n),"swiper",null),n.state={data:n.props.data,type:n.props.type,is_show:!0},n}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var e=this.state.data.length;try{this.swiper=new Swiper(".swiper-container",{grabCursor:1!=e,loop:1!=e,centeredSlidesBounds:!1,setWrapperSize:1!=e,autoHeight:!0,centeredSlides:!0,slidesPerView:1,autoplay:{delay:5e3},pagination:{el:".swiper-pagination",type:"bullets"},navigation:1==e?{}:"pc"==this.state.type?{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}:{}}),this.setState({is_show:!0})}catch(e){this.setState({is_show:!1})}}},{key:"render",value:function(){return this.state.is_show?g.createElement("div",{className:"swiper-container swiper_"+this.state.type+" _h1_",style:{overflow:"hidden",position:"relative"}},g.createElement("div",{className:"swiper-wrapper _h2_ _count_"+this.state.data.length},this.state.data.map((function(e,t){return g.createElement("div",{className:"swiper-slide _h3_ "+t,key:t},e)}))),1==this.state.data.length?null:"pc"==this.state.type?g.createElement(g.Fragment,null,g.createElement("div",{className:"swiper-pagination"}),g.createElement("div",{className:"swiper-button-prev"}),g.createElement("div",{className:"swiper-button-next"})):null):g.createElement("div",{style:{marginTop:100}})}}]),a}(g.Component),te=function(e){return e.preventDefault()};function ae(e){return e=(e=e.split("/")).filter((function(e){return""!=e})),e[0]}var ne=function(e){(0,s.Z)(a,e);var t=K(a);function a(e){var n;return(0,i.Z)(this,a),n=t.call(this,e),(0,m.Z)((0,r.Z)(n),"_isMounted",!1),n.state={item:n.props.data,count:0,is_old_price:!1,old_price:0},n}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=B.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));if(t){this.setState({count:t.count});var a=B.Z.getCity();"samara"!=a||70!=parseInt(this.state.item.id)&&71!=parseInt(this.state.item.id)&&7!=parseInt(this.state.item.id)||this.setState({}),"samara"==a&&4==parseInt(this.state.item.id)&&this.setState({}),"togliatti"!=a||70!=parseInt(this.state.item.id)&&71!=parseInt(this.state.item.id)&&7!=parseInt(this.state.item.id)||this.setState({}),"togliatti"==a&&4==parseInt(this.state.item.id)&&this.setState({})}(0,z.EH)((function(){if(e._isMounted){var t=B.Z.getCity();"samara"!=t||70!=parseInt(e.state.item.id)&&71!=parseInt(e.state.item.id)&&7!=parseInt(e.state.item.id)||e.setState({}),"samara"==t&&4==parseInt(e.state.item.id)&&e.setState({}),"togliatti"!=t||70!=parseInt(e.state.item.id)&&71!=parseInt(e.state.item.id)&&7!=parseInt(e.state.item.id)||e.setState({}),"togliatti"==t&&4==parseInt(e.state.item.id)&&e.setState({});var a=B.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));a?e.setState({count:a.count}):e.setState({count:0})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(){this._isMounted&&B.Z.AddItem(this.state.item.id)}},{key:"minus",value:function(){this._isMounted&&B.Z.MinusItem(this.state.item.id)}},{key:"isEqual",value:function(e,t){var a=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(a.length!==n.length)return!1;for(var i=0;i<a.length;i+=1){var o=a[i];if(e[o]!==t[o])return!1}return!0}},{key:"shouldComponentUpdate",value:function(e,t){return!this.isEqual(t,this.state)||this.props.type!==e.type}},{key:"render",value:function(){var e,t=this,a=this.state.item.img_app.length>0?this.state.item.img_app:this.state.item.img_new,n=this.state.item.img_app.length>0?"new":"old",i=this.state.item.marc_desc.length>0?this.state.item.marc_desc:this.state.item.tmp_desc,o=0;return e=1==parseInt(this.props.datatype)||2==parseInt(this.props.datatype)||3==parseInt(this.props.datatype)||4==parseInt(this.props.datatype)?14==parseInt(this.state.item.cat_id)?"Пицца "+this.state.item.name:9==parseInt(this.state.item.cat_id)||10==parseInt(this.state.item.cat_id)||12==parseInt(this.state.item.cat_id)||13==parseInt(this.state.item.cat_id)?"Ролл "+this.state.item.name:this.state.item.name:this.state.item.name,"pc"==this.props.type?(o=(("undefined"!=typeof window?window.innerWidth:1280)-140)/6,g.createElement(_.Z,{elevation:0,className:"CardItem",style:{width:"100%"}},g.createElement(E.Z,{style:{cursor:"pointer",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"},onClick:function(){return t.props.openItem(t.state.item.id)}},"old"==n?g.createElement("picture",null,g.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://cdnimg.jacofood.ru/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:e,title:e,style:{minHeight:150},loading:"lazy"})):g.createElement("picture",null,g.createElement("source",{type:"image/webp",srcset:"\n                                        https://cdnimg.jacofood.ru/".concat(a,"_276x276.webp 138w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_292x292.webp 146w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_366x366.webp 183w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_466x466.webp 233w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_585x585.webp 292w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_732x732.webp 366w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_1168x1168.webp 584w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_1420x1420.webp 760w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_2000x2000.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("source",{type:"image/jpeg",srcset:"\n                                        https://cdnimg.jacofood.ru/".concat(a,"_276x276.jpg 138w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_292x292.jpg 146w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_366x366.jpg 183w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_466x466.jpg 233w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_585x585.jpg 292w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_732x732.jpg 366w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_1168x1168.jpg 584w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_1420x1420.jpg 760w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("img",{alt:e,title:e,src:"https://cdnimg.jacofood.ru/".concat(a,"_292x292.jpg"),style:{minHeight:1.125*o,minWidth:1.125*o},loading:"lazy"})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:g.createElement(ie,{size:"small",type:"hit",view:"pc"}):g.createElement(ie,{size:"small",type:"new",view:"pc"}),g.createElement(w.Z,{className:"CardNameItem",variant:"h5",component:"h3",style:{flex:1}},e),g.createElement(E.Z,{style:{padding:0}},g.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:10,marginBottom:10}},g.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?230:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)||15==parseInt(this.state.item.cat_id)?75:135,height:34,border:"1px solid #dadada",borderRadius:15,display:"flex",flexDirection:"row"}},4==parseInt(this.state.item.cat_id)?g.createElement("div",{style:{height:34,borderRight:"1px solid #dadada",flex:3,display:"flex",alignItems:"center",justifyContent:"center"}},g.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},this.state.item.count_part_new)):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)||15==parseInt(this.state.item.cat_id)?null:g.createElement("div",{style:{height:34,borderRight:"1px solid #dadada",flex:4==parseInt(this.state.item.cat_id)?2:3,display:"flex",alignItems:"center",justifyContent:"center"}},g.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza:this.state.item.count_part," ",14==parseInt(this.state.item.cat_id)?"см":6==parseInt(this.state.item.cat_id)?"л":"шт."," ")),g.createElement("div",{style:{height:34,flex:3,display:"flex",alignItems:"center",justifyContent:"center"}},g.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")))),g.createElement("div",{style:{height:120,width:"100%",marginBottom:10,textAlign:"center",overflow:"hidden"}},g.createElement(w.Z,{component:"span",className:"hidddenText5",style:{fontFamily:"Roboto",fontSize:"0.925rem",color:"#525252"}},i)))),g.createElement(v.Z,{style:{padding:0,width:"100%"}},0==this.state.count?g.createElement(H.GP,{price:this.state.item.price,add:this.add.bind(this)}):g.createElement(H.MG,{count:this.state.count,price:this.state.item.price,item_id:this.state.item.id,minus:this.minus.bind(this),add:this.add.bind(this)})))):"mobile"==this.props.type?(o=(("undefined"!=typeof window?window.innerWidth:320)-140)/6,g.createElement(y.ZP,{item:!0,container:!0,xs:12,className:"CardItem_mobile",style:{display:"flex",flexDirection:"row",flexWrap:"nowrap"}},g.createElement(y.ZP,{style:{position:"relative",marginRight:"3%"},item:!0,onClick:function(){return t.props.openItem(t.state.item.id)}},"old"==n?g.createElement("picture",null,g.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://cdnimg.jacofood.ru/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{width:3*o+40,height:"auto"},loading:"lazy"})):g.createElement("picture",null,g.createElement("source",{type:"image/webp",srcset:"\n                                        https://cdnimg.jacofood.ru/".concat(a,"_138x138.webp 138w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_146x146.webp 146w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_183x183.webp 183w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_233x233.webp 233w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_292x292.webp 292w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_366x366.webp 366w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_584x584.webp 584w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_760x760.webp 760w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("source",{type:"image/jpeg",srcset:"\n                                        https://cdnimg.jacofood.ru/".concat(a,"_138x138.jpg 138w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_146x146.jpg 146w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_183x183.jpg 183w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_233x233.jpg 233w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_292x292.jpg 292w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_366x366.jpg 366w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_584x584.jpg 584w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_760x760.jpg 760w,\n                                        https://cdnimg.jacofood.ru/").concat(a,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("img",{alt:this.state.item.name,title:this.state.item.name,src:"https://cdnimg.jacofood.ru/".concat(a,"_366x366.jpg"),style:{width:3*o+40,height:3*o+40},loading:"lazy"})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:g.createElement(ie,{size:"small",type:"hit",view:"mobile"}):g.createElement(ie,{size:"small",type:"new",view:"mobile"})),g.createElement(y.ZP,{item:!0,className:"SecondBox_",style:{width:"100%",display:"flex",flexDirection:"column",position:"relative",justifyContent:"flex-end"}},g.createElement(w.Z,{className:"CardNameItem_",variant:"h5",component:"h3",style:{fontFamily:"Roboto",fontSize:"1.0625rem",fontWeight:"500",color:"#525252",marginBottom:10},onClick:function(){return t.props.openItem(t.state.item.id)}},this.state.item.name),4==parseInt(this.state.item.cat_id)?g.createElement("div",{style:{width:148,height:28,display:"flex",flexDirection:"row",alignItems:"center",border:"1px solid #dadada",borderRadius:10,marginBottom:10}},g.createElement("div",{style:{flex:3,textAlign:"center",borderRight:"1px solid #dadada",height:28,display:"flex",alignItems:"center",justifyContent:"center"}},g.createElement(w.Z,{style:{fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",lineHeight:0},component:"span"},this.state.item.count_part_new)),g.createElement("div",{style:{flex:2,textAlign:"center",height:28,display:"flex",alignItems:"center",justifyContent:"center"}},g.createElement(w.Z,{style:{fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",lineHeight:0},component:"span"},this.state.item.count_part," шт."))):null,g.createElement(w.Z,{className:"CardInfoItem_ hidddenText3",style:{marginBottom:10,fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",maxHeight:60,overflow:"hidden"},component:"p",onClick:function(){return t.props.openItem(t.state.item.id)}},i),g.createElement("div",{style:{marginBottom:10}},0==this.state.count?g.createElement(x.Z,{disableElevation:!0,disableRipple:!0,variant:"outlined",className:"MobileActionsCartButtonStart"},g.createElement(b.Z,{variant:"outlined",onClick:this.add.bind(this)},"В корзину за ",new Intl.NumberFormat("ru-RU").format(parseInt(this.state.item.price)),g.createElement(H.Ir,{style:{width:11,height:11,fill:"#525252",marginLeft:3,paddingBottom:1}}))):g.createElement(x.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"MobileActionsCartButton"},g.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN"},g.createElement("span",{className:"minus",onClick:this.minus.bind(this)},"–"),g.createElement("span",null,this.state.count),g.createElement("span",{className:"plus",onClick:this.add.bind(this)},"+"))))))):void 0}}]),a}(g.Component),ie=(g.Component,function(e){(0,s.Z)(a,e);var t=K(a);function a(e){var n;return(0,i.Z)(this,a),n=t.call(this,e),(0,m.Z)((0,r.Z)(n),"arrColor",{new:{color:"#EE7900",text:"новинка"},hit:{color:"#AF00DB",text:"хит"},sale:{color:"#DB0021",text:"скидка"}}),n.state={size:n.props.size,view:n.props.view,color:n.arrColor[n.props.type].color,text:n.arrColor[n.props.type].text},n}return(0,o.Z)(a,[{key:"render",value:function(){return g.createElement("div",{style:{position:"absolute",top:"mobile"==this.state.view?0:20,left:"mobile"==this.state.view?-10:20}},g.createElement("div",{style:{width:"small"==this.state.size?84:114,height:"small"==this.state.size?34:44,backgroundColor:"rgba(255, 255, 255, 0.6)",borderRadius:15}}),g.createElement("div",{style:{width:"small"==this.state.size?80:110,height:"small"==this.state.size?30:40,backgroundColor:this.state.color,borderRadius:15,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:2,left:2}},g.createElement(w.Z,{component:"span",style:{fontFamily:"Roboto",fontSize:"0.75rem",fontWeight:400,color:"#fff",textTransform:"uppercase",lineHeight:1}},this.state.text)))}}]),a}(g.Component)),oe=g.forwardRef((function(e,t){return g.createElement(W.Z,(0,d.Z)({direction:"up",ref:t},e))})),re=function(e){(0,s.Z)(a,e);var t=K(a);function a(e){var n;return(0,i.Z)(this,a),(n=t.call(this,e)).state={},n}return(0,o.Z)(a,[{key:"render",value:function(){return g.createElement(se,{data:this.props.data,city:this.props.city,this_link:this.props.this_link})}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:ae(e),page:"",link:e};return I()({method:"POST",url:R().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:X.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),a}(g.Component),se=function(e){(0,s.Z)(l,e);var t,a=K(l);function l(e){var t;if((0,i.Z)(this,l),t=a.call(this,e),(0,m.Z)((0,r.Z)(t),"_isMounted",!1),(0,m.Z)((0,r.Z)(t),"startMove",0),(0,m.Z)((0,r.Z)(t),"activeID",0),(0,m.Z)((0,r.Z)(t),"firebaseAnalitic",null),(0,m.Z)((0,r.Z)(t),"getData",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 1==(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&t.setState({is_load:!0}),a.type=e,fetch(R().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:X.stringify(a)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){setTimeout((function(){t.setState({is_load:!1})}),300),console.log(e)}))})),(0,m.Z)((0,r.Z)(t),"componentDidMount",(function(){t._isMounted=!0;var e=Date.now(),a=[];Q=(0,G.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),t.firebaseAnalitic=(0,U.IH)(Q),B.Z.getAllItemsCatNew();var n=B.Z.getAllItemsCat();t._isMounted,setTimeout((function(){window.addEventListener("scroll",(function(){if(t._isMounted&&e+700-Date.now()<0){if(n.map((function(e,t){var n=document.getElementById("cat"+e.id);if(n){var i=n.getBoundingClientRect().top+document.body.scrollTop-200;i<0&&a.push({name:e.name,Y:i,main_id:e.main_id,id:e.id})}})),a.length>0){var i=a[a.length-1];a=[];var o=n.filter((function(e){return parseInt(e.main_id)==parseInt(i.main_id)}));i&&t.activeID!=parseInt(i.main_id)&&0!=parseInt(i.main_id)&&(document.querySelector("#link_"+i.main_id)&&(document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),document.querySelector("#link_"+i.main_id).classList.add("activeCat")),o.length>1?t.setState({doubleCatList:o}):t.setState({doubleCatList:[]}),t.activeID=parseInt(i.main_id))}e=Date.now()}})),t.setState({is_load:!0})}),300),t.state.city_name,"undefined"!=typeof window&&(setTimeout((function(){if(localStorage.getItem("goTo")){var e=localStorage.getItem("goTo");localStorage.removeItem("goTo");var t=120;document.querySelector(".scrollCat.mobile")&&(t+=120),setTimeout((function(){Y.scrollTo("myScrollToElement",{duration:800,delay:800,smooth:"easeInOutQuart",offset:document.getElementById("cat"+e).getBoundingClientRect().y-t})}),150)}}),1e3),setTimeout((function(){var e=window.location.search;if(e.length>0){var a=e.split("?showItem=");if(a[1]){B.Z.getAllItems();var n=a[1];n=n.split("&")[0],window.innerWidth<=500?t.openItem(n):t.openItemPC(n)}(a=e.split("?code="))[1]&&(window.history.replaceState(null,null,window.location.pathname),t.checkAuthYandex(a[1]))}var i=window.location.pathname,o=(i=i.split("/")).find((function(e){return"menu"==e}));if(o&&o.length>0){var r=i.find((function(e){return"item"==e}));if(!r){var s=i.findIndex((function(e){return"menu"==e}));i[s+1]}}}),750)),l.fetchData("/"+t.state.city_name).then((function(e){!0===t._isMounted&&t.setState({page:e.page,title:e.title,description:e.description})})),B.Z.setPage("home"),0==B.Z.getAllItemsCat().length&&!0===t._isMounted&&t.setState({allItems:B.Z.getAllItemsCat()}),window.scrollTo(0,0),(0,z.EH)((function(){!0===t._isMounted&&(t.setState({allItems:B.Z.getAllItemsCat(),mainLink:B.Z.getMainLink()}),t.loadBanners(B.Z.getBanners()))}))})),t.state={allItems:[],is_load:!1,testData:[1,2,3,4,5,6,7,8],openItem:null,openItemSet:null,openModal:!1,openModalPC:!1,openModalPCSet:!1,openModalPCSetItems:[],openModalPCInfo:!1,openModalPCInfoItems:[],banners_pc:[],banners_mobile:[],city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:t.props.data?t.props.data.title:null,description:t.props.data?t.props.data.description:null,mainLink:t.props.this_link,doubleCatList:[],device:t.props.device,mainCatActive:0,doubleCatActive:0,is_open_text_err_auth:!1,open_text_err_auth:""},t.props.data)try{t.loadBanners(t.props.data.all.other.cats.baners)}catch(e){}return B.Z.setCity(t.props.city),t}return(0,o.Z)(l,[{key:"loadBanners",value:function(e){var t=this,a=[],n=[];e.map((function(e,i){e.aktia_id&&parseInt(e.aktia_id)>0?(a.push(g.createElement(f.OL,{to:"/"+B.Z.getCity()+"/akcii?act_"+e.aktia_id,exact:!0,style:{width:"inherit",height:"auto"}},g.createElement("picture",{style:{width:"inherit",height:"auto"}},g.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.webp?"+e.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto",minHeight:200},onDragStart:te})))),n.push(g.createElement(f.OL,{to:"/"+B.Z.getCity()+"/akcii?act_"+e.aktia_id,exact:!0,style:{width:"inherit",height:"auto"}},g.createElement("picture",{style:{width:"inherit",height:"auto"}},g.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.webp?"+e.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto"},onDragStart:te}))))):e.item&&parseInt(e.item)>0?(a.push(g.createElement("picture",{style:{width:"inherit",height:"auto"}},g.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.webp?"+e.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto",minHeight:200},onDragStart:te,onClick:t.openItemPC.bind(t,e.item)}))),n.push(g.createElement("picture",{style:{width:"inherit",height:"auto"}},g.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.webp?"+e.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto"},onDragStart:te,onClick:t.openItem.bind(t,e.item)})))):(a.push(g.createElement("picture",{style:{width:"inherit",height:"auto"}},g.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.webp?"+e.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto",minHeight:200},onDragStart:te}))),n.push(g.createElement("picture",{style:{width:"inherit",height:"auto"}},g.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.webp?"+e.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto"},onDragStart:te}))))})),this.setState({banners_pc:a,banners_mobile:n})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUmount",value:function(){window.removeEventListener("scroll")}},{key:"checkAuthYandex",value:(t=(0,n.Z)(u().mark((function e(t){var a,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t},e.next=3,this.getData("checkAuthYandex",a);case 3:!0===(n=e.sent).st?(B.Z.setToken(n.token,n.name),B.Z.setUserName(n.name)):this.setState({is_open_text_err_auth:!0,open_text_err_auth:n.text});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"close_text_msg",value:function(){}},{key:"openItem",value:function(e){var t=B.Z.getAllItems().find((function(t){return t.id==e})),a={item_id:t.id,item_name:t.name},n=window.location.pathname+"?showItem="+t.id;(0,U.Kz)(this.firebaseAnalitic,"open_item",{content_type:"item",content_id:t.id,items:[{name:t.name}]}),window.history.pushState(a,"",n),this.setState({openItem:t,openModal:!0}),setTimeout((function(){}),300)}},{key:"openItemPC",value:function(e){var t=B.Z.getAllItems().find((function(t){return t.id==e})),a={item_id:t.id,item_name:t.name},n=window.location.pathname+"?showItem="+t.id;(0,U.Kz)(this.firebaseAnalitic,"open_item",{content_type:"item",content_id:t.id,items:[{name:t.name}]}),window.history.pushState(a,"",n),this.setState({openItem:t,openModalPC:!0})}},{key:"openModal",value:function(){this.setState({openModal:!0})}},{key:"handleClose",value:function(){var e=window.location.pathname;window.history.pushState({},"",e),this.setState({openModal:!1,openItem:null})}},{key:"handleClosePC",value:function(){var e=window.location.pathname;window.history.pushState({},"",e),this.setState({openModalPC:!1,openItem:null,openModalPCSet:!1,openModalPCSetItems:[]})}},{key:"handleClosePCSet",value:function(){this.setState({openModalPCSet:!1,openModalPCSetItems:[]})}},{key:"handleClosePCInfo",value:function(){this.setState({openModalPCInfo:!1,openModalPCInfoItems:[]})}},{key:"touchStart",value:function(e){this.startMove=e.changedTouches[0].pageY}},{key:"touchEnd",value:function(e){e.changedTouches[0].pageY-this.startMove>125&&this.handleClose()}},{key:"openSetPc",value:function(e){this.setState({openModalPCSet:!0,openModalPCSetItems:e})}},{key:"openInfo",value:function(e){this.setState({openModalPCInfo:!0,openModalPCInfoItems:e})}},{key:"render",value:function(){var e=this,t=this.state.mainLink;t=t.split("/");var a="",n=t.find((function(e){return"menu"==e}));if(n&&n.length>0){var i=t.find((function(e){return"item"==e}));if(!i){var o=t.findIndex((function(e){return"menu"==e}));a=t[o+1]}}if("undefined"!=typeof window){var r=window.location.href;if(this.state.mainLink!=r&&(t=(t=r).split("/"),a="",n=t.find((function(e){return"menu"==e})),n&&n.length>0)){var s=t.find((function(e){return"item"==e}));if(!s){var l=t.findIndex((function(e){return"menu"==e}));a=t[l+1]}}}return!1===this.state.is_load?g.createElement(J,{name:"myScrollToElement",className:"Category"},g.createElement(w.Z,{variant:"h5",component:"h1",style:{paddingBottom:20}},this.state.page?this.state.page.page_h:""),this.state.device?"mobile"===this.state.device?B.Z.getAllItemsCat().map((function(t,n){return t.items.length>0&&(""==a||a==t.main_link||a==t.link)?g.createElement("div",{key:n,name:"cat"+t.main_id,id:"cat"+t.id},g.createElement(y.ZP,{container:!0,spacing:2,style:{margin:0,padding:"0px 36px",flexWrap:"wrap",width:"100%",paddingBottom:40},className:"MainItems mainContainer"},g.createElement(w.Z,{variant:"h5",component:"h2"},t.name)),g.createElement(y.ZP,{container:!0,spacing:2,sx:{padding:{xs:"0px 5%",sm:"0px 20px"}},style:{margin:0,flexWrap:"wrap",width:"100%"},className:"MainItems mainContainer"},t.items.map((function(a,i){return g.createElement(g.Fragment,{key:i},g.createElement(y.ZP,{item:!0,className:"_mobile_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:{xs:"flex",sm:"none"}},style:{padding:"10px 0px",borderBottom:t.items.length-1==i&&B.Z.getAllItemsCat().length-1==n?"none":"1px solid rgba(27, 27, 31, 0.1)"}},g.createElement(ne,{datatype:1,data:a,type:"mobile",openItem:e.openItem.bind(e)})))})))):null})):B.Z.getAllItemsCat().map((function(t,n){return t.items.length>0&&(""==a||a==t.main_link||a==t.link)?g.createElement("div",{key:n,name:"cat"+t.main_id,id:"cat"+t.id},g.createElement(y.ZP,{container:!0,spacing:2,style:{margin:0,padding:"0px 36px",flexWrap:"wrap",width:"100%",paddingBottom:40},className:"MainItems mainContainer"},g.createElement(w.Z,{variant:"h5",component:"h2"},t.name)),g.createElement(y.ZP,{container:!0,spacing:2,sx:{padding:{xs:"0px 5%",sm:"0px 20px"}},style:{margin:0,flexWrap:"wrap",width:"100%"},className:"MainItems mainContainer"},t.items.map((function(t,a){return g.createElement(g.Fragment,{key:a},g.createElement(y.ZP,{item:!0,className:"_PC_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:{xs:"none",sm:"flex"}},style:{padding:"30px 16px",width:"100%"}},g.createElement(ne,{datatype:2,data:t,type:"pc",openItem:e.openItemPC.bind(e)})))})))):null})):B.Z.getAllItemsCat().map((function(t,n){return t.items.length>0&&(""==a||a==t.main_link||a==t.link)?g.createElement("div",{key:n,name:"cat"+t.main_id,id:"cat"+t.id},g.createElement(y.ZP,{container:!0,spacing:2,style:{margin:0,padding:"0px 36px",flexWrap:"wrap",width:"100%",paddingBottom:40},className:"MainItems mainContainer"},g.createElement(w.Z,{variant:"h5",component:"h2"},t.name)),g.createElement(y.ZP,{container:!0,spacing:2,sx:{padding:{xs:"0px 5%",sm:"0px 20px"}},style:{margin:0,flexWrap:"wrap",width:"100%"},className:"MainItems mainContainer"},t.items.map((function(a,i){return g.createElement(g.Fragment,{key:i},g.createElement(y.ZP,{item:!0,className:"_PC_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:{xs:"none",sm:"flex"}},style:{padding:"30px 16px",width:"100%"}},g.createElement(ne,{datatype:3,data:a,type:"pc",openItem:e.openItemPC.bind(e)})),g.createElement(y.ZP,{item:!0,className:"_mobile_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:{xs:"flex",sm:"none"}},style:{padding:"10px 0px",borderBottom:t.items.length-1==i&&B.Z.getAllItemsCat().length-1==n?"none":"1px solid rgba(27, 27, 31, 0.1)"}},g.createElement(ne,{datatype:4,data:a,type:"mobile",openItem:e.openItem.bind(e)})))})))):null})),g.createElement(F.Z,{sx:{display:{xs:"block",md:"none"}}},g.createElement(S.Z,{style:{zIndex:4,color:"#fff"},open:!0},g.createElement(P.Z,{color:"inherit"})))):g.createElement(J,{name:"myScrollToElement",className:"Category"},g.createElement(k.q,null,g.createElement("title",null,this.state.title),g.createElement("meta",{name:"description",content:this.state.description})),g.createElement(F.Z,{sx:{display:{xs:"none",md:"block"}}},0==this.state.banners_pc.length?null:g.createElement(ee,{type:"pc",data:this.state.banners_pc})),g.createElement(F.Z,{sx:{display:{xs:"block",md:"none"}}},0==this.state.banners_mobile.length?null:g.createElement(ee,{type:"mobile",data:this.state.banners_mobile})),g.createElement(F.Z,{sx:{display:{xs:"flex",md:"none"}},className:"HomeCatList"},g.createElement("div",{className:"subHeaderBlock",name:"subHeaderBlock",id:"subHeaderBlock"},B.Z.getAllItemsCatNew().map((function(t,a){return g.createElement(Z.rU,{key:a,to:"cat"+t.id,id:"catSubCat"+t.id,spy:!0,isDynamic:!0,onSetActive:function(a){if(parseInt(t.id)!=parseInt(e.state.mainCatActive)&&(e.setState({mainCatActive:t.id}),document.querySelector("#catSubCat"+t.id))){var n=document.querySelector("#subHeaderBlock"),i=document.getElementById("catSubCat"+t.id).getBoundingClientRect();n.scroll({left:i.x+i.width-150,behavior:"smooth"})}},smooth:!1,offset:-120},g.createElement("span",{className:parseInt(e.state.mainCatActive)==parseInt(t.id)?"headerCat activeCat":"headerCat",name:t.main_link,id:"link2_"+t.id},t.name))})))),0==this.state.doubleCatList.length?null:g.createElement(F.Z,{sx:{display:{xs:"flex",md:"none"}},className:"HomeSubCatList"},g.createElement("div",{className:"subHeaderBlock",id:"sub1HeaderBlock"},this.state.doubleCatList.map((function(t,a){return g.createElement(Z.rU,{key:a,to:"cat"+t.id,id:"cat1SubCat"+t.id,spy:!0,isDynamic:!0,onSetActive:function(a){if((parseInt(t.main_id)!=parseInt(e.state.mainCatActive)||parseInt(t.id)!=parseInt(e.state.doubleCatActive))&&(e.setState({mainCatActive:t.main_id,doubleCatActive:t.id}),document.querySelector("#cat1SubCat"+t.id))){var n=document.querySelector("#sub1HeaderBlock"),i=document.getElementById("cat1SubCat"+t.id).getBoundingClientRect();n.scroll({left:i.x+i.width-150,behavior:"smooth"})}},smooth:!1,offset:-170},g.createElement("span",{className:parseInt(e.state.doubleCatActive)==parseInt(t.id)?"headerCat activeCat":"headerCat",name:t.main_link,id:"link3_"+t.id},t.short_name))})))),this.state.device?"mobile"===this.state.device?B.Z.getAllItemsCat().map((function(t,n){return t.items.length>0&&(""==a||a==t.main_link||a==t.link)?g.createElement("div",{key:n,name:"cat"+t.main_id,id:"cat"+t.id},g.createElement(y.ZP,{container:!0,spacing:2,sx:{padding:{xs:"0px 5%",sm:"0px 20px"}},style:{margin:0,flexWrap:"wrap",width:"100%"},className:"MainItems mainContainer"},t.items.map((function(a,i){return g.createElement(g.Fragment,{key:i},g.createElement(y.ZP,{item:!0,className:"_mobile_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:{xs:"flex",sm:"none"}},style:{padding:"10px 0px",borderBottom:t.items.length-1==i&&B.Z.getAllItemsCat().length-1==n?"none":"1px solid rgba(27, 27, 31, 0.1)"}},g.createElement(ne,{datatype:5,data:a,type:"mobile",openItem:e.openItem.bind(e)})))})))):null})):B.Z.getAllItemsCat().map((function(t,n){return t.items.length>0&&(""==a||a==t.main_link||a==t.link)?g.createElement("div",{key:n,name:"cat"+t.main_id,id:"cat"+t.id},g.createElement(y.ZP,{container:!0,spacing:2,sx:{padding:{xs:"0px 5%",sm:"0px 20px"}},style:{margin:0,flexWrap:"wrap",width:"100%"},className:"MainItems mainContainer"},t.items.map((function(t,a){return g.createElement(g.Fragment,{key:a},g.createElement(y.ZP,{item:!0,className:"_PC_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:{xs:"none",sm:"flex"}},style:{padding:"30px 16px",width:"100%"}},g.createElement(ne,{datatype:6,data:t,type:"pc",openItem:e.openItemPC.bind(e)})))})))):null})):B.Z.getAllItemsCat().map((function(t,n){return t.items.length>0&&(""==a||a==t.main_link||a==t.link)?g.createElement("div",{key:n,name:"cat"+t.main_id,id:"cat"+t.id},g.createElement(y.ZP,{container:!0,spacing:2,sx:{padding:{xs:"0px 5%",sm:"0px 20px"}},style:{margin:0,flexWrap:"wrap",width:"100%"},className:"MainItems mainContainer"},t.items.map((function(a,i){return g.createElement(g.Fragment,{key:i},g.createElement(y.ZP,{item:!0,className:"_PC_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:{xs:"none",sm:"flex"}},style:{padding:"30px 16px",width:"100%"}},g.createElement(ne,{datatype:7,data:a,type:"pc",openItem:e.openItemPC.bind(e)})),g.createElement(y.ZP,{item:!0,className:"_mobile_",xs:12,sm:6,md:4,lg:3,xl:3,sx:{display:{xs:"flex",sm:"none"}},style:{padding:"10px 0px",borderBottom:t.items.length-1==i&&B.Z.getAllItemsCat().length-1==n?"none":"1px solid rgba(27, 27, 31, 0.1)"}},g.createElement(ne,{datatype:8,data:a,type:"mobile",openItem:e.openItem.bind(e)})))})))):null})),this.state.openItem?g.createElement(N.Z,{disableElevation:!0,fullScreen:!0,open:this.state.openModal,className:"ItemDialog",onClose:this.handleClose.bind(this),TransitionComponent:oe},g.createElement(T.Z,{disableTypography:!0,style:{margin:0,padding:0}},g.createElement("div",{style:{position:"absolute",top:-36,left:15,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClose.bind(this)},g.createElement(H.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}}))),g.createElement("div",null,g.createElement(q.Item,{itemId:this.state.openItem.id,item:this.state.openItem,openSetPc:this.openSetPc.bind(this),openInfo:this.openInfo.bind(this),openModalPCInfo:this.state.openModalPCInfo}))):null,this.state.openItem?g.createElement(g.Fragment,null,g.createElement(N.Z,{disableElevation:!0,maxWidth:"md",sx:{display:{xs:"none",md:"block",lg:"none"}},fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePC.bind(this),className:"modalActii Item OpenItemPC testModalMD",open:this.state.openModalPC},g.createElement("div",{className:"IconButtonClose","aria-label":"close",style:{position:"absolute",top:-52,left:16,zIndex:1500,width:52,height:52,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePC.bind(this)},g.createElement(H.bM,{style:{width:"inherit",height:"inherit",fill:"#fff",color:"#fff",overflow:"visible"}})),g.createElement(A.Z,{className:"modalActiiContentNew",style:{overflow:"hidden"}},g.createElement(q.Item,{itemId:this.state.openItem.id,item:this.state.openItem,openSetPc:this.openSetPc.bind(this),openInfo:this.openInfo.bind(this),openModalPCInfo:this.state.openModalPCInfo}))),g.createElement(N.Z,{disableElevation:!0,maxWidth:"lg",sx:{display:{xs:"none",lg:"block"}},fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePC.bind(this),className:"modalActii Item OpenItemPC testModalLG",open:this.state.openModalPC},g.createElement("div",{className:"IconButtonClose","aria-label":"close",style:{position:"absolute",top:-32,left:16,zIndex:1500,width:25,height:25,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePC.bind(this)},g.createElement(H.bM,{style:{width:"inherit",height:"inherit",fill:"#fff",color:"#fff",overflow:"visible"}})),g.createElement(A.Z,{className:"modalActiiContentNew",style:{overflow:"hidden"}},g.createElement(q.Item,{itemId:this.state.openItem.id,item:this.state.openItem,openSetPc:this.openSetPc.bind(this),openInfo:this.openInfo.bind(this),openModalPCInfo:this.state.openModalPCInfo})))):null,this.state.openItem?g.createElement(g.Fragment,null,g.createElement(N.Z,{sx:{display:{xs:"block",md:"none"}},disableElevation:!0,fullScreen:!0,style:{width:"100%",marginTop:this.state.openItem.items.length>1?400:470,borderTopRightRadius:30,borderTopLeftRadius:30},onClose:this.handleClosePCInfo.bind(this),className:"ItemDialog OpenItemMobInfo blurBacground",open:this.state.openModalPCInfo,TransitionComponent:oe},g.createElement(T.Z,{disableTypography:!0,style:{margin:0,padding:0}},g.createElement("div",{style:{position:"absolute",top:-36,left:15,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePCInfo.bind(this)},g.createElement(H.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}}))),g.createElement(A.Z,{className:"modalActiiContentNew",style:{height:this.state.openItem.items.length>1?"calc(100vh - 400px)":"calc(100vh - 470px)",padding:20,display:"flex",flexWrap:"wrap",alignContent:"start"}},g.createElement(w.Z,{variant:"h5",component:"h1",style:{textAlign:"center",fontFamily:"Roboto",fontWeight:700,fontSize:"1.625rem",color:"#fff",width:"100%",marginBottom:20}},"Пищевая ценность на 100 г"),1==this.state.openItem.items.length?null:g.createElement("div",{style:{width:"100%",height:2,backgroundColor:"#fff",marginBottom:20}}),g.createElement("div",{style:this.state.openItem.items.length>1?{overflowY:"scroll",maxHeight:200}:{}},this.state.openItem.items.map((function(t,a){return g.createElement("div",{style:{border:"2px solid #fff",borderRadius:10,marginBottom:1==e.state.openItem.items.length||e.state.openItem.items.length-1==a?0:20},key:a},g.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",borderBottom:"2px solid #fff"}},g.createElement("div",{style:{width:"75%",display:"flex",alignItems:"center",borderRight:"2px solid #fff",padding:10}},g.createElement(w.Z,{style:{fontFamily:"Roboto",fontWeight:400,fontSize:"1.1rem",lineHeight:1.25,color:"#fff"}},t.name)),g.createElement("div",{style:{width:"25%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:10}},g.createElement(w.Z,{style:{fontSize:"2rem",lineHeight:1,fontFamily:"Roboto",fontWeight:500,color:"#fff"}},t.kkal),g.createElement(w.Z,{style:{fontSize:"1rem",lineHeight:.8,fontFamily:"Roboto",fontWeight:400,color:"#fff"}},"ккал"))),g.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row"}},g.createElement("div",{style:{width:"50%",padding:10,borderRight:"2px solid #fff"}},g.createElement(w.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,color:"#fff"}},"Состав: ",t.tmp_desc)),g.createElement("div",{style:{width:"50%",padding:10},className:"styleTooltip"},g.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},g.createElement(w.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1,color:"#fff"}},"белки"),g.createElement(w.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3,color:"#fff"}},t.protein," г")),g.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},g.createElement(w.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1,color:"#fff"}},"жиры"),g.createElement(w.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3,color:"#fff"}},t.fat," г")),g.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},g.createElement(w.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1,color:"#fff"}},"углеводы"),g.createElement(w.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3,color:"#fff"}},t.carbohydrates," г")))))}))))),g.createElement(N.Z,{sx:{display:{xs:"block",sm:"none"}},disableElevation:!0,fullScreen:!0,style:{height:"calc(100vh - 50px)",width:"100%"},onClose:this.handleClosePCSet.bind(this),className:"ItemDialog OpenItemMobSet",open:this.state.openModalPCSet,TransitionComponent:oe},g.createElement(T.Z,{disableTypography:!0,style:{margin:0,padding:0}},g.createElement("div",{style:{position:"absolute",top:-36,left:15,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePCSet.bind(this)},g.createElement(H.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}}))),g.createElement(A.Z,{className:"modalActiiContentNew",style:{height:"calc(100vh - 50px)",padding:20,display:"flex",flexWrap:"wrap",alignContent:"start"}},g.createElement(w.Z,{variant:"h5",component:"h1",style:{textAlign:"center",fontFamily:"Roboto",fontWeight:700,fontSize:"1.625rem",color:"#525252",width:"100%"}},this.state.openItem.name),g.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"}},g.createElement("div",{style:{width:4==parseInt(this.state.openItem.cat_id)?238:5==parseInt(this.state.openItem.cat_id)||6==parseInt(this.state.openItem.cat_id)||7==parseInt(this.state.openItem.cat_id)?78:148,height:28,border:"1px solid #DADADA",borderRadius:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginTop:10,marginBottom:20}},4==parseInt(this.state.openItem.cat_id)?g.createElement(g.Fragment,null,g.createElement(w.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},this.state.openItem.count_part_new),g.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})):null,5==parseInt(this.state.openItem.cat_id)||6==parseInt(this.state.openItem.cat_id)||7==parseInt(this.state.openItem.cat_id)?null:g.createElement(g.Fragment,null,g.createElement(w.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:4==parseInt(this.state.openItem.cat_id)?2:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},14==parseInt(this.state.openItem.cat_id)?this.state.openItem.size_pizza+" см":this.state.openItem.count_part+" шт."),g.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})),g.createElement(w.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.openItem.weight)," ",6==parseInt(this.state.openItem.cat_id)?"л":"г"))),g.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"calc(100vh - 250px)",overflow:"auto"}},this.state.openModalPCSetItems.map((function(e,t){return g.createElement("div",{key:t,style:{width:"100",display:"flex",flexDirection:"row",padding:"10px 0",borderTop:0==t?"1px solid rgba(27, 27, 31, 0.1)":null,borderBottom:"1px solid rgba(27, 27, 31, 0.1)"}},g.createElement("div",{style:{width:"40%",display:"flex",justifyContent:"center",alignItems:"center"}},0!=e.img_app.length&&e.img_app?g.createElement("picture",null,g.createElement("source",{type:"image/webp",srcset:"\n                                                                    https://cdnimg.jacofood.ru/".concat(e.img_app,"_138x138.webp 138w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_146x146.webp 146w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_183x183.webp 183w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_233x233.webp 233w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_292x292.webp 292w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_366x366.webp 366w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_584x584.webp 584w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_760x760.webp 760w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("source",{type:"image/jpeg",srcset:"\n                                                                    https://cdnimg.jacofood.ru/".concat(e.img_app,"_138x138.jpg 138w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_146x146.jpg 146w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_183x183.jpg 183w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_233x233.jpg 233w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_292x292.jpg 292w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_366x366.jpg 366w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_584x584.jpg 584w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_760x760.jpg 760w,\n                                                                    https://cdnimg.jacofood.ru/").concat(e.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("img",{alt:e.name,title:e.name,style:{width:"100%",height:"auto"},src:"https://cdnimg.jacofood.ru/".concat(e.img_app,"138x138.jpg")})):g.createElement("picture",null,g.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+e.img_new+"600х400.webp?"+e.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://cdnimg.jacofood.ru/"+e.img_new+"600х400.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{width:"100%",height:"auto"}}))),g.createElement("div",{style:{width:"60%",display:"flex",flexDirection:"column",justifyContent:"center"}},g.createElement(w.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:700,fontSize:"1.06rem",color:"#525252"}},e.name),g.createElement(w.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:400,fontSize:"0.875rem",color:"#525252"}},e.tmp_desc)))}))))),g.createElement(N.Z,{sx:{display:{xs:"none",md:"block",lg:"none"}},disableElevation:!0,maxWidth:"md",fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePCSet.bind(this),className:"modalActii Item OpenItemPCSet",open:this.state.openModalPCSet},g.createElement("div",{className:"IconButtonClose",style:{position:"absolute",top:-32,left:16,zIndex:2e3,width:25,height:25,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePCSet.bind(this)},g.createElement(H.bM,{style:{width:"inherit",height:"inherit",fill:"#fff",color:"#fff",overflow:"visible"}})),g.createElement(A.Z,{className:"modalActiiContentNew",style:{display:"flex",flexWrap:"wrap",padding:"2% 2.25% 2% 4.5%",marginRight:"1.5%",alignContent:"start"}},this.state.openModalPCSetItems.map((function(e,t){return g.createElement("div",{key:t,style:{width:"49%",display:"flex",flexDirection:"row",marginRight:0==t||t%2==0?"2%":0,marginBottom:"2%"}},g.createElement("div",{style:{width:"30%",display:"flex",justifyContent:"center",alignItems:"center"}},0!=e.img_app.length&&e.img_app?g.createElement("picture",null,g.createElement("source",{type:"image/webp",srcset:"\n                                                                https://cdnimg.jacofood.ru/".concat(e.img_app,"_138x138.webp 138w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_146x146.webp 146w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_183x183.webp 183w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_233x233.webp 233w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_292x292.webp 292w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_366x366.webp 366w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_584x584.webp 584w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_760x760.webp 760w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("source",{type:"image/jpeg",srcset:"\n                                                                https://cdnimg.jacofood.ru/".concat(e.img_app,"_138x138.jpg 138w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_146x146.jpg 146w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_183x183.jpg 183w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_233x233.jpg 233w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_292x292.jpg 292w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_366x366.jpg 366w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_584x584.jpg 584w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_760x760.jpg 760w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("img",{alt:e.name,title:e.name,style:{width:"100%",height:"auto"},src:"https://cdnimg.jacofood.ru/".concat(e.img_app,"138x138.jpg")})):g.createElement("picture",null,g.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+e.img_new+"600х400.webp?"+e.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://cdnimg.jacofood.ru/"+e.img_new+"600х400.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{width:"100%",height:"auto"}}))),g.createElement("div",{style:{width:"70%",display:"flex",flexDirection:"column",justifyContent:"center"}},g.createElement(w.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:500,fontSize:"1.25rem"}},e.name),g.createElement(w.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:300,fontSize:"0.94rem"}},e.tmp_desc)))})))),g.createElement(N.Z,{sx:{display:{xs:"none",lg:"block"}},disableElevation:!0,maxWidth:"lg",fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePCSet.bind(this),className:"modalActii Item OpenItemPCSet",open:this.state.openModalPCSet},g.createElement("div",{className:"IconButtonClose",style:{position:"absolute",top:-32,left:16,zIndex:2e3,width:25,height:25,backgroundColor:"transparent",cursor:"pointer"},onClick:this.handleClosePCSet.bind(this)},g.createElement(H.bM,{style:{width:"inherit",height:"inherit",fill:"#fff",color:"#fff",overflow:"visible"}})),g.createElement(A.Z,{className:"modalActiiContentNew",style:{display:"flex",flexWrap:"wrap",padding:"2% 2.25% 2% 4.5%",marginRight:"1.5%",alignContent:"start"}},this.state.openModalPCSetItems.map((function(e,t){return g.createElement("div",{key:t,style:{width:"49%",display:"flex",flexDirection:"row",marginRight:0==t||t%2==0?"2%":0,marginBottom:"2%"}},g.createElement("div",{style:{width:"45%",display:"flex",justifyContent:"center",alignItems:"center"}},0!=e.img_app.length&&e.img_app?g.createElement("picture",null,g.createElement("source",{type:"image/webp",srcset:"\n                                                                https://cdnimg.jacofood.ru/".concat(e.img_app,"_138x138.webp 138w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_146x146.webp 146w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_183x183.webp 183w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_233x233.webp 233w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_292x292.webp 292w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_366x366.webp 366w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_584x584.webp 584w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_760x760.webp 760w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("source",{type:"image/jpeg",srcset:"\n                                                                https://cdnimg.jacofood.ru/".concat(e.img_app,"_138x138.jpg 138w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_146x146.jpg 146w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_183x183.jpg 183w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_233x233.jpg 233w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_292x292.jpg 292w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_366x366.jpg 366w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_584x584.jpg 584w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_760x760.jpg 760w,\n                                                                https://cdnimg.jacofood.ru/").concat(e.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),g.createElement("img",{alt:e.name,title:e.name,style:{width:"100%",height:"auto"},src:"https://cdnimg.jacofood.ru/".concat(e.img_app,"_138x138.jpg")})):g.createElement("picture",null,g.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+e.img_new+"600х400.webp?"+e.img_new_update,type:"image/webp"}),g.createElement("img",{src:"https://cdnimg.jacofood.ru/"+e.img_new+"600х400.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{width:"100%",height:"auto"}}))),g.createElement("div",{style:{width:"55%",display:"flex",flexDirection:"column",justifyContent:"center"}},g.createElement(w.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:500,fontSize:"1.25rem",color:"#525252"}},e.name),g.createElement(w.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:400,fontSize:"0.9rem",color:"#525252"}},e.tmp_desc)))}))))):null,g.createElement(D.Z,{open:this.state.is_open_text_err_auth,onClose:this.close_text_msg.bind(this),closeAfterTransition:!0,BackdropComponent:S.Z,BackdropProps:{timeout:500},className:"class123"},g.createElement($,{in:this.state.is_open_text_err_auth},g.createElement(F.Z,{className:"modalCity"},g.createElement(O.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close_text_msg.bind(this)},g.createElement(H.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),g.createElement("div",{className:""},g.createElement(w.Z,{component:"h5"},this.state.open_text_err_auth))))))}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:ae(e),page:"",link:e};return I()({method:"POST",url:R().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:X.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page&&t.page.title?t.page.title:"",description:t.page&&t.page.description?t.page.description:"",page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),l}(g.Component)},7660:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Item:()=>W});var n=a(7462),i=a(5987),o=a(5671),r=a(3144),s=a(7326),l=a(136),c=a(2963),m=a(1120),d=a(4942),p=a(7294),h=a(5725),u=a(2642),g=a(4659),f=a(2658),y=a(8949),_=a(6282),v=a(8811),E=a.n(v),b=a(1508),w=a(4593),x=a(9669),Z=a.n(x),C=a(5697),I=a.n(C),k=a(948),S=a(1023),P=a(8999),N=a(3926),T=a(6406),A=a(3977),D=a(2133),M=["className"];function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,m.Z)(e);if(t){var i=(0,m.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,c.Z)(this,a)}}var O=a(7563),B=null,L=function(e){(0,l.Z)(a,e);var t=j(a);function a(e){var n;return(0,o.Z)(this,a),n=t.call(this,e),(0,d.Z)((0,s.Z)(n),"arrColor",{new:{color:"#EE7900",text:"новинка"},hit:{color:"#AF00DB",text:"хит"},sale:{color:"#DB0021",text:"скидка"}}),n.state={size:n.props.size,view:n.props.view,color:n.arrColor[n.props.type].color,text:n.arrColor[n.props.type].text},n}return(0,r.Z)(a,[{key:"render",value:function(){return p.createElement("div",{style:{position:"absolute",top:"mobile"==this.state.view?0:20,left:"mobile"==this.state.view?-10:20}},p.createElement("div",{style:{width:"small"==this.state.size?84:114,height:"small"==this.state.size?34:44,backgroundColor:"rgba(255, 255, 255, 0.6)",borderRadius:30}}),p.createElement("div",{style:{width:"small"==this.state.size?80:110,height:"small"==this.state.size?30:40,backgroundColor:this.state.color,borderRadius:30,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:2,left:2}},p.createElement(f.Z,{component:"span",style:{fontFamily:"Roboto",fontSize:"small"==this.state.size?"0.75rem":"1rem",fontWeight:400,color:"#fff",textTransform:"uppercase",lineHeight:1}},this.state.text)))}}]),a}(p.Component),R=(0,k.ZP)((function(e){var t=e.className,a=(0,i.Z)(e,M);return p.createElement(S.Z,(0,n.Z)({},a,{classes:{popper:t}}))}))((function(e){var t=e.theme;return(0,d.Z)({},"& .".concat(P.Z.tooltip),{maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"})}));function z(e){return(e=(e=e.split("/")).filter((function(e){return""!=e})))[e.length-1]}I().node,I().any.isRequired,I().any.isRequired;var W=function(e){(0,l.Z)(a,e);var t=j(a);function a(e){var n;return(0,o.Z)(this,a),n=t.call(this,e),(0,d.Z)((0,s.Z)(n),"_isMounted",!1),(0,d.Z)((0,s.Z)(n),"swiper",null),(0,d.Z)((0,s.Z)(n),"startMove",0),(0,d.Z)((0,s.Z)(n),"firebaseAnalitic",null),(0,d.Z)((0,s.Z)(n),"changeTab",(function(e,t){n.setState({itemTab:t})})),n.state={item:n.props.item?n.props.item:null,is_load:!1,count:0,city_name:n.props.item?"":n.props.city,itemLink:n.props.item?"":n.props.linkItem,title:n.props.data?n.props.data.title:"",description:n.props.data?n.props.data.description:"",itemTab:0,openTooltip:!1,img_name:n.props.item?n.props.item.img_app.length>0?n.props.item.img_app:n.props.item.img_new:"",img_type:n.props.item&&n.props.item.img_app.length>0?"new":"old",desc:n.props.item?n.props.item.marc_desc_full.length>0?n.props.item.marc_desc_full:n.props.item.tmp_desc:""},n.props.item||_.Z.setCity(n.props.city),n}return(0,r.Z)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,B=(0,A.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),this.firebaseAnalitic=(0,D.IH)(B),(0,y.EH)((function(){if(e._isMounted){var t=_.Z.getAllItems().find((function(t){return t.link==e.state.itemLink}));if(t){e.setState({item:t}),0==t.items.length&&3!==parseInt(t.type)&&4!==parseInt(t.type)&&(0==parseFloat(t.kkal)&&0==parseFloat(t.protein)&&0==parseFloat(t.fat)&&0==parseFloat(t.carbohydrates)||t.items.push({kkal:t.kkal,protein:t.protein,fat:t.fat,carbohydrates:t.carbohydrates,name:""})),e.setState({is_load:!0});var a=_.Z.getItems().filter((function(e){return e.item_id==e.id}))[0];e.setState({count:a?a.count:0})}}})),this.props.item){this.state.item.items&&0==this.state.item.items.length&&3!==parseInt(this.state.item.type)&&4!==parseInt(this.state.item.type)&&this.state.item.items.push({kkal:this.state.item.kkal,protein:this.state.item.protein,fat:this.state.item.fat,carbohydrates:this.state.item.carbohydrates,name:""}),this.setState({is_load:!0});var t=_.Z.getItems().find((function(t){return t.item_id==e.state.item.id}));this.setState({count:t?t.count:0})}this.props.item||(document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),_.Z.setPage("item"))}},{key:"add",value:function(){(0,D.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:this.state.item.id,items:[{name:this.state.item.name}]});var e=_.Z.AddItem(this.state.item.id);this.setState({count:e})}},{key:"minus",value:function(){(0,D.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:this.state.item.id,items:[{name:this.state.item.name}]});var e=_.Z.MinusItem(this.state.item.id);this.setState({count:e})}},{key:"handleTooltipOpen",value:function(){this.setState({openTooltip:!this.state.openTooltip})}},{key:"handleTooltipClose",value:function(){this.setState({openTooltip:!1})}},{key:"render",value:function(){var e=this;return this.state.item?p.createElement(p.Fragment,null,p.createElement(w.q,null,p.createElement("title",null,this.state.title),p.createElement("meta",{name:"description",content:this.state.description})),p.createElement(b.Z,{component:"div",className:"pcItem NewModal",sx:{display:{xs:"none",sm:"block"}}},p.createElement(h.ZP,{container:!0,className:"MainItem mainContainer"},"old"==this.state.img_type?p.createElement(h.ZP,{item:!0,className:"FirstMainItem"},p.createElement("picture",{style:{width:"100%"}},p.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),p.createElement("img",{src:"https://cdnimg.jacofood.ru/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{minHeight:150}})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:p.createElement(L,{size:"big",type:"hit",view:"pc"}):p.createElement(L,{size:"big",type:"new",view:"pc"})):p.createElement(h.ZP,{item:!0,className:"FirstMainItem"},p.createElement("picture",{style:{width:"100%"}},p.createElement("source",{type:"image/webp",srcset:"\n                                            https://cdnimg.jacofood.ru/".concat(this.state.img_name,"_1168x1168.webp 584w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_1420x1420.webp 760w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_2000x2000.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("source",{type:"image/jpeg",srcset:"\n                                            https://cdnimg.jacofood.ru/".concat(this.state.img_name,"_1168x1168.jpg 584w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_1420x1420.jpg 760w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{alt:this.state.item.name,title:this.state.item.name,className:"img",src:"https://cdnimg.jacofood.ru/".concat(this.state.img_name,"_1168x1168.jpg")})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:p.createElement(L,{size:"big",type:"hit",view:"pc"}):p.createElement(L,{size:"big",type:"new",view:"pc"})),p.createElement(h.ZP,{item:!0,className:"SecondMainItem"},p.createElement(f.Z,{variant:"h5",component:"h1",className:"ModalItemTitle",style:{marginTop:0}},this.state.item.name),p.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:300}},p.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?230:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)||15==parseInt(this.state.item.cat_id)?80:150,height:40,border:"1px solid #DADADA",borderRadius:15,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20,marginRight:25}},4==parseInt(this.state.item.cat_id)?p.createElement(p.Fragment,null,p.createElement(f.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center"}},this.state.item.count_part_new),p.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)||15==parseInt(this.state.item.cat_id)?null:p.createElement(p.Fragment,null,p.createElement(f.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:4==parseInt(this.state.item.cat_id)?2:3,textAlign:"center"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza+" см":this.state.item.count_part+" шт."),p.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})),p.createElement(f.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")),17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?null:p.createElement(N.d,{mouseEvent:"onMouseDown",touchEvent:"onTouchStart",onClickAway:this.handleTooltipClose.bind(this)},p.createElement("div",null,p.createElement(R,{onClose:this.handleTooltipClose.bind(this),open:this.state.openTooltip,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,PopperProps:{disablePortal:!0},title:p.createElement(p.Fragment,null,p.createElement(f.Z,{style:{textAlign:"center",fontFamily:"Roboto",fontSize:"1.5rem",fontWeight:500,lineHeight:1,paddingTop:10,paddingBottom:20,whiteSpace:"nowrap"}},"Пищевая ценность на 100 г"),1==this.state.item.items.length?null:p.createElement("div",{style:{width:"100%",height:2,backgroundColor:"#fff",marginBottom:20}}),p.createElement("div",{className:"InfoScroll",style:this.state.item.items.length>1?{overflowY:"scroll",maxHeight:280,paddingRight:5}:{}},this.state.item.items.map((function(t,a){return p.createElement("div",{style:{border:"2px solid #fff",borderRadius:10,marginBottom:1==e.state.item.items.length||e.state.item.items.length-1==a?0:20},key:a},p.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",borderBottom:"2px solid #fff"}},p.createElement("div",{style:{width:"75%",display:"flex",alignItems:"center",borderRight:"2px solid #fff",padding:10}},p.createElement(f.Z,{style:{fontFamily:"Roboto",fontWeight:400,fontSize:"1.1rem",lineHeight:1.25}},t.name)),p.createElement("div",{style:{width:"25%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:10}},p.createElement(f.Z,{style:{fontSize:"2rem",lineHeight:1,fontFamily:"Roboto",fontWeight:500}},t.kkal),p.createElement(f.Z,{style:{fontSize:"1rem",lineHeight:.8,fontFamily:"Roboto",fontWeight:400}},"ккал"))),p.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row"}},p.createElement("div",{style:{width:"50%",padding:10,borderRight:"2px solid #fff"}},p.createElement(f.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400}},"Состав: ",t.tmp_desc)),p.createElement("div",{style:{width:"50%",padding:10},className:"styleTooltip"},p.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},p.createElement(f.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1}},"белки"),p.createElement(f.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3}},t.protein," г")),p.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},p.createElement(f.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1}},"жиры"),p.createElement(f.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3}},t.fat," г")),p.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},p.createElement(f.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1}},"углеводы"),p.createElement(f.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3}},t.carbohydrates," г")))))}))))},p.createElement("div",{style:{width:40,height:40,cursor:"pointer"},onClick:this.handleTooltipOpen.bind(this)},!0===this.state.openTooltip?p.createElement(T.kX,null):p.createElement(T.t1,null)))))),4==parseInt(this.state.item.cat_id)?p.createElement(g.Z,{elevation:0,disableRipple:!0,variant:"contained",style:{marginBottom:20,width:300}},p.createElement(u.Z,{variant:"contained",className:"ModalItemButtonCartOther",style:{width:300,height:40,borderRadius:30,border:"1px solid #F9BC23"},onClick:this.props.openSetPc?this.props.openSetPc.bind(this,this.state.item.items):null},"Состав сета")):null,p.createElement(f.Z,{variant:"h5",component:"span",style:{marginBottom:20,minHeight:200},className:"ModalItemDesc"},this.state.desc),0==this.state.count?p.createElement(T.GP,{price:this.state.item.price,add:this.add.bind(this)}):p.createElement(T.MG,{count:this.state.count,price:this.state.item.price,item_id:this.state.item.id,minus:this.minus.bind(this),add:this.add.bind(this)})))),p.createElement(b.Z,{sx:{display:{xs:"block",sm:"none"}}},p.createElement(h.ZP,{container:!0,className:"MainItem MainItemMobile mainContainer",style:{height:"calc(100vh - 50px)",paddingRight:20,paddingLeft:20,paddingTop:20,alignContent:"flex-start",position:"relative"}},p.createElement(h.ZP,{item:!0,xs:12},"old"==this.state.img_type?p.createElement("picture",null,p.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),p.createElement("img",{src:"https://cdnimg.jacofood.ru/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{width:"100%"}})):p.createElement("picture",null,p.createElement("source",{type:"image/webp",srcset:"\n                                            https://cdnimg.jacofood.ru/".concat(this.state.img_name,"_276x276.webp 138w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_292x292.webp 146w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_366x366.webp 183w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_466x466.webp 233w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_585x585.webp 292w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_732x732.webp 366w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_1168x1168.webp 584w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_1420x1420.webp 760w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_2000x2000.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("source",{type:"image/jpeg",srcset:"\n                                            https://cdnimg.jacofood.ru/".concat(this.state.img_name,"_276x276.jpg 138w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_292x292.jpg 146w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_366x366.jpg 183w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_466x466.jpg 233w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_585x585.jpg 292w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_732x732.jpg 366w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_1168x1168.jpg 584w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_1420x1420.jpg 760w,\n                                            https://cdnimg.jacofood.ru/").concat(this.state.img_name,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{alt:this.state.item.name,title:this.state.item.name,style:{width:"80%"},src:"https://cdnimg.jacofood.ru/".concat(this.state.img_name,"_366x366.jpg")})),p.createElement(f.Z,{variant:"h5",component:"h1",style:{textAlign:"center"}},this.state.item.name)),p.createElement(h.ZP,{item:!0,xs:12},p.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",position:"relative"}},p.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?238:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)||15==parseInt(this.state.item.cat_id)?78:148,height:28,border:"1px solid #DADADA",borderRadius:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginTop:10,marginBottom:20}},4==parseInt(this.state.item.cat_id)?p.createElement(p.Fragment,null,p.createElement(f.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},this.state.item.count_part_new),p.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)||15==parseInt(this.state.item.cat_id)?null:p.createElement(p.Fragment,null,p.createElement(f.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:4==parseInt(this.state.item.cat_id)?2:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza+" см":this.state.item.count_part+" шт."),p.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})),p.createElement(f.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")),17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?null:p.createElement("div",{style:{width:30,height:30,cursor:"pointer",position:"absolute",top:10,right:0},onClick:this.props.openInfo?this.props.openInfo.bind(this):null},this.props.openModalPCInfo&&!0===this.props.openModalPCInfo?p.createElement(T.kX,null):p.createElement(T.t1,null)))),4==parseInt(this.state.item.cat_id)?p.createElement(h.ZP,{item:!0,xs:12,style:{marginBottom:20}},p.createElement(g.Z,{elevation:0,disableRipple:!0,variant:"contained",style:{width:"100%",display:"flex",justifyContent:"center"}},p.createElement(u.Z,{variant:"contained",className:"ModalItemButtonCart",style:{width:240,height:30,borderRadius:15,border:"1px solid #F9BC23",fontSize:"0.875rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:400},onClick:this.props.openSetPc?this.props.openSetPc.bind(this,this.state.item.items):null},"Состав сета"))):null,p.createElement(h.ZP,{item:!0,xs:12,style:{height:80,justifyContent:"center"}},p.createElement(f.Z,{component:"span",className:"hidddenText4",style:{textAlign:"center",fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",width:"100%"}},this.state.desc)),p.createElement(h.ZP,{item:!0,xs:12,style:{position:"absolute",width:"calc(100% - 40px)",bottom:120}},0==this.state.count?p.createElement(g.Z,{disableelevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%",backgroundColor:"#fff"}},p.createElement(u.Z,{variant:"contained",className:"ModalItemButtonCart _NON_HOVER_",style:{width:"100%",height:60,borderRadius:40,border:"2px solid #F9BC23"},onClick:this.add.bind(this)},p.createElement("span",{style:{fontSize:"1.25rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:700}},"В корзину за ",new Intl.NumberFormat("ru-RU").format(this.state.item.price)),p.createElement(T.Ir,{style:{width:15,height:15,fill:"#525252",marginLeft:5}}))):p.createElement(g.Z,{disableelevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%",backgroundColor:"#fff"}},p.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN",style:{width:"100%",height:56,borderRadius:40,border:"2px solid #F9BC23",display:"flex",justifyContent:"space-between",alignItems:"center"}},p.createElement("button",{style:{width:30,height:30,minWidth:30,maxWidth:30,minHeight:30,maxHeight:30,borderRadius:40,padding:0,marginLeft:13,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"1.5rem",fontFamily:"Roboto",fontWeight:300,display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.minus.bind(this)},"–"),p.createElement("div",null,p.createElement("span",{style:{fontSize:"1.25rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:700}},this.state.count," шт. на ",new Intl.NumberFormat("ru-RU").format(parseInt(this.state.item.price)*parseInt(this.state.count))),p.createElement(T.Ir,{style:{width:15,height:15,fill:"#525252",marginLeft:5}})),p.createElement("button",{style:{width:40,height:40,minWidth:40,maxWidth:40,minHeight:40,maxHeight:40,borderRadius:40,padding:0,marginRight:10,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"2rem",fontFamily:"Roboto",fontWeight:300,display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.add.bind(this)},"+"))))))):null}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),item:z(e),page:"item"};return Z()({method:"POST",url:E().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:O.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),a}(p.Component)},6546:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageAbout:()=>E});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7294),d=a(5725),p=a(2658),h=a(6282),u=a(8811),g=a.n(u),f=a(4593),y=a(9669),_=a.n(y);var v=a(7563),E=function(e){(0,r.Z)(y,e);var t,a,u=(t=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function y(e){var t;return(0,n.Z)(this,y),t=u.call(this,e),(0,c.Z)((0,o.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(y,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageAbout"),y.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(f.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEabout mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"about"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),y}(m.Component)},3407:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageInstPay:()=>E});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7294),d=a(5725),p=a(2658),h=a(6282),u=a(8811),g=a.n(u),f=a(4593),y=a(9669),_=a.n(y);var v=a(7563),E=function(e){(0,r.Z)(y,e);var t,a,u=(t=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function y(e){var t;return(0,n.Z)(this,y),t=u.call(this,e),(0,c.Z)((0,o.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(y,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageInstPay"),y.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(f.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEinstpay mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"instpayorders"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),y}(m.Component)},8716:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageJob:()=>E});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7294),d=a(5725),p=a(2658),h=a(6282),u=a(8811),g=a.n(u),f=a(4593),y=a(9669),_=a.n(y);var v=a(7563),E=function(e){(0,r.Z)(y,e);var t,a,u=(t=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function y(e){var t;return(0,n.Z)(this,y),t=u.call(this,e),(0,c.Z)((0,o.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(y,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageJob"),y.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(f.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEjob mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"jobs"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),y}(m.Component)},9785:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageLegal:()=>E});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7294),d=a(5725),p=a(2658),h=a(6282),u=a(8811),g=a.n(u),f=a(4593),y=a(9669),_=a.n(y);var v=a(7563),E=function(e){(0,r.Z)(y,e);var t,a,u=(t=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function y(e){var t;return(0,n.Z)(this,y),t=u.call(this,e),(0,c.Z)((0,o.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(y,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageLegal"),y.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(f.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGELegal mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"legal"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),y}(m.Component)},4025:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PageOferta:()=>E});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7294),d=a(5725),p=a(2658),h=a(6282),u=a(8811),g=a.n(u),f=a(4593),y=a(9669),_=a.n(y);var v=a(7563),E=function(e){(0,r.Z)(y,e);var t,a,u=(t=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function y(e){var t;return(0,n.Z)(this,y),t=u.call(this,e),(0,c.Z)((0,o.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(y,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PageOferta"),y.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(f.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEoferta mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"publichnaya-oferta"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),y}(m.Component)},6745:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PagePoliticLegal:()=>E});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7294),d=a(5725),p=a(2658),h=a(6282),u=a(8811),g=a.n(u),f=a(4593),y=a(9669),_=a.n(y);var v=a(7563),E=function(e){(0,r.Z)(y,e);var t,a,u=(t=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function y(e){var t;return(0,n.Z)(this,y),t=u.call(this,e),(0,c.Z)((0,o.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(y,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PagePoliticLegal"),y.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(f.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGELegal mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"politika-legal"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),y}(m.Component)},2815:(e,t,a)=>{"use strict";a.r(t),a.d(t,{PagePolitika:()=>E});var n=a(5671),i=a(3144),o=a(7326),r=a(136),s=a(2963),l=a(1120),c=a(4942),m=a(7294),d=a(5725),p=a(2658),h=a(6282),u=a(8811),g=a.n(u),f=a(4593),y=a(9669),_=a.n(y);var v=a(7563),E=function(e){(0,r.Z)(y,e);var t,a,u=(t=y,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,l.Z)(t);if(a){var i=(0,l.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,s.Z)(this,e)});function y(e){var t;return(0,n.Z)(this,y),t=u.call(this,e),(0,c.Z)((0,o.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},h.Z.setCity(t.props.city),t}return(0,i.Z)(y,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),h.Z.setPage("PagePolitika"),y.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return m.createElement(m.Fragment,null,m.createElement(f.q,null,m.createElement("title",null,this.state.title),m.createElement("meta",{name:"description",content:this.state.description})),m.createElement(d.ZP,{container:!0,className:"PAGEpolitika mainContainer"},m.createElement(d.ZP,{item:!0,xs:12,style:{paddingBottom:15}},m.createElement(p.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?m.createElement(d.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"politika-konfidencialnosti"};return _()({method:"POST",url:g().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:v.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),y}(m.Component)},3858:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Profile:()=>ge});var n=a(2982),i=a(5671),o=a(3144),r=a(7326),s=a(136),l=a(2963),c=a(1120),m=a(4942),d=a(885),p=a(7462),h=a(5987),u=a(7294),g=a(5725),f=a(2642),y=a(4659),_=a(6867),v=a(2658),E=a(4567),b=a(9062),w=a(7036),x=a(594),Z=a(3838),C=a(8979),I=a(7750),k=a(7645),S=a(6408),P=a(6282),N=a(8811),T=a.n(N),A=a(5116),D=a(9669),M=a.n(D),j=a(4593),O=a(982),B=a(9417),L=a(3720),R=a(5697),z=a.n(R),W=a(20),F=a(2640),H=a(3709),G=a(2323),U=a(6446),q=a(4212),V=a(795),K=a(8061),J=a(5305),Y=a(3334),X=a(7665),Q=a(8675),$=a(1508),ee=a(7009),te=a(4419),ae=a.n(te),ne=a(6406),ie=a(2329),oe=["children","value","index"],re=["in","children","onEnter","onExited"];function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function le(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(Object(a),!0).forEach((function(t){(0,m.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ce=a(7563);function me(e){var t=e.children,a=e.value,n=e.index,i=(0,h.Z)(e,oe);return u.createElement("div",(0,p.Z)({role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},i),a===n&&u.createElement("div",{style:{width:"100%"}},t))}function de(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function pe(e){return u.createElement("svg",{width:e.width?e.width:"50",height:"20",viewBox:e.viewBox?e.viewBox:"0 0 1500 200",xmlns:"http://www.w3.org/2000/svg"},u.createElement("g",null,u.createElement("path",{id:"svg_1",d:"m219.27,252.76c63.98,-2.85 99.22,-39.48 99.22,-103.13c0,-37.42 -12.62,-65.49 -37.52,-83.44c-22.29,-16.07 -48.63,-19.21 -62.35,-19.65c-28.61,-0.92 -107.02,-0.04 -110.34,0c-5.75,0.07 -10.38,4.75 -10.38,10.5l0,174.95c-9.23,-0.11 -15.07,-0.2 -15.31,-0.21c-0.06,0 -0.11,0 -0.17,0c-5.72,0 -10.41,4.59 -10.5,10.34c-0.09,5.8 4.54,10.57 10.34,10.66c0.95,0.01 6.78,0.1 15.64,0.21l0,26.12l-15.48,0c-5.8,0 -10.5,4.7 -10.5,10.5s4.7,10.5 10.5,10.5l15.48,0l0,74.89c0,5.8 4.7,10.5 10.5,10.5s10.5,-4.7 10.5,-10.5l0,-74.9l109.39,0c5.8,0 10.5,-4.7 10.5,-10.5s-4.7,-10.5 -10.5,-10.5l-109.39,0l0,-25.88c32.67,0.31 78.53,0.51 100.37,-0.46zm-100.37,-185.33c22.81,-0.21 76.99,-0.61 99.05,0.1c23.92,0.77 79.55,10.31 79.55,82.1c0,52.17 -26.63,79.82 -79.16,82.16c-21.17,0.94 -66.91,0.74 -99.44,0.43l0,-164.79z"})))}me.propTypes={children:z().node,index:z().any.isRequired,value:z().any.isRequired};var he=u.forwardRef((function(e,t){var a=e.in,n=e.children,i=e.onEnter,o=e.onExited,r=(0,h.Z)(e,re),s=(0,ie.q_)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&i&&i()},onRest:function(){!a&&o&&o()}});return u.createElement(ie.q.div,(0,p.Z)({ref:t,style:s},r),n)}));he.propTypes={children:z().element,in:z().bool.isRequired,onEnter:z().func,onExited:z().func};var ue=function(e){var t=e.items,a=e.city_name,n=(0,u.useState)(!1),i=(0,d.Z)(n,2),o=i[0],r=i[1],s=(0,u.useState)(!1),l=(0,d.Z)(s,2),c=l[0],m=l[1],p=(0,u.useState)(0),h=(0,d.Z)(p,2),g=h[0],f=h[1],y=(0,u.useState)(!1),b=(0,d.Z)(y,2),w=b[0],x=b[1],Z=(0,u.useState)(!1),C=(0,d.Z)(Z,2),I=C[0],k=C[1],S=(0,u.useState)(""),P=(0,d.Z)(S,2),N=(P[0],P[1]),A=(0,u.useState)(null),D=(0,d.Z)(A,2),M=D[0],j=D[1];return u.createElement(u.Fragment,null,!0===o&&u.createElement(ae(),{prizes:t,prizeIndex:g,start:c,onPrizeDefined:function(){document.querySelector(".fon").style.visibility="visible",document.querySelector(".fon_static").style.visibility="hidden",setTimeout((function(){k(!0),j(t[g]),x(!1),m((function(e){return!e})),r((function(e){return!e}))}),300)},spinningTime:5,designOptions:{hideCenterDelimiter:!0}}),u.createElement(ee.Z,{open:I,onClose:function(){k(!1)},closeAfterTransition:!0,BackdropComponent:E.Z,BackdropProps:{timeout:500},className:"class123"},u.createElement(he,{in:I},u.createElement($.Z,{className:"modalCity"},u.createElement(_.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:function(){k(!1)}},u.createElement(ne.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),u.createElement("div",{style:{display:"grid"}},!!M&&u.createElement(v.Z,{component:"h5",style:{textAlign:"center"}},"Мы приехали — ура!",u.createElement("br",null),"Получите приз, друзья:"),!!M&&u.createElement(v.Z,{component:"h4",style:{color:"#c03",textAlign:"center"}},u.createElement("br",null),"Сертификат ",M.about,u.createElement("br",null),M.company),!!M&&u.createElement("img",{style:{width:100,height:100,margin:"0 auto",borderRadius:10},src:M.image}),!!M&&u.createElement(v.Z,{component:"h4",style:{textAlign:"center"}},u.createElement("br",null),"Дождитесь получения заказа и скорее в личный кабинет – призовой сертификат будет ждать вас в разделе «Жакобус»!",u.createElement("br",null),"Счастливого пути!"),!M&&u.createElement(v.Z,{component:"h4",style:{textAlign:"center"}},"Жакобус скоро выезжает, — занимайте места поскорей!"),!M&&u.createElement(v.Z,{component:"h4",style:{textAlign:"center"}},"Участвовать в поездке может каждый, оформив заказ на 1300 рублей."),!M&&u.createElement(v.Z,{component:"h4",style:{textAlign:"center"}},u.createElement("a",{style:{color:"#c03",border:0},href:"https://drive.google.com/file/d/1kuC_z3n349NBFNPSyz5qaBHOIE2STlYA/view",target:"_blank"},"Подробности о конкурсе")))))),u.createElement("button",{className:"START",onClick:function(){w||(x(!0),fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"get_my_prize",city_name:a,token:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(e){if(!0===e.st){var a=t.findIndex((function(t){return parseInt(t.test_id)==parseInt(e.prize)}));f(a)}else N(e.text),k(!0),j(null),x(!1)})).catch((function(e){})))}},"ПОЕХАЛИ"))},ge=function(e){(0,s.Z)(h,e);var t,a,d=(t=h,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,c.Z)(t);if(a){var i=(0,c.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,l.Z)(this,e)});function h(e){var t;return(0,i.Z)(this,h),t=d.call(this,e),(0,m.Z)((0,r.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),P.Z.setPage("profile"),setTimeout((function(){P.Z.getToken()||(window.location.pathname="/"+t.state.city_name)}),300),h.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),t.loadData()})),(0,m.Z)((0,r.Z)(t),"changeTab",(function(e,a){t.setState({valueTab:a})})),(0,m.Z)((0,r.Z)(t),"changeM",(function(e){t.setState({changeM:e.target.value})})),(0,m.Z)((0,r.Z)(t),"changeDay",(function(e){t.setState({changeDay:e.target.value})})),(0,m.Z)((0,r.Z)(t),"changeMail",(function(e){t.setState({userMail:e.target.value})})),(0,m.Z)((0,r.Z)(t),"changeCheck",(function(e){var a=e.target.checked;fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"save_profile_spam",my_spam:a?1:0,user_id:P.Z.getToken()})}).then((function(e){return e.json()})).then((function(e){t.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены",spam:a?1:0})}))})),(0,m.Z)((0,r.Z)(t),"changeName",(function(e){t.setState({userName:e.target.value})})),(0,m.Z)((0,r.Z)(t),"changeAddr",(function(e){t.setState({typeDel:e.target.value})})),t.state={actii:[],is_load:!1,openDialog:!1,delOrder:!1,errorOpen:!1,error:{title:"",text:""},title:"",description:"",page:t.props.data?t.props.data.page:null,city_name:t.props.city,typeDel:"0",valueTab:1,info:{},arr_day:[],arr_m:[{name:"Января",value:1},{name:"Февраля",value:2},{name:"Марта",value:3},{name:"Апреля",value:4},{name:"Мая",value:5},{name:"Июня",value:6},{name:"Июля",value:7},{name:"Августа",value:8},{name:"Сентября",value:9},{name:"Октября",value:10},{name:"Ноября",value:11},{name:"Декабря",value:12}],radiogroup_options:[{id:"0",label:"Решили отредактировать заказ",value:0},{id:"1",label:"Не устраивает время ожидания",value:0},{id:"2",label:"Изменились планы",value:0},{id:"3",label:"Недостаточно средств",value:0},{id:"4",label:"Другое",value:0}],textDel:"",changeDay:"",changeM:"",userMail:"",openMSG:!1,statusMSG:!1,textMSG:"",spam:0,userName:"",spiner:!1,showOrder:null,items:[],modalMyPr:!1,MyPr:[]},"undefined"!=typeof window&&setTimeout((function(){var e=window.location.search;if(e.length>0){if(e.indexOf("orderId")>0){var a=window.location.search.split("&"),n=a[0].split("bank=");n=n[1];var i=a[1].split("orderId=");i=i[1],t.checkPay(n,i);var o=window.location.pathname;window.history.pushState({},"",o)}if(e.indexOf("trueOrder")>0){var r=window.location.pathname;window.history.pushState({},"",r)}}}),300),P.Z.setCity(t.props.city),t}return(0,o.Z)(h,[{key:"loadData",value:function(){for(var e=this,t=[],a=1;a<=31;a++)t.push(a);setTimeout((function(){fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"get_user_web",city_id:e.state.city_name,user_id:P.Z.getToken()})}).then((function(e){return e.json()})).then((function(a){var n=a.orders.my_orders.filter((function(e){return 6!=parseInt(e.status_order)&&0==parseInt(e.is_delete)}));e.setState({info:a,is_load:!0,arr_day:t,userMail:a.user.mail,spam:a.user.spam,userName:a.user.name}),e.generatePrize(a.items),n.length>0&&setTimeout((function(){e.loadData(a.items)}),6e3)})).catch((function(e){}))}),300)}},{key:"generatePrize",value:function(e){e.map((function(t,a){e[a].image="https://storage.yandexcloud.net/site-other-data/"+t.logo_src+"_512x512.webp"}));var t=[].concat((0,n.Z)(e),(0,n.Z)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,n.Z)(Array(t).fill("_").map((function(){return e[Math.floor(Math.random()*e.length)]})))}(e,e.length))),a=t.map((function(e){return le(le({},e),{},{id:"function"==typeof crypto.randomUUID?crypto.randomUUID():"".concat(Date.now().toString(36),"-").concat(Math.random().toString(36).substring(2))})}));0==this.state.items.length&&this.setState({items:a})}},{key:"checkPay",value:function(e,t){var a=this,n={type:"check_pay_web",payId:t,bank:e};M()({method:"POST",url:T().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:ce.stringify(n)}).then((function(n){if(200===n.status){var i=n.data;i.repeat?setTimeout((function(){a.checkPay(e,t)}),5e3):i.is_create||(a.setState({spiner:!1}),i.st?a.trueOrder(i.order_id,i.point_id):(a.props.history.push(window.location.pathname),a.setState({error:{title:"Ошибка оплаты",text:i.pay.actionCodeDescription},errorOpen:!0})))}})).catch((function(e){console.log(e)}))}},{key:"trueOrder",value:function(e,t){var a=this;fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"trueOrder",city_id:this.state.city_name,user_id:P.Z.getToken(),order_id:e,point_id:t})}).then((function(e){return e.json()})).then((function(e){0==e.st?a.setState({error:{title:"При подтверждении оплаты произошла ошибка",text:e.text_err},errorOpen:!0}):(P.Z.setItems([]),P.Z.saveCartData({orderType:"0",orderAddr:"",orderPic:0,orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:"",orderSdacha:""}),a.loadData())}))}},{key:"closeDialog",value:function(){this.setState({showItem:null,openDialog:!1})}},{key:"openDialog",value:function(e){this.setState({showItem:e,openDialog:!0})}},{key:"closeAlert",value:function(){this.setState({openMSG:!1})}},{key:"saveMail",value:function(){var e=this;fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"save_profile_mail_web",my_mail:this.state.userMail,user_id:P.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"saveDay",value:function(){var e=this,t=this.state.changeDay,a=this.state.changeM;if(""!=t&""!=a){var n="";this.state.arr_m.map((function(e,t){parseInt(e.value)==parseInt(a)&&(n=e.name)})),fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"save_profile_date",my_date:t+" "+n,user_id:P.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){t.st&&fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"get_user_web",city_id:e.state.city_name,user_id:P.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){e.setState({info:t})})).catch((function(e){})),setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}}},{key:"activePromo",value:function(e,t){var a=this;P.Z.setPromo(JSON.stringify(e),t);var n=P.Z.checkPromo();setTimeout((function(){n.st?a.setState({openMSG:!0,statusMSG:!0,textMSG:"Промокод применен"}):a.setState({openMSG:!0,statusMSG:!1,textMSG:n.text})}),300)}},{key:"saveName",value:function(){var e=this;fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"save_profile_name",my_name:this.state.userName,user_id:P.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"getOrder",value:function(e,t){var a=this;this.setState({spiner:!0}),fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"get_order",order_id:e,point_id:t})}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){a.setState({showOrder:e,openDialog:!0,spiner:!1})}),1e3)})).catch((function(e){}))}},{key:"closeOrder",value:function(){this.setState({delOrder:!0,typeDel:"0",textDel:""})}},{key:"closeOrderTrue",value:function(){var e=this,t=this.state.radiogroup_options.find((function(t){return t.id==e.state.typeDel}));"4"==t.id&&(t.label=this.state.textDel),confirm("Отменить заказ #"+this.state.showOrder.order.order_id)&&fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"close_order",user_id:P.Z.getToken(),order_id:this.state.showOrder.order.order_id,point_id:this.state.showOrder.order.point_id,ans:t.label})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?(e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены",delOrder:!1,openDialog:!1,showItem:null}),e.loadData()):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"repeatOrder",value:function(){var e=this,t=[],a=P.Z.getAllItems(),n=null;this.state.showOrder.order_items.map((function(e){if(n=a.find((function(t){return t.id==e.item_id}))){var i=parseInt(n.price),o=parseInt(e.count)*parseInt(n.price);t.push({name:e.name,item_id:e.item_id,count:e.count,one_price:i,all_price:o})}}));var i={orderType:parseInt(this.state.showOrder.order.type_order_)-1,orderAddr:1==parseInt(this.state.showOrder.order.type_order_)?this.state.showOrder.street.name:null,orderPic:parseInt(this.state.showOrder.order.point_id),orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:1==parseInt(this.state.showOrder.order.type_order_)?"cash":"in",orderSdacha:""};P.Z.saveCartData(i),this.state.showOrder.order.promo_name&&""!=this.state.showOrder.order.promo_name&&P.Z.setPromo(this.state.showOrder.promo_info,this.state.showOrder.order.promo_name),P.Z.setItems(t),setTimeout((function(){window.location.pathname="/"+e.state.city_name+"/cart"}),300)}},{key:"logOut",value:function(){localStorage.removeItem("token"),window.location.pathname="/"+this.state.city_name}},{key:"getMyPrize",value:function(){var e=this;fetch(T().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ce.stringify({type:"getMyPrize",token:P.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){e.setState({MyPr:t,modalMyPr:!0})})).catch((function(e){}))}},{key:"render",value:function(){var e=this;return u.createElement(g.ZP,{container:!0,className:"Profile mainContainer MuiGrid-spacing-xs-3"},u.createElement(j.q,null,u.createElement("title",null,this.state.title),u.createElement("meta",{name:"description",content:this.state.description})),u.createElement(E.Z,{open:this.state.spiner,style:{zIndex:99,color:"#fff"}},u.createElement(b.Z,{color:"inherit"})),u.createElement(Z.Z,{open:this.state.errorOpen,onClose:function(){return e.setState({errorOpen:!1})},className:"DialogErr"},u.createElement(v.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},this.state.error.title),u.createElement(O.G,{className:"closeDialog",onClick:function(){return e.setState({errorOpen:!1})},icon:B.NBC}),u.createElement(I.Z,null,u.createElement(S.Z,{className:"DialogErrText"},this.state.error.text)),u.createElement(C.Z,null,u.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({errorOpen:!1})}},u.createElement(f.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Хорошо")))),u.createElement(g.ZP,{item:!0,xs:12},u.createElement(v.Z,{variant:"h5",component:"h1"},"Личный кабинет")),u.createElement(Q.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.openMSG,autoHideDuration:3e3,onClose:this.closeAlert.bind(this),message:this.state.textMSG,style:{backgroundColor:this.state.statusMSG?"green":"#BB0025",borderRadius:4},action:u.createElement(u.Fragment,null,u.createElement(_.Z,{size:"small","aria-label":"close",color:"inherit",onClick:this.closeAlert.bind(this)},u.createElement(x.Z,{fontSize:"small"})))}),u.createElement(g.ZP,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",style:{paddingTop:0}},u.createElement(L.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},u.createElement(W.Z,{value:this.state.valueTab,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",className:"abv3334",style:{justifyContent:"center"},scrollButtons:!1,variant:"scrollable"},u.createElement(F.Z,(0,p.Z)({label:"Промокоды"},de(0),{disableRipple:!0})),u.createElement(F.Z,(0,p.Z)({label:"Заказы"},de(1),{disableRipple:!0})),u.createElement(F.Z,(0,p.Z)({label:"Редактирование"},de(2),{disableRipple:!0})))),u.createElement(me,{value:this.state.valueTab,index:0,style:{width:"100%"}},u.createElement("div",{style:{padding:12}},this.state.info.promo?u.createElement($.Z,{sx:{display:{xs:"none",lg:"block"}}},u.createElement("table",{style:{width:"100%"},className:"TablePromo"},u.createElement("thead",null,u.createElement("tr",null,u.createElement("td",null,u.createElement(v.Z,{variant:"h5",component:"span"},"Промокод")),u.createElement("td",null,u.createElement(v.Z,{variant:"h5",component:"span"},"Промокод дает:")),u.createElement("td",null,u.createElement(v.Z,{variant:"h5",component:"span"},"Действует до")))),u.createElement("tbody",null,this.state.info.promo.promo.map((function(t,a){return u.createElement("tr",{key:a},u.createElement("td",null,u.createElement(v.Z,{variant:"h5",component:"span",onClick:e.activePromo.bind(e,t.info,t.promo_name)},t.promo_name)),u.createElement("td",null,u.createElement(v.Z,{variant:"h5",component:"span"},t.promo_text)),u.createElement("td",null,u.createElement(v.Z,{variant:"h5",component:"span"},t.date_end)))}))))):null,this.state.info.promo?u.createElement($.Z,{sx:{display:{xs:"block",lg:"none"}}},u.createElement("table",{style:{width:"100%"},className:"TablePromoMobile"},u.createElement("tbody",null,this.state.info.promo.promo.map((function(t,a){return u.createElement("tr",{key:a},u.createElement("td",null,u.createElement("div",null,u.createElement(v.Z,{variant:"h5",component:"span"},"Промокод: "),u.createElement(v.Z,{variant:"h5",component:"span"},t.promo_name)),u.createElement("div",{style:{width:"100%",paddingTop:10}},u.createElement(v.Z,{variant:"h5",component:"span"},"Действует до: "),u.createElement(v.Z,{variant:"h5",component:"span"},t.date_end)),u.createElement("div",{style:{width:"100%",paddingTop:10,textAlign:"justify"}},u.createElement(v.Z,{variant:"h5",component:"span"},"Промокод дает: "),u.createElement(v.Z,{variant:"h5",component:"span"},t.promo_text)),u.createElement("div",{style:{width:"100%",paddingTop:10}},u.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:e.activePromo.bind(e,t.info,t.promo_name)},u.createElement(f.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",style:{width:"100%"}},"Применить промокод")))))}))))):null)),u.createElement(me,{value:this.state.valueTab,index:1,style:{width:"100%"}},u.createElement("div",{style:{marginTop:20,marginBottom:20},className:"dis_none"},u.createElement(f.Z,{variant:"contained",className:"btnMyPrize",onClick:function(){e.setState({valueTab:3})}},"Прокатиться в Жакобусе")),this.state.info.orders?u.createElement("div",{className:"TableOrders"},u.createElement("div",{className:"thead"},u.createElement(v.Z,{variant:"h5",component:"span",style:{flex:2}},"№"),u.createElement(v.Z,{variant:"h5",component:"span",style:{flex:3}},"Дата"),u.createElement(v.Z,{variant:"h5",component:"span",style:{flex:1}},"Сумма"),u.createElement(v.Z,{variant:"h5",component:"span",style:{flex:1}})),u.createElement("div",{className:"tbody"},this.state.info.orders.my_orders.map((function(t,a){return u.createElement("div",{key:a,className:6==parseInt(t.status_order)||1==parseInt(t.is_delete)?"":"active",onClick:e.getOrder.bind(e,t.order_id,t.point_id)},u.createElement("div",null,u.createElement(v.Z,{variant:"h5",component:"span",style:{flex:2}},t.order_id),u.createElement(v.Z,{variant:"h5",component:"span",style:{flex:3}},t.date_time_new),u.createElement(v.Z,{variant:"h5",component:"span",className:"CardPriceItem",style:{flex:1}},t.sum," ",u.createElement(pe,{width:"20",viewBox:"0 0 700 300"})),u.createElement(v.Z,{variant:"h5",component:"span",style:{flex:1}},1==parseInt(t.is_delete)?u.createElement(x.Z,{style:{position:"relative",top:3}}):6==parseInt(t.status_order)?u.createElement(w.Z,{style:{position:"relative",top:3}}):null)),6==parseInt(t.status_order)||1==parseInt(t.is_delete)?null:u.createElement("div",{className:"boxSteps"},u.createElement("div",null,u.createElement("div",{className:0==parseInt(t.steps[0].active)||2==parseInt(t.steps[0].active)?"":"active"},u.createElement(v.Z,{variant:"h5",component:"span"},t.steps[0].name)),u.createElement("div",{className:0==parseInt(t.steps[1].active)||2==parseInt(t.steps[1].active)?"":"active"},u.createElement(v.Z,{variant:"h5",component:"span"},t.steps[1].name)),u.createElement("div",{className:0==parseInt(t.steps[2].active)||2==parseInt(t.steps[2].active)?"":"active"},u.createElement(v.Z,{variant:"h5",component:"span"},t.steps[2].name)),u.createElement("div",{className:0==parseInt(t.steps[3].active)||2==parseInt(t.steps[3].active)?"":"active"},u.createElement(v.Z,{variant:"h5",component:"span"},t.steps[3].name))),0==t.time_to_client?null:u.createElement("div",null,u.createElement(v.Z,{variant:"h5",component:"span"},1==parseInt(t.type_order)?"Заказ привезут до: ":"Ориентировочное время готовности заказа: ",t.time_to_client))))})))):null),u.createElement(me,{value:this.state.valueTab,index:2,style:{width:"100%"}},this.state.info.user?u.createElement("div",{className:"TableInfo"},u.createElement("form",{noValidate:!0,autoComplete:"off"},u.createElement(A.Z,{label:"Имя",value:this.state.userName,className:"input",onChange:this.changeName.bind(this),onBlur:this.saveName.bind(this),size:"small"}),u.createElement(A.Z,{InputProps:{readOnly:!0},label:"Номер телефона",value:this.state.info.user.login,className:"input",size:"small"})),u.createElement("form",{noValidate:!0,autoComplete:"off"},""!=this.state.info.user.date_bir?u.createElement(A.Z,{label:"Дата рождения",className:"input",InputProps:{readOnly:!0},value:this.state.info.user.date_bir,size:"small"}):u.createElement("div",{className:"input"},u.createElement(X.Z,{className:"otherLabel",size:"small"},"Дата рождения"),u.createElement(U.Z,{className:"ChangeDay"},u.createElement(Y.Z,{size:"small",labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,value:this.state.changeDay,onChange:this.changeDay.bind(this),onBlur:this.saveDay.bind(this)},u.createElement(J.Z,{className:"menuItem",value:""},"День"),this.state.arr_day.map((function(e,t){return u.createElement(J.Z,{key:t,className:"menuItem",value:e},e)})))),u.createElement(U.Z,{className:"ChangeM"},u.createElement(Y.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,value:this.state.changeM,onChange:this.changeM.bind(this),onBlur:this.saveDay.bind(this),size:"small"},u.createElement(J.Z,{className:"menuItem",value:""},"Месяц"),this.state.arr_m.map((function(e,t){return u.createElement(J.Z,{key:t,className:"menuItem",value:e.value},e.name)}))))),u.createElement(A.Z,{label:"E-mail",className:"input",value:this.state.userMail,onChange:this.changeMail.bind(this),onBlur:this.saveMail.bind(this),size:"small"})),u.createElement(H.Z,{row:!0,className:"input checkbox"},u.createElement(G.Z,{onChange:this.changeCheck.bind(this),control:u.createElement(q.Z,{checked:1==parseInt(this.state.spam),name:"checkedC",sx:{"&.Mui-checked":{color:"#c03"}}}),label:"Получать сообщения с акциями"})),u.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:this.logOut.bind(this)},u.createElement(f.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Выйти"))):null),u.createElement(me,{value:this.state.valueTab,index:3,style:{width:"100%",height:800}},u.createElement("div",{style:{marginTop:20,marginBottom:20}},u.createElement(f.Z,{variant:"contained",className:"btnMyPrize",onClick:this.getMyPrize.bind(this)},"Мои призы")),u.createElement("div",{className:"abv"},u.createElement("img",{className:"fon",src:"https://jacochef.ru/src/img/test/test35464.png"}),u.createElement("img",{className:"fon_static",src:"https://jacochef.ru/src/img/test/test.gif"}),u.createElement("img",{className:"fonBus",src:"https://jacochef.ru/src/img/test/test3.png"}),u.createElement("div",{className:"shadowright"}),u.createElement("div",{className:"shadowleft"}),u.createElement("div",{className:"otherDiv dis_none"},0!=this.state.items.length&&u.createElement(ue,{items:this.state.items,city_name:this.state.city_name}))))),this.state.showOrder?u.createElement(Z.Z,{onClose:this.closeDialog.bind(this),"aria-labelledby":"customized-dialog-title",className:"showOrderDialog",open:this.state.openDialog,fullWidth:!0},u.createElement(k.Z,{disableTypography:!0,style:{margin:0,padding:8}},u.createElement(v.Z,{variant:"h6"},"Заказ ",this.state.showOrder.order.order_id),u.createElement(_.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0,color:"#000"},onClick:this.closeDialog.bind(this)},u.createElement(x.Z,null))),u.createElement(I.Z,{className:"showOrderDialogContent"},u.createElement(v.Z,{variant:"h6",component:"span"},this.state.showOrder.order.type_order,": ",this.state.showOrder.order.type_order_addr_new),u.createElement(v.Z,{variant:"h6",component:"span"},this.state.showOrder.order.time_order_name,": ",this.state.showOrder.order.time_order),u.createElement(v.Z,{variant:"h6",component:"span"},"Статус заказа: ",this.state.showOrder.order.this_status_order),1==parseInt(this.state.showOrder.order.is_preorder)?null:u.createElement(v.Z,{variant:"h6",component:"span"},this.state.showOrder.order.text_time,this.state.showOrder.order.time_to_client),null==this.state.showOrder.order.promo_name||0==this.state.showOrder.order.promo_name.length?null:u.createElement(v.Z,{variant:"h6",component:"span"},"Промокод: ",this.state.showOrder.order.promo_name),null==this.state.showOrder.order.promo_name||0==this.state.showOrder.order.promo_name.length?null:u.createElement(v.Z,{variant:"h6",component:"span",className:"noSpace"},this.state.showOrder.order.promo_text),null==this.state.showOrder.order.sdacha||0==this.state.showOrder.order.sdacha.length||0==this.state.showOrder.order.sdacha?null:u.createElement(v.Z,{variant:"h6",component:"span"},"Сдача с: ",this.state.showOrder.order.sdacha),u.createElement(v.Z,{variant:"h5",component:"span",className:"CardPriceItem"},"Сумма закза: ",this.state.showOrder.order.sum_order," ",u.createElement(pe,{width:"20",viewBox:"0 0 700 300"})),u.createElement("table",{className:"tableOrderCheck"},u.createElement("tbody",null,this.state.showOrder.order_items.map((function(e,t){return u.createElement("tr",{key:t},u.createElement("td",null,u.createElement(v.Z,{variant:"h5",component:"span"},e.name)),u.createElement("td",null,u.createElement(v.Z,{variant:"h5",component:"span"},e.count)))}))))),0==parseInt(this.state.showOrder.order.is_delete)&&6!==parseInt(this.state.showOrder.order.status_order)?u.createElement(C.Z,{style:{justifyContent:"flex-end",padding:"15px 0px"}},u.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},u.createElement(f.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.closeOrder.bind(this,this.state.showOrder.order.order_id,this.state.showOrder.order.point_id)},"Отменить заказ"))):null,1==parseInt(this.state.showOrder.order.is_delete)||6==parseInt(this.state.showOrder.order.status_order)?u.createElement(C.Z,{style:{justifyContent:"flex-end",padding:"15px 0px"}},u.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},u.createElement(f.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.repeatOrder.bind(this,this.state.showOrder.order.order_id,this.state.showOrder.order.point_id)},"Повторить заказ"))):null):null,u.createElement(Z.Z,{open:this.state.delOrder,onClose:function(){e.setState({delOrder:!1})},"aria-labelledby":"form-dialog-title"},u.createElement(k.Z,{id:"form-dialog-title"},"Отмена заказа"),u.createElement(I.Z,null,u.createElement(S.Z,null,"Нам очень жаль, что вы приняли решение отменить заказ. Возможно, мы сделали что-то не так, помогите нам стать лучше, поделитесь причиной отказа:"),u.createElement(_.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0,color:"#000"},onClick:function(){e.setState({delOrder:!1})}},u.createElement(x.Z,null)),u.createElement(U.Z,{component:"fieldset"},u.createElement(K.Z,{name:"typeDel",value:this.state.typeDel,onChange:this.changeAddr},this.state.radiogroup_options.map((function(e,t){return u.createElement(G.Z,{key:t,value:e.id,control:u.createElement(V.Z,{sx:{"&.Mui-checked":{color:"#c03"}}}),label:e.label})})))),u.createElement(A.Z,{onFocus:function(){e.setState({typeDel:"4"})},value:this.state.textDel,onChange:function(t){e.setState({textDel:t.target.value})},margin:"dense",id:"name",label:"Причина отмены",type:"text",fullWidth:!0})),u.createElement(C.Z,{style:{paddingBottom:24}},u.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},u.createElement(f.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:function(){e.setState({delOrder:!1})}},"К заказу")),u.createElement(y.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},u.createElement(f.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.closeOrderTrue.bind(this)},"Отменить заказ")))),u.createElement(ee.Z,{open:this.state.modalMyPr,onClose:function(){e.setState({modalMyPr:!1})},closeAfterTransition:!0,BackdropComponent:E.Z,BackdropProps:{timeout:500},className:"class123 modalMyPr",maxWidth:"md",fullWidth:!0},u.createElement(he,{in:this.state.modalMyPr},u.createElement($.Z,{className:"modalCity"},u.createElement(k.Z,null,"Список выигранных призов"),u.createElement(_.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:function(){e.setState({modalMyPr:!1})}},u.createElement(ne.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),u.createElement("table",null,u.createElement("tbody",null,this.state.MyPr.map((function(e,t){return u.createElement("tr",{key:t,style:{minHeight:60}},u.createElement("td",{style:{padding:10}},e.company," Сертификат ",e.about),u.createElement("td",{style:{padding:10}},e.cert_img.length>0?u.createElement("a",{href:"https://storage.yandexcloud.net/site-prize/"+e.cert_img,target:"_blank",style:{borderWidth:0,color:"#c03"}},"скачать"):"Будет доступен после завершения заказа"))})),u.createElement("tr",{style:{minHeight:60}},u.createElement("td",{style:{padding:10,paddingTop:50}},u.createElement("a",{href:"https://drive.google.com/file/d/1kuC_z3n349NBFNPSyz5qaBHOIE2STlYA/view",target:"_blank",style:{borderWidth:0,color:"#c03"}},"Полные правила розыгрыша")))))))))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"profile"};return M()({method:"POST",url:T().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:ce.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),h}(u.Component)},476:(e,t,a)=>{"use strict";var n=a(7294),i=a(3935),o=a(3727),r=a(5861),s=a(5671),l=a(3144),c=a(7326),m=a(136),d=a(2963),p=a(1120),h=a(4942),u=a(4687),g=a.n(u),f=a(6550),y=a(7227),_=a(7660),v=a(6068),E=a(7173),b=a(3858),w=a(1072),x=a(6546),Z=a(8716),C=a(3407),I=a(4025),k=a(2815),S=a(9785),P=a(6745),N=a(9188),T=a(7462),A=a(5987),D=a(3720),M=a(4386),j=a(4680),O=a(8072),B=a(4567),L=a(5697),R=a.n(L),z=a(1508),W=a(2642),F=a(4659),H=a(6867),G=a(2658),U=a(2206),q=a(6261),V=a(6282),K=a(8811),J=a.n(K),Y=a(6406),X=a(8949),Q=a(7009),$=a(2329),ee=a(3497),te=a(6543),ae=a(2440),ne=a(799),ie=a(2323),oe=a(4212),re=["in","children","onEnter","onExited"];function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.Z)(this,a)}}var le=a(7563),ce=n.forwardRef((function(e,t){var a=e.in,i=e.children,o=e.onEnter,r=e.onExited,s=(0,A.Z)(e,re),l=(0,$.q_)({from:{opacity:0},to:{opacity:a?1:0},onStart:function(){a&&o&&o()},onRest:function(){!a&&r&&r()}});return n.createElement($.q.div,(0,T.Z)({ref:t,style:l},s),i)}));ce.propTypes={children:R().element,in:R().bool.isRequired,onEnter:R().func,onExited:R().func};var me=function(e){(0,m.Z)(u,e);var t,a,i,d,p=se(u);function u(e){var t;return(0,s.Z)(this,u),t=p.call(this,e),(0,h.Z)((0,c.Z)(t),"sms1",!1),(0,h.Z)((0,c.Z)(t),"getData",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 1==(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&t.setState({is_load:!0}),a.type=e,fetch(J().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:le.stringify(a)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){setTimeout((function(){t.setState({is_load:!1})}),300),console.log(e)}))})),t.state={open:!1,typeLogin:"start",fromType:"start",loginLogin:"",pwdLogin:"",newPassword:"",genPwd:"",checkCode:"",pwd:"",ResPWD:!1,NeedCode:!1,openLogin:!1,userLogin:"",userLoginFormat:"",userCode:"",timerSMS:89,timerSMSTime:t.toTime(89),errPhone:"",errSMS:"",errTitle:"",errText1:"",errText2:"",is_sms:!0,cityName:t.props.cityName,checkedModalLoginCreate:!1},t}return(0,l.Z)(u,[{key:"componentDidUpdate",value:function(){this.props.isOpen!=this.state.open&&this.setState({open:this.props.isOpen,typeLogin:"start",fromType:"start",loginLogin:"",pwdLogin:"",newPassword:"",genPwd:"",checkCode:"",pwd:"",ResPWD:!1,NeedCode:!1,openLogin:!1,userLogin:"",userLoginFormat:"",userCode:"",timerSMS:89,timerSMSTime:this.toTime(89),errPhone:"",errSMS:"",errTitle:"",errText1:"",errText2:"",checkedModalLoginCreate:!1})}},{key:"componentDidMount",value:function(){this.gen_password()}},{key:"open",value:function(){this.setState({open:!0})}},{key:"close",value:function(){this.props.close()}},{key:"changeData",value:function(e,t){var a=t.target.value;if("loginLogin"==e){if(isNaN(a)&&"+"!=a)return;9==parseInt(a[0])&&(a="8"+a),"+"==a[0]&&"7"==parseInt(a[1])&&(a="8"+(a=a.slice(2))),"7"==parseInt(a[0])&&(a="8"+(a=a.slice(1))),a=(a=(a=(a=(a=a.split(" ").join("")).split("(").join("")).split(")").join("")).split("-").join("")).split("_").join("")}this.setState((0,h.Z)({},e,a))}},{key:"checkLoginKey",value:function(e,t){13==parseInt(t.keyCode)&&(1==parseInt(e)&&this.logIn(),2==parseInt(e)&&this.sendSMS(),3==parseInt(e)&&this.checkCode(),4==parseInt(e)&&this.sendsmsNewLogin())}},{key:"logIn",value:(d=(0,r.Z)(g().mark((function e(){var t,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={number:this.state.loginLogin,pwd:this.state.pwdLogin},e.next=3,this.getData("site_login",t);case 3:!1===(a=e.sent).st?"modal"==a.type?this.setState({typeLogin:"error",errTitle:a.title,errText1:a.text1,errText2:a.text2}):this.setState({errPhone:a.text}):(this.setState({errPhone:"",errTitle:"",errText1:"",errText2:""}),V.Z.setToken(a.token,a.name),V.Z.setUserName(a.name),this.close());case 5:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"createProfileFetch",value:(i=(0,r.Z)(g().mark((function e(t,a){var n,i,o,r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={number:t,token:a},this.setState({fromType:this.state.typeLogin,typeLogin:"loginSMSCode"}),i=setInterval((function(){r.setState({timerSMS:r.state.timerSMS-1,timerSMSTime:r.toTime(r.state.timerSMS-1)}),0==r.state.timerSMS&&clearInterval(i)}),1e3),e.next=5,this.getData("create_profile",n);case 5:!0===(o=e.sent).st?this.setState({errPhone:"",errTitle:"",errText1:"",errText2:"",is_sms:o.is_sms}):"modal"==o.type?this.setState({typeLogin:"error",errTitle:o.title,errText1:o.text1,errText2:o.text2}):this.setState({errPhone:o.text}),setTimeout((function(){r.sms1=!1}),300);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"sendSMS",value:function(){if(0==this.sms1){this.sms1=!0,this.setState({timerSMS:89,timerSMSTime:this.toTime(89)});var e=this.state.loginLogin;this.createProfileFetch(e,"")}}},{key:"toTime",value:function(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(14,5)}},{key:"changeCode",value:function(e){var t=this;this.setState({checkCode:e}),4==e.length&&setTimeout((function(){t.checkCode()}),300)}},{key:"checkCode",value:(a=(0,r.Z)(g().mark((function e(){var t,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={number:this.state.loginLogin,cod:this.state.checkCode},e.next=3,this.getData("check_profile",t);case 3:!1===(a=e.sent).st?"modal"==a.type?this.setState({typeLogin:"error",errTitle:a.title,errText1:a.text1,errText2:a.text2}):this.setState({errPhone:a.text}):(this.setState({errPhone:"",errTitle:"",errText1:"",errText2:""}),V.Z.setToken(a.token,a.name),V.Z.setUserName(a.name),"create"==this.state.fromType?this.setState({fromType:this.state.typeLogin,typeLogin:"finish"}):this.close());case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"gen_password",value:function(){for(var e="",t=0;t<10;t++)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+?".charAt(Math.floor(75*Math.random()));this.setState({genPwd:e})}},{key:"sendsmsNewLoginFetch",value:(t=(0,r.Z)(g().mark((function e(t){var a,n,i,o,r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={number:this.state.loginLogin,pwd:this.state.newPassword,token:t},this.setState({fromType:this.state.typeLogin,typeLogin:"loginSMSCode"}),n=setInterval((function(){r.setState({timerSMS:r.state.timerSMS-1,timerSMSTime:r.toTime(r.state.timerSMS-1)}),0==r.state.timerSMS&&clearInterval(n)}),1e3),e.next=5,this.getData("sendsmsrp",a);case 5:(i=e.sent).st?this.setState({errPhone:"",errTitle:"",errText1:"",errText2:"",is_sms:null!==(o=i.is_sms)&&void 0!==o&&o}):"modal"==i.type?this.setState({typeLogin:"error",errTitle:i.title,errText1:i.text1,errText2:i.text2}):this.setState({errPhone:i.text}),setTimeout((function(){r.sms1=!1,r.setState({is_load_new:!1})}),300);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"sendsmsNewLogin",value:function(){0==this.sms1&&(this.sms1=!0,this.sendsmsNewLoginFetch(""))}},{key:"render",value:function(){var e=this;return n.createElement(Q.Z,{open:this.props.isOpen,onClose:this.props.close,closeAfterTransition:!0,BackdropComponent:B.Z,BackdropProps:{timeout:500},className:"class123"},n.createElement(ce,{in:this.props.isOpen},"start"!=this.state.typeLogin?null:n.createElement(z.Z,{className:"modalLoginStart"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG",style:{display:"none"}},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(G.Z,{component:"h2"},"Мой аккаунт")),n.createElement(Y.rZ,{type:"phone",placeholder:"Телефон",value:this.state.loginLogin,func:this.changeData.bind(this,"loginLogin"),onKeyDown:this.checkLoginKey.bind(this,1),className:"inputLogin"}),n.createElement("div",{className:"loginErr"},n.createElement(G.Z,{component:"span"},this.state.errPhone)),n.createElement(Y.rZ,{type:"password",placeholder:"Пароль",value:this.state.pwdLogin,func:this.changeData.bind(this,"pwdLogin"),onKeyDown:this.checkLoginKey.bind(this,1),className:"inputLogin"}),n.createElement("div",{className:"loginLosePWD"},n.createElement(G.Z,{component:"span",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"resetPWD",checkedModalLoginCreate:!1})}},"Забыли пароль ?")),0==this.props.linkYaAuth.length?null:n.createElement("div",{className:"loginYa"},n.createElement("a",{href:this.props.linkYaAuth},n.createElement(Y.cP,null))),n.createElement("div",{className:"loginLogin",onClick:this.logIn.bind(this)},n.createElement(G.Z,{component:"span"},"Войти")),n.createElement("div",{className:"loginCreate",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"create",checkedModalLoginCreate:!1}),e.gen_password()}},n.createElement(G.Z,{component:"span"},"Создать новый аккаунт")),n.createElement("div",{className:"loginSMS"},n.createElement(G.Z,{component:"span",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"loginSMS",checkedModalLoginCreate:!1})}},"Войти по смс")),n.createElement("div",{className:"blockInfo"},n.createElement(G.Z,{component:"span"},"Продолжая, вы даете ",n.createElement(o.OL,{to:"/"+this.state.cityName+"/legal",exact:!0,onClick:this.close.bind(this)},"Согласие")," на обработку моих персональных данных в соответствии с ",n.createElement(o.OL,{to:"/"+this.state.cityName+"/politika-konfidencialnosti",exact:!0,onClick:this.close.bind(this)},"Политикой"),", а также даю согласие на рекламную рассылку, от которой можно отказаться в любой момент"))),"loginSMS"!=this.state.typeLogin?null:n.createElement(z.Z,{className:"modalLoginCreate"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG",style:{display:"none"}},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(G.Z,{component:"h2"},"Вход по СМС")),n.createElement(Y.rZ,{type:"phone",placeholder:"Телефон",value:this.state.loginLogin,func:this.changeData.bind(this,"loginLogin"),onKeyDown:this.checkLoginKey.bind(this,2),className:"inputLogin",style:{marginBottom:0}}),n.createElement("div",{className:"blockInfo2"},n.createElement(ie.Z,{control:n.createElement(oe.Z,{color:"primary",checked:this.state.checkedModalLoginCreate,onClick:function(){e.setState({checkedModalLoginCreate:!e.state.checkedModalLoginCreate})}}),label:n.createElement(G.Z,{component:"span"},"Я даю ",n.createElement(o.OL,{to:"/"+this.state.cityName+"/legal",exact:!0,onClick:this.close.bind(this)},"Согласие")," на обработку моих персональных данных в соответствии с ",n.createElement(o.OL,{to:"/"+this.state.cityName+"/politika-konfidencialnosti",exact:!0,onClick:this.close.bind(this)},"Политикой"),", а также даю согласие на рекламную рассылку, от которой можно отказаться в любой момент")})),n.createElement("div",{className:"loginErr"},n.createElement(G.Z,{component:"span"},this.state.errPhone)),n.createElement("div",{className:"loginLogin "+(this.state.checkedModalLoginCreate?"":"disable"),onClick:this.state.checkedModalLoginCreate?this.sendSMS.bind(this):function(){}},n.createElement(G.Z,{component:"span"},"Получить код")),n.createElement("div",{className:"loginCreate",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"start",checkedModalLoginCreate:!1})}},n.createElement(G.Z,{component:"span"},"У меня есть аккаунт"))),"loginSMSCode"!=this.state.typeLogin?null:n.createElement(z.Z,{className:"modalLoginSMSCode"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG",style:{display:"none"}},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/tripple_dop.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(G.Z,{component:"h2"},"Проверим телефон ?")),this.state.is_sms?null:n.createElement("div",{className:"loginSubHeader"},n.createElement(G.Z,{component:"span"},"Сейчас мы вам позвоним."),n.createElement(G.Z,{component:"span"},"Введите последние 4 цифры номера.")),this.state.is_sms?n.createElement("div",{className:"loginSubHeader"},n.createElement(G.Z,{component:"span"},"Введите 4 цифры из смс.")):null,n.createElement("div",{className:this.state.timerSMS>0?"loginAutCode":"loginAutCodeOther"},n.createElement(ee.Z,{autoFocus:!0,allowedCharacters:"numeric",length:"4",onChange:this.changeCode.bind(this)})),n.createElement("div",{className:"loginErr"},n.createElement(G.Z,{component:"span"},this.state.errPhone)),this.state.timerSMS>0?n.createElement("div",{className:"loginTimer"},n.createElement(G.Z,{component:"span"},"Повторно отправить можно через ",this.state.timerSMSTime)):n.createElement("div",{className:"loginTimerSend",onClick:this.sendSMS.bind(this)},n.createElement(G.Z,{component:"span"},"Отправить код еще раз")),n.createElement("div",{className:"loginSend "+(4==this.state.checkCode.length?"":"disabled"),onClick:this.checkCode.bind(this)},n.createElement(G.Z,{component:"span"},"Отправить")),n.createElement("div",{className:"loginPrev"},n.createElement(G.Z,{component:"span",onClick:function(){e.setState({typeLogin:e.state.fromType})}},"Изменить номер телефона"))),"resetPWD"!=this.state.typeLogin?null:n.createElement(z.Z,{className:"modalLoginReset"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG",style:{display:"none"}},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(G.Z,{component:"h2"},"Восстановление пароля")),n.createElement(Y.rZ,{type:"phone",placeholder:"Телефон",value:this.state.loginLogin,func:this.changeData.bind(this,"loginLogin"),onKeyDown:this.checkLoginKey.bind(this,4),className:"inputLogin"}),n.createElement("div",{className:"loginErr"},n.createElement(G.Z,{component:"span"},this.state.errPhone)),n.createElement(Y.rZ,{type:"password",placeholder:"Придумай пароль",value:this.state.newPassword,func:this.changeData.bind(this,"newPassword"),onKeyDown:this.checkLoginKey.bind(this,4),className:"inputLogin"}),n.createElement("div",{className:"blockInfo2"},n.createElement(ie.Z,{control:n.createElement(oe.Z,{color:"primary",checked:this.state.checkedModalLoginCreate,onClick:function(){e.setState({checkedModalLoginCreate:!e.state.checkedModalLoginCreate})}}),label:n.createElement(G.Z,{component:"span"},"Я даю ",n.createElement(o.OL,{to:"/"+this.state.cityName+"/legal",exact:!0,onClick:this.close.bind(this)},"Согласие")," на обработку моих персональных данных в соответствии с ",n.createElement(o.OL,{to:"/"+this.state.cityName+"/politika-konfidencialnosti",exact:!0,onClick:this.close.bind(this)},"Политикой"),", а также даю согласие на рекламную рассылку, от которой можно отказаться в любой момент")})),n.createElement("div",{className:"loginLogin "+(this.state.checkedModalLoginCreate?"":"disable"),onClick:this.state.checkedModalLoginCreate?this.sendsmsNewLogin.bind(this):function(){}},n.createElement(G.Z,{component:"span"},"Сменить пароль")),n.createElement("div",{className:"loginCreate",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"start",checkedModalLoginCreate:!1})}},n.createElement(G.Z,{component:"span"},"У меня есть аккаунт"))),"create"!=this.state.typeLogin?null:n.createElement(z.Z,{className:"modalLoginCreateNew"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG",style:{display:"none"}},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240_white.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(G.Z,{component:"h2"},"Новый аккаунт")),n.createElement(Y.rZ,{type:"phone",placeholder:"Телефон",value:this.state.loginLogin,func:this.changeData.bind(this,"loginLogin"),onKeyDown:this.checkLoginKey.bind(this,4),className:"inputLogin"}),n.createElement("div",{className:"loginErr"},n.createElement(G.Z,{component:"span"},this.state.errPhone)),n.createElement(Y.rZ,{type:"password",placeholder:"Придумайте пароль",value:this.state.newPassword,func:this.changeData.bind(this,"newPassword"),onKeyDown:this.checkLoginKey.bind(this,4),className:"inputLogin"}),n.createElement("div",{className:"loginSubHeader"},n.createElement(G.Z,{component:"span"},"Надежный пароль - строчные и заглавные буквы, цифры и символы."),n.createElement(G.Z,{component:"span"},"Например: ",this.state.genPwd)),n.createElement("div",{className:"blockInfo2"},n.createElement(ie.Z,{control:n.createElement(oe.Z,{color:"primary",checked:this.state.checkedModalLoginCreate,onClick:function(){e.setState({checkedModalLoginCreate:!e.state.checkedModalLoginCreate})}}),label:n.createElement(G.Z,{component:"span"},"Я даю ",n.createElement(o.OL,{to:"/"+this.state.cityName+"/legal",exact:!0,onClick:this.close.bind(this)},"Согласие")," на обработку моих персональных данных в соответствии с ",n.createElement(o.OL,{to:"/"+this.state.cityName+"/politika-konfidencialnosti",exact:!0,onClick:this.close.bind(this)},"Политикой"),", а также даю согласие на рекламную рассылку, от которой можно отказаться в любой момент")})),n.createElement("div",{className:"loginErrText"},n.createElement(G.Z,{component:"span"})),n.createElement("div",{className:"loginLogin "+(this.state.checkedModalLoginCreate?"":"disable"),onClick:this.state.checkedModalLoginCreate?this.sendsmsNewLogin.bind(this):function(){}},n.createElement(G.Z,{component:"span"},"Создать аккаунт")),n.createElement("div",{className:"loginCreate",onClick:function(){e.setState({fromType:e.state.typeLogin,typeLogin:"start",checkedModalLoginCreate:!1})}},n.createElement(G.Z,{component:"span"},"У меня есть аккаунт"))),"finish"!=this.state.typeLogin?null:n.createElement(z.Z,{className:"modalLoginFinish"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG",style:{display:"none"}},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/like.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(G.Z,{component:"h2"},"Добро пожаловать")),n.createElement("div",{className:"loginSubHeader1"},n.createElement(G.Z,{component:"span"},"Теперь вы можете легко оформить онлайн-заказ с доставкой или забрать его самостоятельно из любого нашего кафе.")),n.createElement("div",{className:"loginSubHeader2"},n.createElement(G.Z,{component:"span"},n.createElement(o.OL,{to:"/"+this.state.cityName+"/profile",exact:!0,onClick:this.close.bind(this)},"Укажите в профиле")," день рождения и мы заренее пришлём вам промокод на приятный подарок.")),n.createElement(o.OL,{to:"/"+this.state.cityName+"/",exact:!0,className:"loginLogin",onClick:this.close.bind(this)},n.createElement(G.Z,{component:"span"},"Перейти в меню")),n.createElement(o.OL,{to:"/"+this.state.cityName+"/cart",exact:!0,className:"loginCreate",onClick:this.close.bind(this)},n.createElement(G.Z,{component:"span"},"Открыть корзину"))),"error"!=this.state.typeLogin?null:n.createElement(z.Z,{className:"modalLoginError"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close.bind(this)},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"InnerBorder"},n.createElement("div",{className:"loginHeader"},n.createElement(G.Z,{component:"h2"},this.state.errTitle)),n.createElement("div",{className:"loginSubHeader1"},n.createElement(G.Z,{component:"span"},this.state.errText1)),n.createElement("div",{className:"loginSubHeader2"},n.createElement(G.Z,{component:"span"},this.state.errText2))))))}}]),u}(n.Component),de=function(e){(0,m.Z)(a,e);var t=se(a);function a(e){var n,i,o;return(0,s.Z)(this,a),(o=t.call(this,e)).state={open:!1,cityName:null!==(n=o.props.cityName)&&void 0!==n?n:"",cityList:null!==(i=o.props.cityList)&&void 0!==i?i:[]},o}return(0,l.Z)(a,[{key:"componentDidUpdate",value:function(){var e,t;this.props.isOpen!=this.state.open&&this.setState({open:this.props.isOpen,cityName:null!==(e=this.props.cityName)&&void 0!==e?e:"",cityList:null!==(t=this.props.cityList)&&void 0!==t?t:[]})}},{key:"chooseCity",value:function(e){var t=this;setTimeout((function(){V.Z.saveCartData([]),localStorage.setItem("myCity",e),t.props.close(),window.location.reload()}),300)}},{key:"getNewLink",value:function(e){return"undefined"!=typeof window?window.location.pathname.replace(this.state.cityName,e):""}},{key:"render",value:function(){var e=this;return n.createElement(Q.Z,{open:this.props.isOpen,onClose:this.props.close,closeAfterTransition:!0,BackdropComponent:B.Z,BackdropProps:{timeout:500},className:"class123"},n.createElement(ce,{in:this.props.isOpen},n.createElement(z.Z,{className:"modalCity"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.props.close},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG"},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/img_other/account-icon-240x240.png"})),n.createElement("div",{className:"loginHeader"},n.createElement(G.Z,{component:"h2"},"Выберите город")),this.state.cityList.map((function(t,a){return n.createElement(o.OL,{key:a,className:e.state.cityName==t.link?"active":"",to:{pathname:e.getNewLink(t.link)},onClick:e.chooseCity.bind(e,t.link)},n.createElement(G.Z,{variant:"h5",component:"span",className:"ModalLabel"},t.name))})))))}}]),a}(n.Component),pe=function(e){(0,m.Z)(a,e);var t=se(a);function a(e){var n,i;return(0,s.Z)(this,a),(i=t.call(this,e)).state={open:!1,cityName:null!==(n=i.props.cityName)&&void 0!==n?n:"",link:""},i}return(0,l.Z)(a,[{key:"componentDidUpdate",value:function(){var e;!0===this.props.isOpen&&localStorage.setItem("vkBanner",345),this.props.isOpen!=this.state.open&&this.setState({open:this.props.isOpen,cityName:null!==(e=this.props.cityName)&&void 0!==e?e:"",link:"samara"===this.props.cityName?"https://vk.com/jacofood_smr":"https://vk.com/jacofood_tlt"})}},{key:"render",value:function(){return n.createElement(Q.Z,{open:this.props.isOpen,onClose:this.props.close,closeAfterTransition:!0,BackdropComponent:B.Z,BackdropProps:{timeout:500},className:"class123"},n.createElement(ce,{in:this.props.isOpen},n.createElement(z.Z,{className:"modalCity"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.props.close},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:"loginIMG",style:{marginTop:30}},n.createElement("img",{alt:"Login",title:"Login",src:"/assets/VKLogo.png"})),n.createElement("div",{className:"loginHeader",style:{height:"auto",marginTop:30,textAlign:"center"}},n.createElement(G.Z,{component:"span",style:{fontSize:"1.2rem"}},"Подпишитесь на ",n.createElement("a",{className:"link",style:{fontSize:"1.2rem",textDecoration:"underline",cursor:"pointer",color:"#525252"},href:this.state.link,target:"_blank"},"нашу группу Вконтакте"),", где мы рассказываем о новинках, проводим конкурсы и разыгрываем вкусные призы.")),n.createElement("a",{className:"loginHeader",style:{backgroundColor:"#0077FF",color:"#fff",width:"80%",borderRadius:"30px",display:"flex",justifyContent:"center",alignItems:"center",borderColor:"#0077FF",marginBottom:50},href:this.state.link,target:"_blank"},n.createElement(G.Z,{component:"span",style:{fontSize:"1.3rem",color:"#fff"}},"Жако Вконтакте")))))}}]),a}(n.Component);function he(e,t,a,n){var i=Math.abs(e);return(i%=100)>=5&&i<=20?n:1==(i%=10)?t:i>=2&&i<=4?a:n}var ue=function(e){(0,m.Z)(a,e);var t=se(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,h.Z)((0,c.Z)(n),"componentDidMount",(function(){(0,X.EH)((function(){var e=V.Z.getItems(),t=V.Z.getItemsPromo(),a=[];e.map((function(e){e.count>0&&(e.type,a.push(e))})),t.map((function(e){e.count>0&&(e.type,a.push(e))}));var i=0;a.map((function(e){i+=parseInt(e.count)})),n.setState({allCount:i,allPrice:V.Z.getSumDiv()+V.Z.getAllPrice(),thisPage:V.Z.getPage(),auth:!!V.Z.getToken()})}))})),n.state={allPrice:0,allCount:0,thisPage:"",auth:!1},n}return(0,l.Z)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.allPrice!==t.allPrice||this.state.thisPage!==t.thisPage||this.state.auth!==t.auth}},{key:"render",value:function(){var e=V.Z.getCity();return"cart"==this.state.thisPage?null:n.createElement(j.Z,{className:"bottomNavigateNew",sx:{position:"fixed",bottom:0,left:0,right:0},elevation:3},!0===this.state.auth?n.createElement(o.OL,{to:"/"+e+"/cart",exact:!0,className:"MuiButtonBase-root MuiBottomNavigationAction-root"},parseInt(this.state.allCount)>0?n.createElement("span",{className:"textPrice"},this.state.allCount," ",he(this.state.allCount,"товар","товара","товаров")," на ",new Intl.NumberFormat("ru-RU").format(this.state.allPrice)," ",n.createElement(Y.Ir,{style:{width:14,height:14,fill:"#525252",marginLeft:0,paddingBottom:0}})):"Оформить заказ"):n.createElement(G.Z,{component:"span",className:"MuiButtonBase-root MuiBottomNavigationAction-root",onClick:this.props.openLogin},parseInt(this.state.allCount)>0?n.createElement("span",{className:"textPrice"},this.state.allCount," ",he(this.state.allCount,"товар","товара","товаров")," на ",new Intl.NumberFormat("ru-RU").format(this.state.allPrice)," ",n.createElement(Y.Ir,{style:{width:14,height:14,fill:"#525252",marginLeft:0,paddingBottom:0}})):"Оформить заказ"))}}]),a}(n.Component),ge=function(e){(0,m.Z)(a,e);var t=se(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,h.Z)((0,c.Z)(n),"_isMounted",!1),(0,h.Z)((0,c.Z)(n),"componentDidMount",(function(){n._isMounted=!0,localStorage.getItem("promo_name")&&localStorage.getItem("promo_name").length>0&&(n.setState({promoName:localStorage.getItem("promo_name")}),setTimeout((function(){n.checkPromo()}),1e3));var e=V.Z.getAllItems(),t=V.Z.getItems(),a=V.Z.getItemsPromo(),i=[];t.map((function(e){e.count>0&&(e.type,i.push(e))})),a.map((function(e){e.count>0&&(e.type,i.push(e))}));var o=V.Z.getSumDiv(),r=0;i.map((function(e){o+=parseInt(e.one_price)*parseInt(e.count),r+=parseInt(e.count)})),i.map((function(t,a){var n=e.find((function(e){return parseInt(e.id)==parseInt(t.item_id)}));i[a].is_sale=parseInt(t.all_price)!=parseInt(t.count)*parseInt(t.one_price),i[a].img_new=n.img_new,i[a].img_new_update=n.img_new_update,i[a].img_app=n.img_app})),n.setState({cartItems:i,originPrice:o,countCart:r}),(0,X.EH)((function(){if(n._isMounted){var e=V.Z.getPromoStatus();n.setState({allPrice:V.Z.getSumDiv()+V.Z.getAllPrice(),promoText:e.text,promoST:e.st});var t=V.Z.getAllItems(),a=V.Z.getItems(),i=V.Z.getItemsPromo(),o=[];a.map((function(e){e.count>0&&(e.type="us",o.push(e))})),i.map((function(e){e.count>0&&(e.type="promo",o.push(e))})),o.map((function(e,a){var n=t.find((function(t){return parseInt(t.id)==parseInt(e.item_id)}));o[a].is_sale=parseInt(e.all_price)!=parseInt(e.count)*parseInt(e.one_price),o[a].img_new=n.img_new,o[a].img_new_update=n.img_new_update,o[a].img_app=n.img_app}));var r=V.Z.getSumDiv(),s=0;o.map((function(e){r+=parseInt(e.one_price)*parseInt(e.count),s+=parseInt(e.count)})),n.setState({originPrice:r,cartItems:o,sumDiv:V.Z.getSumDiv(),promoName:localStorage.getItem("promo_name")?localStorage.getItem("promo_name"):"",countCart:s})}}))})),(0,h.Z)((0,c.Z)(n),"handleClick",(function(e){Boolean(n.state.anchorEl)?n.handleClose():"cart"!==V.Z.getPage()?n.setState({anchorEl:document.getElementById("headerNew")}):n.handleClose()})),(0,h.Z)((0,c.Z)(n),"handleClose",(function(){n.setState({anchorEl:null})})),n.state={anchorEl:null,cartItems:[],originPrice:0,allPrice:0,sumDiv:0,countCart:0,promoName:"",promoText:"",promoST:!1},n}return(0,l.Z)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(e){V.Z.AddItem(e)}},{key:"minus",value:function(e){V.Z.MinusItem(e)}},{key:"checkPromo",value:function(){V.Z.getInfoPromo(this.state.promoName)}},{key:"changePromo",value:function(e){this.setState({promoName:e.target.value})}},{key:"checkPromoKey",value:function(e){13==parseInt(e.keyCode)&&this.checkPromo()}},{key:"render",value:function(){var e=this,t=Boolean(this.state.anchorEl),a=t?"simple-popover":void 0;return n.createElement("div",{style:{width:"12.27%",minWidth:"max-content"}},n.createElement("div",{"aria-describedby":a,style:{width:"100%",minWidth:"max-content"},className:parseInt(this.state.countCart)>0?"headerCart count":"headerCart",onClick:this.handleClick.bind(this)},n.createElement("span",null,"Корзина"),parseInt(this.state.countCart)>0?n.createElement("div",null,this.state.countCart):null),n.createElement(U.ZP,{id:a,open:t,anchorEl:this.state.anchorEl,onClose:this.handleClose.bind(this),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},style:{zIndex:1100}},n.createElement("div",null,n.createElement("table",{className:"TableMini"},n.createElement("tbody",null,this.state.cartItems.map((function(t,a){return"us"==t.type?n.createElement("tr",{key:a},n.createElement("td",{className:"CellPic"},t.img_app.length>0?n.createElement("picture",null,n.createElement("source",{type:"image/webp",srcset:"\n                                                                https://cdnimg.jacofood.ru/".concat(t.img_app,"_138x138.webp 138w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_146x146.webp 146w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_183x183.webp 183w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_233x233.webp 233w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_292x292.webp 292w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_366x366.webp 366w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_584x584.webp 584w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_760x760.webp 760w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("source",{type:"image/jpeg",srcset:"\n                                                                https://cdnimg.jacofood.ru/".concat(t.img_app,"_138x138.jpg 138w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_146x146.jpg 146w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_183x183.jpg 183w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_233x233.jpg 233w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_292x292.jpg 292w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_366x366.jpg 366w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_584x584.jpg 584w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_760x760.jpg 760w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:t.name,title:t.name,src:"https://cdnimg.jacofood.ru/".concat(t.img_app,"_276x276.jpg")})):n.createElement("picture",null,n.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+t.img_new+"600х400.webp?"+t.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://cdnimg.jacofood.ru/"+t.img_new+"600х400.jpg?"+t.img_new_update,alt:t.name,title:t.name}))),n.createElement("td",{className:"TableMiniName CellName"},n.createElement("span",{style:{height:40,width:"100%",display:"flex",alignItems:"center"}},t.name)),n.createElement("td",{className:"CellButton"},n.createElement(Y.WY,{count:t.count,item_id:t.item_id,minus:e.minus.bind(e),add:e.add.bind(e)})),!0===t.is_sale&&!0===e.state.promoST?n.createElement("td",{className:"CellPrice2"},n.createElement("div",{className:"TableMiniPrice"},n.createElement("div",null,new Intl.NumberFormat("ru-RU").format(parseInt(t.one_price)*parseInt(t.count)),n.createElement(Y.Ir,{style:{width:13,height:13,fill:"rgba(27, 27, 31, 0.2)",marginLeft:5}}))),n.createElement("div",{className:"TableMiniPrice"},new Intl.NumberFormat("ru-RU").format(t.all_price),n.createElement(Y.Ir,{style:{width:13,height:13,fill:"#525252",marginLeft:5}}))):n.createElement("td",{className:"CellPrice"},n.createElement("div",{className:"TableMiniPrice"},new Intl.NumberFormat("ru-RU").format(parseInt(t.one_price)*parseInt(t.count)),n.createElement(Y.Ir,{style:{width:13,height:13,fill:"#525252",marginLeft:5}})))):n.createElement("tr",{key:a},n.createElement("td",{className:"CellPic"},t.img_app.length>0?n.createElement("picture",null,n.createElement("source",{type:"image/webp",srcset:"\n                                                                https://cdnimg.jacofood.ru/".concat(t.img_app,"_138x138.webp 138w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_146x146.webp 146w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_183x183.webp 183w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_233x233.webp 233w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_292x292.webp 292w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_366x366.webp 366w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_584x584.webp 584w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_760x760.webp 760w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_1875x1875.webp 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("source",{type:"image/jpeg",srcset:"\n                                                                https://cdnimg.jacofood.ru/".concat(t.img_app,"_138x138.jpg 138w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_146x146.jpg 146w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_183x183.jpg 183w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_233x233.jpg 233w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_292x292.jpg 292w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_366x366.jpg 366w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_584x584.jpg 584w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_760x760.jpg 760w,\n                                                                https://cdnimg.jacofood.ru/").concat(t.img_app,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:t.name,title:t.name,src:"https://cdnimg.jacofood.ru/".concat(t.img_app,"_276x276.jpg")})):n.createElement("picture",null,n.createElement("source",{srcSet:"https://cdnimg.jacofood.ru/"+t.img_new+"600х400.webp?"+t.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://cdnimg.jacofood.ru/"+t.img_new+"600х400.jpg?"+t.img_new_update,alt:t.name,title:t.name}))),n.createElement("td",{className:"TableMiniName CellName"},n.createElement("span",{style:{height:40,width:"100%",display:"flex",alignItems:"center"}},t.name)),n.createElement("td",{className:"CellButtonPrize",colSpan:"2"},n.createElement(Y.cZ,{count:t.count,price:t.all_price})))}))),n.createElement("tfoot",null,n.createElement("tr",null,n.createElement("td",null,"Итого:"),n.createElement("td",null,this.state.originPrice!=this.state.allPrice&&!0===this.state.promoST?n.createElement("div",{className:"originPrice"},n.createElement("span",null,new Intl.NumberFormat("ru-RU").format(this.state.originPrice),n.createElement(Y.Ir,{style:{width:14,height:14,fill:"rgba(27,27,31,0.2)",marginLeft:5}}))):n.createElement("div",null,new Intl.NumberFormat("ru-RU").format(this.state.originPrice),n.createElement(Y.Ir,{style:{width:14,height:14,fill:"#525252",marginLeft:5}})))))),n.createElement("div",{className:"SpacePromoRoot"},n.createElement(j.Z,{component:"div",className:"SpacePromo",elevation:0},n.createElement(O.ZP,{onBlur:this.checkPromo.bind(this),value:this.state.promoName,onKeyDown:this.checkPromoKey.bind(this),onChange:this.changePromo.bind(this),placeholder:"Есть промокод"}),this.state.promoText.length>0?n.createElement("div",{className:!0===this.state.promoST?"promoIndicator true":"promoIndicator false"}):null),this.state.originPrice!=this.state.allPrice&&!0===this.state.promoST?n.createElement("div",{className:"DescPromoPrice"},new Intl.NumberFormat("ru-RU").format(this.state.allPrice),n.createElement(Y.Ir,{style:{width:14,height:14,fill:"#525252",marginLeft:5}})):null,this.state.promoText.length>0&&!1===this.state.promoST?n.createElement("div",{className:"DescPromo"},n.createElement(G.Z,{className:"cat",variant:"h5",component:"span"},this.state.promoText)):null),n.createElement("div",{className:"InCart"},null!==V.Z.getToken()?n.createElement(o.OL,{to:"/"+V.Z.getCity()+"/cart",exact:!0,style:{textDecoration:"none"},onClick:this.handleClose.bind(this)},n.createElement(F.Z,{disableElevation:!0,disableRipple:!0,variant:"contained"},n.createElement(W.Z,{variant:"contained"},"Оформить заказ"))):n.createElement(F.Z,{disableElevation:!0,disableRipple:!0,variant:"contained"},n.createElement(W.Z,{variant:"contained",onClick:this.props.openLogin},"Оформить заказ"))))))}}]),a}(n.Component),fe=function(e){(0,m.Z)(a,e);var t=se(a);function a(){return(0,s.Z)(this,a),t.apply(this,arguments)}return(0,l.Z)(a,[{key:"render",value:function(){return n.createElement(ye,{data:this.props.data,city:this.props.city,this_link:this.props.this_link})}}]),a}(n.Component),ye=function(e){(0,m.Z)(a,e);var t=se(a);function a(e){var n;(0,s.Z)(this,a),n=t.call(this,e),(0,h.Z)((0,c.Z)(n),"componentDidMount",(function(){setTimeout((function(){if(localStorage.getItem("myCity")&&localStorage.getItem("myCity").length>0&&localStorage.getItem("myCity")!==n.state.cityName){var e=window.location.pathname;n.state.cityName.length>0&&(window.location.pathname=e.replace(n.state.cityName,localStorage.getItem("myCity")))}var t=V.Z.getUserName(),a=V.Z.getToken();n.setState({token:localStorage.getItem("token")&&0!=localStorage.getItem("token").length?localStorage.getItem("token"):""}),a&&0==a.length&&localStorage.getItem("token")&&localStorage.getItem("token").length>0&&n.setToken(localStorage.getItem("token"),""),t.length>0&&(V.Z.setUserName(t),n.setState({userName:t}));var i=V.Z.getCartData();if((i.orderType||0==i.orderType)&&0==i.orderType&&i.orderAddr&&i.orderAddr.id&&-1!==i.orderAddr.id){var o=V.Z.getAllPrice();1==parseInt(i.orderAddr.free_drive)?parseInt(o)>0?V.Z.setSumDiv(0):V.Z.setSumDiv(1):V.Z.setSumDiv(parseInt(i.orderAddr.sum_div))}n.setState({is_load:!0}),n.load()}),300),(0,X.EH)((function(){n.setState({activePage:V.Z.getPage()}),n.setState({token:localStorage.getItem("token")&&0!=localStorage.getItem("token").length?localStorage.getItem("token"):""}),V.Z.getCity()!==n.state.cityName&&(n.setState({cityName:V.Z.getCity()}),n.load());var e=V.Z.getUserName();e&&0!=e.length&&n.setState({userName:e})}))})),(0,h.Z)((0,c.Z)(n),"handleClick",(function(e){n.setState({anchorEl:e.currentTarget})})),(0,h.Z)((0,c.Z)(n),"handleClose",(function(){n.setState({anchorEl:null})}));var i=[],o=[],r="";if(n.props&&n.props.data){n.is_load=!0;try{V.Z.setDops(n.props.data.all.other.cats.need_dop)}catch(e){}try{V.Z.setAllItems(n.props.data.all.other.cats.all_items)}catch(e){}try{V.Z.setAllItemsCat(n.props.data.all.other.cats.arr),o=n.props.data.all.other.cats.arr}catch(e){}try{V.Z.setAllItemsCatNew(n.props.data.all.other.cats.main_cat),i=n.props.data.all.other.cats.main_cat}catch(e){}try{V.Z.setFreeItems(n.props.data.all.other.cats.free_items)}catch(e){}try{V.Z.setBanners(n.props.data.all.other.cats.baners)}catch(e){}try{V.Z.setCityRU(n.props.data.all.other.cats.this_city_name_ru),r=n.props.data.all.other.cats.this_city_name_ru}catch(e){}try{V.Z.setCity(n.props.city)}catch(e){}}return n.state={this_link:n.props.this_link?n.props.this_link:"",categoryItemsNew:i,categoryItems:o,cartItems:[],activePage:"",is_load:!1,is_load_new:!1,openCity:!1,cityName:n.props.city?n.props.city:"",testData:[1,2,3,4],cityList:[],openLoginNew:!1,userName:"",token:"",soc_link:null,openDrawer:!1,anchorEl:null,cityNameRu:r.length>0?r:"Город",is_open_text_msg:!1,linkYaAuth:"",modalbannerVK:!1},n}return(0,l.Z)(a,[{key:"load",value:function(){var e=this;V.Z.getCity()&&fetch(J().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:le.stringify({type:"get_cat_web",city_id:V.Z.getCity(),user_id:V.Z.getToken()})}).then((function(e){return e.json()})).then((function(t){V.Z.setUserName(t.user_name),V.Z.setDops(t.need_dop),V.Z.setAllItems(t.all_items),V.Z.setAllItemsCat(t.arr),V.Z.setAllItemsCatNew(t.main_cat),V.Z.setFreeItems(t.free_items),V.Z.setBanners(t.baners),V.Z.setCityRU(t.this_city_name_ru),e.setState({cityList:t.city_list,categoryItems:t.arr,categoryItemsNew:t.main_cat,is_load:!0,cityNameRu:t.this_city_name_ru,userName:t.user_name}),e.is_load=!1,localStorage.getItem("myCity")&&0!=localStorage.getItem("myCity").length||e.setState({openCity:!0}),localStorage.getItem("myCity")&&localStorage.getItem("myCity").length>0&&(localStorage.getItem("vkBanner")&&0!=localStorage.getItem("vkBanner").length||e.setState({modalbannerVK:!0}))})).catch((function(e){}))}},{key:"openCity",value:function(){this.setState({openCity:!0})}},{key:"closeCity",value:function(){this.setState({openCity:!1})}},{key:"closeVKBanner",value:function(){this.setState({modalbannerVK:!1})}},{key:"openLogin",value:function(){var e=this;localStorage.getItem("token")&&localStorage.getItem("token").length>0?fetch(J().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:le.stringify({type:"get_user_data",user_id:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(t){V.Z.setToken(localStorage.getItem("token"),t),V.Z.setUserName(t),e.is_load=!1,e.setState({userName:t,token:localStorage.getItem("token")}),"undefined"!=typeof window&&(window.location.pathname="/"+e.state.cityName+"/profile")})).catch((function(e){})):fetch(J().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:le.stringify({city:this.state.cityName,type:"getYaLinkAuth"})}).then((function(e){return e.json()})).then((function(t){e.setState({linkYaAuth:t,openLoginNew:!0})})).catch((function(e){}))}},{key:"closeLogin",value:function(){this.setState({openLoginNew:!1})}},{key:"toggleDrawer",value:function(e){this.setState({openDrawer:e})}},{key:"close_text_msg",value:function(){this.setState({is_open_text_msg:!1})}},{key:"render",value:function(){var e=this,t=this.props.this_link,a=(t=t.split("/")).find((function(e){return"menu"==e}));if(a&&a.length>0){var i=t.find((function(e){return"item"==e}));if(!i){var r=t.findIndex((function(e){return"menu"==e}));t[r+1]}}if("undefined"!=typeof window){var s=window.location.href;if(this.state.this_link!=s&&(t=(t=s).split("/"),a=t.find((function(e){return"menu"==e})),a&&a.length>0)){var l=t.find((function(e){return"item"==e}));if(!l){var c=t.findIndex((function(e){return"menu"==e}));t[c+1]}}}return n.createElement(z.Z,{sx:{flexGrow:1}},n.createElement(D.Z,{position:"fixed",className:"headerNew",id:"headerNew",elevation:2,sx:{display:{xs:"none",md:"block"}}},n.createElement(M.Z,null,n.createElement("div",{style:{width:"4.51%"}}),n.createElement(o.OL,{to:"/",style:{width:"14.8%"}},n.createElement("img",{alt:"Жако доставка роллов и пиццы",src:"/assets/jaco-logo.png",style:{width:"100%"}})),n.createElement("div",{style:{width:"2.53%"}}),n.createElement("a",{style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"},onClick:this.openCity.bind(this)},n.createElement("span",{className:"headerCat"},this.state.cityNameRu)),n.createElement("div",{style:{width:"0.36%"}}),this.state.categoryItemsNew.map((function(t,i){return"home"!=e.state.activePage||a?n.createElement(n.Fragment,{key:i},n.createElement(o.OL,{to:"/"+e.state.cityName,name:t.main_link,style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"},onClick:function(){"undefined"==typeof window||localStorage.setItem("goTo",t.id)}},n.createElement("span",{className:"headerCat"},t.name)),n.createElement("div",{style:{width:"0.36%"}})):n.createElement(n.Fragment,{key:i},n.createElement(q.rU,{to:"cat"+t.id,spy:!0,isDynamic:!0,onSetActive:function(e){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),document.querySelector("#link_"+t.id).classList.add("activeCat")},smooth:!0,offset:-120,style:{width:"7.22%",minWidth:"max-content"}},n.createElement("span",{className:"headerCat",name:t.main_link,id:"link_"+t.id},t.name)),n.createElement("div",{style:{width:"0.36%"}}))})),n.createElement(o.OL,{to:"/"+this.state.cityName+"/akcii",style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"}},n.createElement("span",{className:"actii"==this.state.activePage?"headerCat activeCat":"headerCat"},"Акции")),n.createElement("div",{style:{width:"0.36%"}}),this.state.token.length>0?(this.state.userName.length,n.createElement(o.OL,{to:"/"+this.state.cityName+"/profile",style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"}},n.createElement("span",{className:"profile"==this.state.activePage?"headerCat activeCat":"headerCat"},"Профиль"))):n.createElement("a",{style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"},onClick:this.openLogin.bind(this)},n.createElement("span",{className:"headerCat"},"Войти")),n.createElement("div",{style:{width:"0.36%"}}),n.createElement(o.OL,{to:"/"+this.state.cityName+"/contacts",style:{width:"7.22%",minWidth:"max-content",textDecoration:"none"}},n.createElement("span",{className:"contacts"==this.state.activePage?"headerCat activeCat":"headerCat"},"Контакты")),n.createElement("div",{style:{width:"3.25%"}}),n.createElement(ge,{openLogin:this.openLogin.bind(this)}),n.createElement("div",{style:{width:"4.51%"}}))),n.createElement(D.Z,{position:"fixed",className:"headerNewMobile",id:"headerNewMobile",elevation:2,sx:{display:{xs:"block",md:"none"}}},n.createElement(M.Z,null,n.createElement(o.OL,{to:"/"},n.createElement("img",{alt:"Жако доставка роллов и пиццы",src:"/assets/Logomini.png",style:{height:40}})),n.createElement(n.Fragment,null,n.createElement(Y.ZR,{onClick:this.toggleDrawer.bind(this,!0),style:{padding:20,marginRight:-20}}),n.createElement(te.Z,{anchor:"right",open:this.state.openDrawer,onClose:this.toggleDrawer.bind(this,!1),onOpen:this.toggleDrawer.bind(this,!0)},n.createElement(ae.Z,{className:"LinkList"},n.createElement(ne.ZP,{disablePadding:!0,onClick:function(){e.toggleDrawer(!1),e.openCity()}},n.createElement("a",null,this.state.cityNameRu)),n.createElement(ne.ZP,{disablePadding:!0,onClick:this.toggleDrawer.bind(this,!1)},n.createElement(o.OL,{to:"/"+this.state.cityName},"Меню")),n.createElement(ne.ZP,{disablePadding:!0,onClick:this.toggleDrawer.bind(this,!1)},n.createElement(o.OL,{to:"/"+this.state.cityName+"/akcii"},"Акции")),0==this.state.token.length?n.createElement(ne.ZP,{disablePadding:!0,onClick:function(){e.toggleDrawer(!1),e.openLogin()}},n.createElement("a",null,"Профиль")):n.createElement(ne.ZP,{disablePadding:!0,onClick:this.toggleDrawer.bind(this,!1)},n.createElement(o.OL,{to:"/"+this.state.cityName+"/profile"},"Профиль")),n.createElement(ne.ZP,{disablePadding:!0,onClick:this.toggleDrawer.bind(this,!1)},n.createElement(o.OL,{to:"/"+this.state.cityName+"/contacts"},"Контакты"))))))),n.createElement(de,{isOpen:this.state.openCity,close:this.closeCity.bind(this),cityList:this.state.cityList,cityName:this.state.cityName}),n.createElement(me,{isOpen:this.state.openLoginNew,linkYaAuth:this.state.linkYaAuth,cityName:this.state.cityName,close:this.closeLogin.bind(this)}),n.createElement(pe,{isOpen:this.state.modalbannerVK,close:this.closeVKBanner.bind(this),cityName:this.state.cityName}),n.createElement(Q.Z,{open:this.state.is_open_text_msg,onClose:this.close_text_msg.bind(this),closeAfterTransition:!0,BackdropComponent:B.Z,BackdropProps:{timeout:500},className:"class123"},n.createElement(ce,{in:this.state.is_open_text_msg},n.createElement(z.Z,{className:"modalCity"},n.createElement(H.Z,{style:{position:"absolute",top:-40,left:15,backgroundColor:"transparent"},onClick:this.close_text_msg.bind(this)},n.createElement(Y.bM,{style:{width:25,height:25,fill:"#fff",color:"#fff",overflow:"visible"}})),n.createElement("div",{className:""},n.createElement(G.Z,{component:"h4"},"Уважаемые клиенты!"),n.createElement(G.Z,{component:"h5"},"В связи с праздничным днем и большим объемом заказов, некоторые кафе могут временно не принимать новые."),n.createElement(G.Z,{component:"h5"},"Приносим извинения за неудобства."))))),n.createElement(z.Z,{sx:{display:{md:"none",lg:"none",xl:"none"}}},n.createElement(ue,{openLogin:this.openLogin.bind(this)})))}}]),a}(n.Component),_e=a(5725),ve=a(594),Ee=a(8585),be=a(3977),we=a(2133),xe=a(6420);function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,d.Z)(this,a)}}var Ce=a(7563),Ie={itemsStore:V.Z},ke=a(5152),Se=null;function Pe(e){var t=e.code,a=e.children;return n.createElement(f.AW,{render:function(e){var n=e.staticContext;return n&&(n.status=t),a}})}function Ne(){return n.createElement(Pe,{code:404},n.createElement(_e.ZP,{container:!0,className:"Contact mainContainer MuiGrid-spacing-xs-3",style:{marginTop:64}},n.createElement(_e.ZP,{item:!0,xs:12},n.createElement(G.Z,{variant:"h5",component:"h1"},"404 Страница не найдена"))))}var Te=function(e){(0,m.Z)(a,e);var t=Ze(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,h.Z)((0,c.Z)(n),"componentDidMount",(function(){n.setState({page:V.Z.getPage()}),(0,X.EH)((function(){n.setState({cityName:V.Z.getCity()}),n.setState({page:V.Z.getPage()}),n.loadPageInfo()})),localStorage.getItem("setCookie")&&localStorage.getItem("setCookie").length>0&&n.setState({setCookie:!1})})),n.state={soc_link:null,cityName:n.props.cityName,is_load:!1,page:"",setCookie:!0},n}return(0,l.Z)(a,[{key:"loadPageInfo",value:function(){var e=this;V.Z.getCity()&&fetch(J().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ce.stringify({type:"get_page_info",city_id:V.Z.getCity(),page:"info"})}).then((function(e){return e.json()})).then((function(t){e.setState({soc_link:t.soc_link,is_load:!0})})).catch((function(e){}))}},{key:"setCookie",value:function(){localStorage.setItem("setCookie",!0),this.setState({setCookie:!1})}},{key:"render",value:function(){return n.createElement("footer",{className:"footer "+("cart"==this.state.page?this.state.page:"")},this.state.setCookie?n.createElement("div",{className:"footerLegal"},n.createElement(G.Z,{component:"span",style:{fontSize:"0.7rem"}},"Мы используем файлы «Cookie» и систему «Яндекс.Метрика» для сбора и анализа информации о производительности и использовании сайта. Продолжая пользоваться сайтом, вы соглашаетесь на размещение файлов «Cookie» и ",n.createElement(o.OL,{to:"/"+this.state.cityName+"/politika-legal",style:{textDecoration:"none"}},"обработку данных.")),n.createElement(ve.Z,{style:{width:25,height:25,fill:"#000",color:"#000",overflow:"visible",cursor:"pointer"},onClick:this.setCookie.bind(this)})):null,n.createElement(_e.ZP,{container:!0,className:"mainContainer"},n.createElement(_e.ZP,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12},n.createElement(o.OL,{to:"/"+this.state.cityName+"/about",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"О Компании")),n.createElement("a",{href:"https://franchise.jacofood.ru",target:"_blank",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"Франшиза Жако")),n.createElement(o.OL,{to:"/"+this.state.cityName+"/jobs",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"Вакансии")),n.createElement(o.OL,{to:"/"+this.state.cityName+"/publichnaya-oferta",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"Публичная оферта")),n.createElement(o.OL,{to:"/"+this.state.cityName+"/company-details",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"Реквизиты")),this.state.is_load&&this.state.soc_link&&this.state.soc_link.link_allergens.length?n.createElement(o.OL,{to:{pathname:this.state.soc_link.link_allergens},target:"_blank",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"Калорийность, состав и аллергены")):null),n.createElement(_e.ZP,{item:!0,lg:6,md:6,sm:6,xl:6,xs:12},n.createElement(o.OL,{to:"/"+this.state.cityName+"/politika-konfidencialnosti",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"Политика конфиденциальности")),n.createElement(o.OL,{to:"/"+this.state.cityName+"/contacts",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"Доставка и контакты")),n.createElement(o.OL,{to:"/"+this.state.cityName+"/instpayorders",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"Правила оплаты товаров")),n.createElement(o.OL,{to:"/"+this.state.cityName+"/legal",style:{textDecoration:"none"}},n.createElement(G.Z,{variant:"body1"},"Согласие на обработку персональных данных"))),this.state.is_load?n.createElement(_e.ZP,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12,className:"socIcons"},this.state.soc_link&&this.state.soc_link.link_ok?n.createElement(o.OL,{to:{pathname:this.state.soc_link.link_ok},target:"_blank",style:{textDecoration:"none"}},n.createElement(Y.lX,null)):null,this.state.soc_link&&this.state.soc_link.link_vk?n.createElement(o.OL,{to:{pathname:this.state.soc_link.link_vk},target:"_blank",style:{textDecoration:"none"}},n.createElement(Y.Km,null)):null,n.createElement(o.OL,{to:{pathname:"https://t.me/jacofood"},target:"_blank",style:{textDecoration:"none"}},n.createElement(Y.SV,null))):null,n.createElement(_e.ZP,{item:!0,lg:12,md:12,sm:12,xl:12,xs:12,className:"copy",style:{marginTop:50}},n.createElement(G.Z,{variant:"body1",component:"span"},"2017 - ",(new Date).getFullYear()," © Жако"))))}}]),a}(n.Component);function Ae(e){return e=(e=e.split("/")).filter((function(e){return""!=e})),e[0]}var De=function(e){(0,m.Z)(i,e);var t,a=Ze(i);function i(e){var t;return(0,s.Z)(this,i),t=a.call(this,e),(0,h.Z)((0,c.Z)(t),"getData",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return 1==(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&t.setState({is_load:!0}),a.type=e,fetch(J().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ce.stringify(a)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){setTimeout((function(){t.setState({is_load:!1})}),300),console.log(e)}))})),(0,h.Z)((0,c.Z)(t),"componentDidMount",(function(){if(Se=(0,be.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),(0,we.IH)(Se),(0,xe.r)(Se),!t.props.globalState){var e=window.location.pathname,a=e.split("/");a=a.filter((function(e){return""!=e})),a=a[0],ke.find((function(t){return(0,f.LX)(e,t)}))&&t.getData1(e)}(0,X.EH)((function(){t.setState({activePage:V.Z.getPage()}),t.setState({cityName:V.Z.getCity()})}))})),t.state={categoryItems:[],cartItems:[],activePage:"",is_load:!1,openCity:!1,cityName:"",testData:[1,2,3,4,5,6,7,8,9],cityList:[],openLogin:!1,userLogin:"",userLoginFormat:"",userCode:"",stage_1:!0,stage_2:!1,timerSMS:59,errPhone:"",errSMS:"",userName:"",soc_link:null,globalState:null},t}return(0,l.Z)(i,[{key:"getData1",value:(t=(0,r.Z)(g().mark((function e(t){var a,n,i,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={city_id:Ae(t),page:"",link:t},e.next=3,this.getData("get_page_info",a);case 3:n=e.sent,i={title:n.page?n.page.title:"",description:n.page?n.page.description:"",page:n.page,cats:n.cats,allItems:n.allItems,all:n},o={data:i,city:Ae(t),this_link:t,linkItem:"",Item:null},this.setState({globalState:o});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"shouldComponentUpdate",value:function(e,t){return this.state.activePage!==t.activePage||this.state.cityName!==t.cityName||this.state.globalState!==t.globalState}},{key:"render",value:function(){return this.props.globalState?this.props.globalState?n.createElement(Ee.zt,Ie,n.createElement("div",{className:"home"},n.createElement(f.rs,null,n.createElement(f.AW,{path:"/:cityName/contacts",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(v.Contact,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/akcii/:act_id",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(E.Actii,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/akcii",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(E.Actii,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/menu",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(y.Home,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link,device:this.props.device})),n.createElement(f.AW,{path:"/:cityName",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(y.Home,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link,device:this.props.device})),n.createElement(f.AW,{path:"/:cityName/item/:id",exact:!0},n.createElement(fe,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(_.Item,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link,linkItem:this.props.globalState.linkItem,item:this.props.globalState.Item}))),n.createElement(f.AW,{path:"/:cityName/menu/:catLink/:itemId",exact:!0},n.createElement(fe,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(_.Item,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link,linkItem:this.props.globalState.linkItem,item:this.props.globalState.Item}))),n.createElement(f.AW,{exact:!0,path:"/:cityName/profile/"},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(b.Profile,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/menu/:itemLink",exact:!0},n.createElement(fe,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(y.HomeCat,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link,device:this.props.device})),n.createElement(f.AW,{path:"/:cityName/cart",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(w.Cart,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/about",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(x.PageAbout,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/jobs",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Z.PageJob,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/instpayorders",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(C.PageInstPay,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/publichnaya-oferta",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(I.PageOferta,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/politika-konfidencialnosti",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(k.PagePolitika,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/legal",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(S.PageLegal,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/politika-legal",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(P.PagePoliticLegal,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/company-details",exact:!0},n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(N.PageCompanyDetails,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(f.AW,{path:"/",exact:!0},n.createElement(f.l_,{push:!0,to:"/togliatti"})),n.createElement(f.AW,{path:"/profile",exact:!0},n.createElement(f.l_,{push:!0,to:"/togliatti"})),n.createElement(f.AW,null,n.createElement(ye,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Ne,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}))),"cart"==this.state.activePage?n.createElement(z.Z,{sx:{display:{md:"none",lg:"none",xl:"none"}}},n.createElement(z.Z,{sx:{display:{xs:"none"}}},n.createElement("div",{className:"456",style:{width:"100%",height:3,position:"fixed",bottom:72,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:69,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:66,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:63,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:60,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:57,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:54,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:51,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:48,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:45,zIndex:0,backgroundColor:"#bababa",opacity:.1}})),n.createElement(z.Z,{sx:{display:{sm:"none"}}},n.createElement("div",{className:"123",style:{width:"100%",height:3,position:"fixed",bottom:171,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:168,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:165,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:162,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:159,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:156,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:153,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:150,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:147,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:144,zIndex:0,backgroundColor:"#bababa",opacity:.1}}))):null,n.createElement(Te,{cityName:this.props.globalState.city}))):void 0:this.state.globalState?n.createElement(Ee.zt,Ie,n.createElement("div",{className:"home"},n.createElement(f.rs,null,n.createElement(f.AW,{path:"/:cityName/contacts",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(v.Contact,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/akcii/:act_id",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(E.Actii,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/akcii",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(E.Actii,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/menu",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(y.Home,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link,device:""})),n.createElement(f.AW,{path:"/:cityName",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(y.Home,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link,device:""})),n.createElement(f.AW,{path:"/:cityName/item/:id",exact:!0},n.createElement(fe,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(_.Item,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link,linkItem:this.state.globalState.linkItem,item:this.state.globalState.Item}))),n.createElement(f.AW,{path:"/:cityName/menu/:catLink/:itemId",exact:!0},n.createElement(fe,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(_.Item,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link,linkItem:this.state.globalState.linkItem,item:this.state.globalState.Item}))),n.createElement(f.AW,{exact:!0,path:"/:cityName/profile/"},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(b.Profile,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/menu/:itemLink",exact:!0},n.createElement(fe,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(y.HomeCat,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link,device:""})),n.createElement(f.AW,{path:"/:cityName/cart",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(w.Cart,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/about",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(x.PageAbout,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/jobs",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(Z.PageJob,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/instpayorders",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(C.PageInstPay,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/publichnaya-oferta",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(I.PageOferta,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/politika-konfidencialnosti",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(k.PagePolitika,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/legal",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(S.PageLegal,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/politika-legal",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(P.PagePoliticLegal,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/:cityName/company-details",exact:!0},n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(N.PageCompanyDetails,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link})),n.createElement(f.AW,{path:"/",exact:!0},n.createElement(f.l_,{push:!0,to:"/togliatti"})),n.createElement(f.AW,{path:"/profile",exact:!0},n.createElement(f.l_,{push:!0,to:"/togliatti"})),n.createElement(f.AW,null,n.createElement(ye,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}),n.createElement(Ne,{data:this.state.globalState.data,city:this.state.globalState.city,this_link:this.state.globalState.this_link}))),"cart"==this.state.activePage?n.createElement(z.Z,{sx:{display:{md:"none",lg:"none",xl:"none"}}},n.createElement(z.Z,{sx:{display:{xs:"none"}}},n.createElement("div",{className:"456",style:{width:"100%",height:3,position:"fixed",bottom:72,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:69,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:66,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:63,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:60,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:57,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:54,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:51,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:48,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:45,zIndex:0,backgroundColor:"#bababa",opacity:.1}})),n.createElement(z.Z,{sx:{display:{sm:"none"}}},n.createElement("div",{className:"123",style:{width:"100%",height:3,position:"fixed",bottom:171,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:168,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:165,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:162,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:159,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:156,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:153,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:150,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:147,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:144,zIndex:0,backgroundColor:"#bababa",opacity:.1}}))):null,n.createElement(Te,{cityName:this.state.globalState.city}))):n.createElement("h1",null,"LOAD ....")}}]),i}(n.Component);i.hydrate(n.createElement(o.VK,null,n.createElement(De,{globalState:GLOBAL_STATE,device:GLOBAL_DEVICE})),document.getElementById("app"))},8811:e=>{e.exports={urlApi:"https://jacochef.ru/api/site/test_app.php"}},6406:(e,t,a)=>{"use strict";a.d(t,{GP:()=>Z,Ir:()=>u,Km:()=>g,MG:()=>C,SV:()=>y,WY:()=>x,ZR:()=>b,bM:()=>E,cP:()=>w,cZ:()=>I,kX:()=>v,lX:()=>f,rZ:()=>k,t1:()=>_});var n=a(5671),i=a(3144),o=a(136),r=a(2963),s=a(1120),l=a(7462),c=a(7294),m=a(4659),d=a(2642),p=a(5116);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,r.Z)(this,a)}}function u(e){return c.createElement("svg",{style:e.style,xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 0 24 24"},c.createElement("path",{d:"M17.778 7.449a3.628 3.628 0 00-1.107-2.761l-.001-.001a4.03 4.03 0 00-2.923-1.057h.009-5.454v7.636h5.454a4.032 4.032 0 002.917-1.06l-.003.003a3.633 3.633 0 001.108-2.768v.007zm4.04 0a7.11 7.11 0 01-2.158 5.368l-.002.002a7.65 7.65 0 01-5.581 2.08h.015-5.795v2.011H16.926c.29 0 .525.235.525.525v.022-.001 2.203c0 .29-.235.525-.525.525h-.022.001-8.608v3.291a.537.537 0 01-.537.528H4.886a.525.525 0 01-.525-.525v-.022.001-3.273H.522a.525.525 0 01-.525-.525v-.022.001-2.182-.021c0-.29.235-.525.525-.525h.022-.001 3.818v-2.011H.522a.525.525 0 01-.525-.525v-.022.001-2.54-.006a.537.537 0 01.528-.537h.019-.001 3.818V.55.529c0-.29.235-.525.525-.525h.022-.001 9.187a7.653 7.653 0 015.57 2.084l-.004-.004a7.11 7.11 0 012.157 5.378v-.013z"}))}function g(e){return c.createElement("svg",{style:e.style,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},c.createElement("path",{d:"M31.4907 63.4907C0 94.9813 0 145.671 0 247.04V264.96C0 366.329 0 417.019 31.4907 448.509C62.9813 480 113.671 480 215.04 480H232.96C334.329 480 385.019 480 416.509 448.509C448 417.019 448 366.329 448 264.96V247.04C448 145.671 448 94.9813 416.509 63.4907C385.019 32 334.329 32 232.96 32H215.04C113.671 32 62.9813 32 31.4907 63.4907ZM75.6 168.267H126.747C128.427 253.76 166.133 289.973 196 297.44V168.267H244.16V242C273.653 238.827 304.64 205.227 315.093 168.267H363.253C359.313 187.435 351.46 205.583 340.186 221.579C328.913 237.574 314.461 251.071 297.733 261.227C316.41 270.499 332.907 283.63 346.132 299.751C359.357 315.873 369.01 334.618 374.453 354.747H321.44C316.555 337.262 306.614 321.61 292.865 309.754C279.117 297.899 262.173 290.368 244.16 288.107V354.747H238.373C136.267 354.747 78.0267 284.747 75.6 168.267Z"}))}function f(e){return c.createElement("svg",{style:e.style,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},c.createElement("path",{d:"M184.2 177.1c0-22.1 17.9-40 39.8-40s39.8 17.9 39.8 40c0 22-17.9 39.8-39.8 39.8s-39.8-17.9-39.8-39.8zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-305.1 97.1c0 44.6 36.4 80.9 81.1 80.9s81.1-36.2 81.1-80.9c0-44.8-36.4-81.1-81.1-81.1s-81.1 36.2-81.1 81.1zm174.5 90.7c-4.6-9.1-17.3-16.8-34.1-3.6 0 0-22.7 18-59.3 18s-59.3-18-59.3-18c-16.8-13.2-29.5-5.5-34.1 3.6-7.9 16.1 1.1 23.7 21.4 37 17.3 11.1 41.2 15.2 56.6 16.8l-12.9 12.9c-18.2 18-35.5 35.5-47.7 47.7-17.6 17.6 10.7 45.8 28.4 28.6l47.7-47.9c18.2 18.2 35.7 35.7 47.7 47.9 17.6 17.2 46-10.7 28.6-28.6l-47.7-47.7-13-12.9c15.5-1.6 39.1-5.9 56.2-16.8 20.4-13.3 29.3-21 21.5-37z"}))}function y(e){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",style:e.style},c.createElement("path",{d:"M248,8C111.033,8,0,119.033,0,256S111.033,504,248,504,496,392.967,496,256,384.967,8,248,8ZM362.952,176.66c-3.732,39.215-19.881,134.378-28.1,178.3-3.476,18.584-10.322,24.816-16.948,25.425-14.4,1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25,5.342-39.5,3.652-3.793,67.107-61.51,68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608,69.142-14.845,10.194-26.894,9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7,18.45-13.7,108.446-47.248,144.628-62.3c68.872-28.647,83.183-33.623,92.511-33.789,2.052-.034,6.639.474,9.61,2.885a10.452,10.452,0,0,1,3.53,6.716A43.765,43.765,0,0,1,362.952,176.66Z"}))}function _(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 80 80"},c.createElement("circle",{cx:"40",cy:"40",r:"39",stroke:"#DADADA",strokeWidth:"2"}),c.createElement("path",{stroke:"#DADADA",strokeLinecap:"round",strokeWidth:"4",d:"M40 34L40 62"}),c.createElement("circle",{cx:"40",cy:"22.667",r:"4",fill:"#DADADA"}))}function v(){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 80 80"},c.createElement("circle",{cx:"40",cy:"40",r:"40",fill:"#000",fillOpacity:"0.6"}),c.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:"4",d:"M40 34L40 62"}),c.createElement("circle",{cx:"40",cy:"22.666",r:"4",fill:"#fff"}))}function E(e){return c.createElement("svg",{style:e.style?e.style:null,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 64 64"},c.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:"3",d:"M2 2l60 60M62 2L2 62"}))}function b(e){return c.createElement("svg",(0,l.Z)({xmlns:"http://www.w3.org/2000/svg",width:"30",height:"23",fill:"none",viewBox:"0 0 30 23"},e),c.createElement("path",{stroke:"#B1B1B1",strokeLinecap:"round",strokeWidth:"3",d:"M1.5 1.5L28.5 1.5"}),c.createElement("path",{stroke:"#B1B1B1",strokeLinecap:"round",strokeWidth:"3",d:"M1.5 11.5L28.5 11.5"}),c.createElement("path",{stroke:"#B1B1B1",strokeLinecap:"round",strokeWidth:"3",d:"M1.5 21.5L28.5 21.5"}))}function w(e){return c.createElement("svg",{width:"200",height:"56",viewBox:"0 0 200 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"},c.createElement("rect",{width:"200",height:"56",rx:"28",fill:"black"}),c.createElement("rect",{x:"45",y:"16",width:"24",height:"24",rx:"12",fill:"#FC3F1D"}),c.createElement("path",{d:"M58.6912 35.212H61.1982V20.812H57.5516C53.8843 20.812 51.9574 22.6975 51.9574 25.4739C51.9574 27.6909 53.0141 28.9962 54.8995 30.3429L51.6259 35.212H54.3401L57.9867 29.7628L56.7228 28.9133C55.1896 27.8773 54.4437 27.0693 54.4437 25.3288C54.4437 23.7956 55.5211 22.7596 57.5723 22.7596H58.6912V35.212Z",fill:"white"}),c.createElement("path",{d:"M82.2067 25.128C82.2067 24.52 82.3133 23.992 82.5267 23.544C82.74 23.0853 83.0387 22.712 83.4227 22.424C83.8067 22.1253 84.2653 21.9013 84.7987 21.752C85.3427 21.6027 85.9453 21.528 86.6067 21.528H90.3347V33H88.3827V28.584H86.6067L83.6787 33H81.4227L84.6547 28.296C83.8227 28.0933 83.204 27.7253 82.7987 27.192C82.404 26.648 82.2067 25.96 82.2067 25.128ZM88.3827 26.968V23.208H86.5907C85.8653 23.208 85.284 23.352 84.8467 23.64C84.42 23.9173 84.2067 24.3973 84.2067 25.08C84.2067 25.752 84.3987 26.2373 84.7827 26.536C85.1667 26.824 85.7107 26.968 86.4147 26.968H88.3827Z",fill:"white"}),c.createElement("path",{d:"M97.9547 29.496H94.4507V33H92.5947V24.696H94.4507V27.992H97.9547V24.696H99.8107V33H97.9547V29.496Z",fill:"white"}),c.createElement("path",{d:"M101.668 31.496C101.913 31.2827 102.105 30.9893 102.244 30.616C102.393 30.2427 102.51 29.7787 102.596 29.224C102.681 28.6587 102.745 28.0027 102.788 27.256C102.83 26.5093 102.868 25.656 102.9 24.696H108.98V31.496H110.228V35.368H108.612L108.468 33H102.74L102.596 35.368H100.964V31.496H101.668ZM107.124 31.496V26.2H104.5C104.446 27.512 104.356 28.6 104.228 29.464C104.11 30.3173 103.913 30.9947 103.636 31.496H107.124Z",fill:"white"}),c.createElement("path",{d:"M118.382 32.392C118.265 32.4667 118.121 32.552 117.95 32.648C117.78 32.7333 117.577 32.8133 117.342 32.888C117.108 32.9627 116.836 33.0267 116.526 33.08C116.217 33.1333 115.865 33.16 115.47 33.16C113.945 33.16 112.804 32.7813 112.046 32.024C111.3 31.2667 110.926 30.2053 110.926 28.84C110.926 28.168 111.028 27.5653 111.23 27.032C111.433 26.4987 111.716 26.0507 112.078 25.688C112.441 25.3147 112.873 25.032 113.374 24.84C113.876 24.6373 114.425 24.536 115.022 24.536C115.641 24.536 116.196 24.6373 116.686 24.84C117.188 25.0427 117.598 25.3467 117.918 25.752C118.238 26.1573 118.457 26.6587 118.574 27.256C118.702 27.8533 118.708 28.552 118.59 29.352H112.846C112.921 30.1093 113.172 30.68 113.598 31.064C114.025 31.4373 114.692 31.624 115.598 31.624C116.26 31.624 116.809 31.544 117.246 31.384C117.694 31.2133 118.073 31.0373 118.382 30.856V32.392ZM115.022 26.008C114.478 26.008 114.02 26.1733 113.646 26.504C113.273 26.8347 113.028 27.3253 112.91 27.976H116.814C116.836 27.304 116.686 26.808 116.366 26.488C116.046 26.168 115.598 26.008 115.022 26.008Z",fill:"white"}),c.createElement("path",{d:"M122.889 29.624H122.169V33H120.313V24.696H122.169V28.12H122.953L125.593 24.696H127.545L124.409 28.696L127.673 33H125.481L122.889 29.624Z",fill:"white"}),c.createElement("path",{d:"M132.341 33.16C131.669 33.16 131.066 33.064 130.533 32.872C129.999 32.6693 129.546 32.3867 129.173 32.024C128.799 31.6507 128.511 31.1973 128.309 30.664C128.106 30.1307 128.005 29.5227 128.005 28.84C128.005 28.168 128.106 27.5653 128.309 27.032C128.511 26.4987 128.799 26.0507 129.173 25.688C129.546 25.3147 130.005 25.032 130.549 24.84C131.093 24.6373 131.701 24.536 132.373 24.536C132.949 24.536 133.45 24.6 133.877 24.728C134.314 24.856 134.661 25.016 134.917 25.208V26.744C134.586 26.5307 134.223 26.3653 133.829 26.248C133.445 26.1307 132.997 26.072 132.485 26.072C130.767 26.072 129.909 26.9947 129.909 28.84C129.909 30.6853 130.751 31.608 132.437 31.608C132.981 31.608 133.445 31.5493 133.829 31.432C134.223 31.304 134.586 31.144 134.917 30.952V32.488C134.639 32.6693 134.293 32.8293 133.877 32.968C133.461 33.096 132.949 33.16 132.341 33.16Z",fill:"white"}),c.createElement("path",{d:"M142.27 21.528V33H140.334V21.528H142.27Z",fill:"white"}),c.createElement("path",{d:"M144.724 21.528H148.596C149.407 21.528 150.159 21.6187 150.852 21.8C151.556 21.9813 152.164 22.28 152.676 22.696C153.199 23.112 153.604 23.6613 153.892 24.344C154.191 25.0267 154.34 25.8693 154.34 26.872C154.34 27.8853 154.191 28.776 153.892 29.544C153.604 30.3013 153.194 30.936 152.66 31.448C152.138 31.96 151.513 32.3493 150.788 32.616C150.073 32.872 149.29 33 148.436 33H144.724V21.528ZM146.66 23.208V31.336H148.5C149.065 31.336 149.577 31.2507 150.036 31.08C150.505 30.9093 150.906 30.648 151.236 30.296C151.578 29.944 151.839 29.496 152.02 28.952C152.212 28.3973 152.308 27.7413 152.308 26.984C152.308 26.2373 152.217 25.624 152.036 25.144C151.855 24.6533 151.599 24.264 151.268 23.976C150.948 23.688 150.564 23.4907 150.116 23.384C149.668 23.2667 149.183 23.208 148.66 23.208H146.66Z",fill:"white"}))}var x=function(e){(0,o.Z)(a,e);var t=h(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(m.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"MiniActionsCartButton"},c.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN"},c.createElement("button",{className:"minus",onClick:this.props.minus.bind(this,this.props.item_id)},"–"),c.createElement("span",null,this.props.count),c.createElement("button",{className:"plus",onClick:this.props.add.bind(this,this.props.item_id)},"+")))}}]),a}(c.PureComponent),Z=function(e){(0,o.Z)(a,e);var t=h(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(m.Z,{disableElevation:!0,disableRipple:!0,variant:"outlined",className:"ActionsCartButtonStart"},c.createElement(d.Z,{variant:"outlined",className:"ModalItemButtonCart",onClick:this.props.add.bind(this)},c.createElement("span",null,"В корзину за ",new Intl.NumberFormat("ru-RU").format(this.props.price)),c.createElement(u,{style:{width:14,height:14,fill:"#525252",marginLeft:5,paddingBottom:1}})))}}]),a}(c.PureComponent),C=function(e){(0,o.Z)(a,e);var t=h(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(m.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"ActionsCartButton"},c.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN"},c.createElement("button",{className:"minus",onClick:this.props.minus.bind(this)},"–"),c.createElement("div",null,c.createElement("span",null,this.props.count," шт. на ",new Intl.NumberFormat("ru-RU").format(parseInt(this.props.price)*parseInt(this.props.count))),c.createElement(u,{style:{width:14,height:14,fill:"#525252",marginLeft:5,paddingBottom:1}})),c.createElement("button",{className:"plus",onClick:this.props.add.bind(this)},"+")))}}]),a}(c.PureComponent),I=function(e){(0,o.Z)(a,e);var t=h(a);function a(){return(0,n.Z)(this,a),t.apply(this,arguments)}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(m.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"MiniActionsCartButtonPrize"},c.createElement("div",{variant:"contained"},1==parseInt(this.props.count)?c.createElement("span",null,"В подарок за ",new Intl.NumberFormat("ru-RU").format(parseInt(this.props.price))):c.createElement("span",null,this.props.count," шт. в подарок за ",new Intl.NumberFormat("ru-RU").format(parseInt(this.props.price))),c.createElement(u,{style:{width:12,height:12,fill:"#525252",marginLeft:5}})))}}]),a}(c.PureComponent),k=function(e){(0,o.Z)(a,e);var t=h(a);function a(e){var i;return(0,n.Z)(this,a),(i=t.call(this,e)).state={type:"text"},i}return(0,i.Z)(a,[{key:"render",value:function(){return c.createElement(p.Z,{label:this.props.label,placeholder:this.props.placeholder,value:this.props.value,onChange:this.props.func,onBlur:this.props.onBlur?this.props.onBlur:null,onKeyDown:this.props.onKeyDown?this.props.onKeyDown:null,disabled:!(!this.props.disabled&&!0!==this.props.disabled),variant:"outlined",size:"small",color:"primary",multiline:!!this.props.multiline&&this.props.multiline,maxRows:this.props.maxRows?this.props.maxRows:1,type:this.props.type?this.props.type:this.state.type,style:this.props.style?this.props.style:{},className:this.props.className?this.props.className:""})}}]),a}(c.PureComponent)},6282:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var n=a(2982),i=a(5671),o=a(3144),r=a(4942),s=a(8949),l=a(381),c=a.n(l),m=a(8811),d=a.n(m),p=a(7563),h=new(function(){function e(){var t=this;if((0,i.Z)(this,e),(0,r.Z)(this,"items",""),(0,r.Z)(this,"itemsPromo",""),(0,r.Z)(this,"allItems",""),(0,r.Z)(this,"allItemsCat",""),(0,r.Z)(this,"allItemsCatNew",""),(0,r.Z)(this,"banners",""),(0,r.Z)(this,"AllPrice",0),(0,r.Z)(this,"sum_div",0),(0,r.Z)(this,"cityName",""),(0,r.Z)(this,"cityNameRU",""),(0,r.Z)(this,"promo",null),(0,r.Z)(this,"userToken",null),(0,r.Z)(this,"userName",""),(0,r.Z)(this,"activePage",""),(0,r.Z)(this,"need_dops",""),(0,r.Z)(this,"free_items",""),(0,r.Z)(this,"cart_data",""),(0,r.Z)(this,"mainLink",""),(0,r.Z)(this,"free_drive",0),(0,r.Z)(this,"promoText",""),(0,r.Z)(this,"promoST",null),(0,r.Z)(this,"setMainLink",(function(e){t.mainLink=e})),(0,r.Z)(this,"setSumDiv",(function(e){t.sum_div=parseInt(e)})),(0,r.Z)(this,"setDops",(function(e){t.need_dops=JSON.stringify(e)})),(0,r.Z)(this,"setFreeItems",(function(e){t.free_items=JSON.stringify(e)})),(0,r.Z)(this,"setCityRU",(function(e){t.cityNameRU=e})),(0,r.Z)(this,"setCity",(function(e){t.cityName=e})),(0,r.Z)(this,"setAllPrice",(function(e){t.AllPrice=e})),(0,r.Z)(this,"setPage",(function(e){t.activePage=e})),(0,r.Z)(this,"setToken",(function(e,a){t.userToken=e,t.setUserName(a),"undefined"!=typeof window&&localStorage.setItem("token",e)})),(0,r.Z)(this,"setPromo",(function(e,a){t.promo=e,localStorage.setItem("promo_name",a)})),(0,r.Z)(this,"setBanners",(function(e){t.banners=JSON.stringify(e)})),(0,r.Z)(this,"setItemsPromo",(function(e){t.itemsPromo=JSON.stringify(e)})),(0,r.Z)(this,"setAllItemsCat",(function(e){t.allItemsCat=JSON.stringify(e)})),(0,r.Z)(this,"setAllItemsCatNew",(function(e){t.allItemsCatNew=JSON.stringify(e)})),(0,r.Z)(this,"setItems",(function(e){var a=0,n=0,i=t.getItemsPromo();if(n=e.reduce((function(e,t){return e+parseInt(t.all_price)}),a),a=0,n+=i.reduce((function(e,t){return e+parseInt(t.all_price)}),a),t.setAllPrice(n),t.items=JSON.stringify(e),"undefined"!=typeof window){var o=e.filter((function(e){return e.count>0}));o=JSON.stringify(o),localStorage.setItem("my_cart",o)}})),(0,r.Z)(this,"saveCartData",(function(e){var a=JSON.stringify(e);t.cart_data=a,"undefined"!=typeof window&&localStorage.setItem("cartData",a)})),(0,r.Z)(this,"setAllItems",(function(e){t.allItems=JSON.stringify(e),t.checkCart()})),"undefined"!=typeof window){if(localStorage.getItem("cartData")&&(this.cartData=localStorage.getItem("cartData")),localStorage.getItem("my_cart")){var a=JSON.parse(localStorage.getItem("my_cart")),n=[];a.forEach((function(e){n.push({name:e.name,item_id:e.item_id,count:e.count,one_price:parseInt(e.one_price),all_price:parseInt(e.one_price)*parseInt(e.count)})})),this.setItems(n),localStorage.getItem("promo_name")&&localStorage.getItem("promo_name").length>0&&setTimeout((function(){t.getInfoPromo(localStorage.getItem("promo_name"))}),500)}else localStorage.getItem("promo_name")&&localStorage.getItem("promo_name").length>0&&setTimeout((function(){t.getInfoPromo(localStorage.getItem("promo_name"))}),500);localStorage.getItem("token")&&setTimeout((function(){t.setToken(localStorage.getItem("token"),"")}),300)}(0,s.ky)(this)}return(0,o.Z)(e,[{key:"getMainLink",value:function(){return this.mainLink}},{key:"getSumDiv",value:function(){return this.sum_div}},{key:"getDops",value:function(){return 0==this.need_dops.length?[]:JSON.parse(this.need_dops,!0)}},{key:"getFreeItems",value:function(){return 0==this.free_items.length?[]:JSON.parse(this.free_items,!0)}},{key:"getCityRU",value:function(){return this.cityNameRU&&this.cityNameRU.length>0?this.cityNameRU:"Город"}},{key:"getCity",value:function(){return this.cityName}},{key:"getAllPrice",value:function(){return this.AllPrice}},{key:"getPage",value:function(){return this.activePage}},{key:"getUserName",value:function(){return this.userName&&this.userName.length>0?this.userName:""}},{key:"setUserName",value:function(e){this.userName=e}},{key:"getToken",value:function(){return this.userToken}},{key:"getPromoStatus",value:function(){return{text:this.promoText,st:this.promoST}}},{key:"setPromoStatus",value:function(e,t){this.promoText=e,this.promoST=t}},{key:"getInfoPromo",value:function(e){var t=this;fetch(d().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:p.stringify({type:"get_promo_web",city_id:h.getCity(),promo_name:e})}).then((function(e){return e.json()})).then((function(a){h.setPromo(JSON.stringify(a),e);var n=h.checkPromo();0==e.length?t.setPromoStatus("",null):n?t.setPromoStatus(n.text,n.st):t.setPromoStatus("",null)}))}},{key:"getPromo",value:function(){return JSON.parse(this.promo,!0)}},{key:"checkPromo",value:function(){var e=h.getCartData();h.setItemsPromo([]),h.free_drive=0;var t=0,a=0,n=e.orderTimes&&0!=parseInt(e.orderTimes)?e.orderPredDay+" "+e.orderPredTime:0,i=this.getPromo(),o=this.getItems(),r=this.getAllItems();if(t=0,a=0,0!=r.length&&r){var s=[];o.forEach((function(e,t){s.push({name:e.name,item_id:e.item_id,count:e.count,one_price:e.one_price,all_price:parseInt(e.one_price)*parseInt(e.count)})})),o=s,this.setItems(o);var l=[];a=o.reduce((function(e,t){return e+parseInt(t.all_price)}),t),setTimeout((function(){h.setAllPrice(a,1)}),100);var m,d,p=0,u=0,g=0;(e.orderType||0==e.orderType)&&(p=null!==(m=parseInt(e.orderType))&&void 0!==m?m:0,u=e.orderAddr?parseInt(e.orderAddr.point_id):0,g=null!==(d=parseInt(e.orderPic))&&void 0!==d?d:0);var f="",y="",_="";if(0==n?(f=c()(new Date).format("YYYY-MM-DD"),y=c()(new Date).format("HH:mm"),_=parseInt(c()(new Date).format("E"))):(f=c()(n).format("YYYY-MM-DD"),y=c()(n).format("HH:mm"),_=parseInt(c()(n).format("E"))),i){if(!i.status_promo)return{st:!1,text:"Данный промокод не найден или уже активирован"};if(i.limits.date.min&&i.limits.date.max&&!(f>=i.limits.date.min&&f<=i.limits.date.max))return{st:!1,text:f+" 1"+i.promo_text.false};if(0!=i.limits.time.min&&0!=i.limits.time.max&&!(y>=i.limits.time.min&&y<=i.limits.time.max))return{st:!1,text:y+" 2"+i.promo_text.false};if(0!=i.limits.point_id&&!(0==p&&u==i.limits.point_id||1==p&&g==i.limits.point_id))return{st:!1,text:"По данному адресу промокод не работает"};if(0!=i.limits.summ.min||0!=i.limits.summ.max)if(a>=i.limits.summ.min&&(i.limits.summ.max>=a||0==i.limits.summ.max));else{if(a<i.limits.summ.min)return{st:!1,text:"Суммы заказа не достаточно для активации промокода"};if(a>i.limits.summ.max)return{st:!1,text:"Сумма заказа больше, чем лимит промокода"}}if(i.limits.dows&&0==parseInt(i.limits.dows[_]))return{st:!1,text:"Промокод не действует в эти даты"};if(i.limits.type_order)if(1==parseInt(i.limits.type_order)||3==parseInt(i.limits.type_order)&&0==p||2==parseInt(i.limits.type_order)&&1==p);else{if(1==parseInt(i.limits.type_order))return{st:!1,text:"Промокод действует только на доставку"};if(2==parseInt(i.limits.type_order))return{st:!1,text:"Промокод действует только на самовывоз"};if(3==parseInt(i.limits.type_order))return{st:!1,text:"Промокод действует только в кафе"}}if(i.limits.only_kassa&&1==parseInt(i.limits.only_kassa))return{st:!1,text:"Промокод действует только в кафе"};if(i.limits.items.length>0){var v=0;if(i.limits.items.map((function(e){s.find((function(t){return t.item_id==e}))&&v++})),i.limits.items.length!=v)return{st:!1,text:"3"+i.promo_text.false}}h.free_drive=parseInt(i.limits.free_drive);var E=0,b=0,w=null;return 1==parseInt(i.promo_action)?(1==parseInt(i.sale.cat_sale)&&(b=parseInt(i.sale.count_sale),o.forEach((function(e,t){w=r.find((function(t){return t.id==e.item_id})),3!=parseInt(w.type)&&4!=parseInt(w.type)&&i.sale.sale_action.forEach((function(a){parseInt(e.item_id)==parseInt(a)&&(1==parseInt(i.sale.type_price)?b>0&&((E=parseInt(e.one_price)*parseInt(e.count)-parseInt(b))<=0&&(E=1),b-=parseInt(e.one_price)*parseInt(e.count),o[t].new_one_price=parseInt(e.one_price),o[t].all_price=E):(E=parseInt(e.all_price)-parseInt(e.all_price)/100*parseInt(b),o[t].new_one_price=parseInt(e.one_price),o[t].all_price=parseInt(E)))}))}))),2==parseInt(i.sale.cat_sale)&&(b=parseInt(i.sale.count_sale),o.forEach((function(e,t){w=r.find((function(t){return t.id==e.item_id})),3!=parseInt(w.type)&&4!=parseInt(w.type)&&i.sale.sale_action.forEach((function(a){parseInt(w.cat_id)==parseInt(a)&&(1==parseInt(i.sale.type_price)?b>0&&((E=parseInt(e.one_price)*parseInt(e.count)-parseInt(b))<=0&&(E=1),b-=parseInt(e.one_price)*parseInt(e.count),o[t].new_one_price=parseInt(e.one_price),o[t].all_price=E):(E=parseInt(e.all_price)-parseInt(e.all_price)/100*parseInt(b),o[t].new_one_price=parseInt(e.one_price),o[t].all_price=parseInt(E)))}))}))),3==parseInt(i.sale.cat_sale)&&(b=parseInt(i.sale.count_sale),o.forEach((function(e,t){w=r.find((function(t){return t.id==e.item_id})),3!=parseInt(w.type)&&4!=parseInt(w.type)&&(1==parseInt(i.sale.type_price)?b>0&&((E=parseInt(e.one_price)*parseInt(e.count)-parseInt(b))<=0&&(E=1),b-=parseInt(e.one_price)*parseInt(e.count),o[t].new_one_price=parseInt(e.one_price),o[t].all_price=E):(E=parseInt(e.all_price)-parseInt(e.all_price)/100*parseInt(b),o[t].new_one_price=parseInt(e.one_price),o[t].all_price=parseInt(E)))}))),t=0,a=0,a=o.reduce((function(e,t){return e+t.all_price}),t),h.setAllPrice(a),this.setItems(o),{st:!0,text:i.promo_text.true}):(2==parseInt(i.promo_action)&&(i.items_add.forEach((function(e){w=r.find((function(t){return t.id==e.item_id})),l.push({item_id:e.item_id,count:e.count,one_price:w.price,all_price:e.price,name:w.name})})),t=0,a=0,a=o.reduce((function(e,t){return e+parseInt(t.all_price)}),t),t=0,a+=l.reduce((function(e,t){return e+parseInt(t.all_price)}),t),h.setItemsPromo(l),h.setAllPrice(a)),3==parseInt(i.promo_action)&&i.items_on_price.length>0&&(o.forEach((function(e,t){i.items_on_price.forEach((function(a){parseInt(e.item_id)==parseInt(a.id)&&(o[t].new_one_price=parseInt(a.price),o[t].all_price=parseInt(a.price)*parseInt(e.count))}))})),t=0,a=0,a=o.reduce((function(e,t){return e+parseInt(t.all_price)}),t),h.setAllPrice(a)),this.setItems(o),{st:!0,text:i.promo_text.true})}return{st:!1,text:"4"+i.promo_text.false,test:i}}}},{key:"getBanners",value:function(){return 0==this.banners.length?[]:JSON.parse(this.banners,!0)}},{key:"getItemsPromo",value:function(){return 0==this.itemsPromo.length?[]:JSON.parse(this.itemsPromo,!0)}},{key:"getAllItemsCat",value:function(){return 0==this.allItemsCat.length?[]:JSON.parse(this.allItemsCat,!0)}},{key:"getAllItemsCatNew",value:function(){return 0==this.allItemsCatNew.length?[]:JSON.parse(this.allItemsCatNew,!0)}},{key:"getCartData",value:function(){if("undefined"!=typeof window)return localStorage.getItem("cartData")?JSON.parse(localStorage.getItem("cartData")):[]}},{key:"checkCart",value:function(){var e=this.getItems(),t=this.getAllItems(),a=[];e.forEach((function(e){var n=t.find((function(t){return parseInt(t.id)==parseInt(e.item_id)}));n&&a.push({name:e.name,item_id:e.item_id,count:e.count,one_price:parseInt(n.price),all_price:parseInt(n.price)*parseInt(e.count)})})),this.setItems(a)}},{key:"getItems",value:function(){return 0==this.items.length?[]:JSON.parse(this.items,!0)}},{key:"getAllItems",value:function(){return 0==this.allItems.length?[]:JSON.parse(this.allItems,!0)}},{key:"AddItem",value:function(e){var t=h.getItems(),a=h.getAllItems(),n=h.getPromo();if(!(a.length>0))return 0;var i=t.find((function(t){return parseInt(t.item_id)==parseInt(e)})),o=0;i&&(o=parseInt(i.count));var r=a.find((function(t){return t.id==e}));if(r){var s=o+1,l=parseInt(r.price),c=h.check_max_count(parseInt(e));return parseInt(c)>=s?(t.some((function(t){return t.item_id==e}))?t.forEach((function(a,n){a.item_id==e&&(t[n].count=s,t[n].all_price=s*l)})):t.push({name:r.name,item_id:e,count:s,one_price:l,all_price:s*l}),h.setItems(t),n&&h.checkPromo(),s):s-1}}},{key:"MinusItem",value:function(e){var t=h.getItems(),a=h.getAllItems(),n=h.getPromo();if(a.length>0){var i=t.find((function(t){return t.item_id==e}));if(!i)return 0;var o=a.find((function(t){return t.id==e})),r=parseInt(i.count)-1,s=parseInt(o.price);if(r<=0&&(r=0),r>=0){t.map((function(a,n){a.item_id==e&&(t[n].count=r,t[n].all_price=r*s)})),h.setItems(t);var l=0;setTimeout((function(){var e=t.filter((function(e,t){return parseInt(e.count)>0&&(17==parseInt(e.item_id)||237==parseInt(e.item_id))}));e=0==e.length?1:e.length,t.map((function(a,n){l=h.check_max_count(a.item_id),l=(l/=e)>0&&l<1?1:parseInt(l),parseInt(l)<0&&(t[n].count=parseInt(a.count)+parseInt(l)>=0?parseInt(a.count)+parseInt(l):0,t[n].all_price=(parseInt(a.count)+parseInt(l))*parseInt(a.one_price)>=0?(parseInt(a.count)+parseInt(l))*parseInt(a.one_price):0)})),h.setItems(t)}),300)}return n&&h.checkPromo(),r}return 0}},{key:"check_need_dops",value:function(){var e=h.getItems(),t=h.getAllItems();if(!t||0==t.length)return[];var a=0,i=0,o=h.getDops();if(0==o.length)return[];e.forEach((function(e){var n=t.find((function(t){return t.id==e.item_id}));if(!n)return[];14==parseInt(n.cat_id)?a+=parseInt(e.count):14!==parseInt(n.cat_id)&&5!==parseInt(n.cat_id)&&6!==parseInt(n.cat_id)&&7!==parseInt(n.cat_id)&&(i+=parseInt(e.count))}));var r=[];i>0&&0==a&&(r=o.rolls),0==i&&a>0&&(r=o.pizza),i>0&&a>0&&(r=[].concat((0,n.Z)(o.rolls),(0,n.Z)(o.pizza))),0==i&&0==a&&(r=[].concat((0,n.Z)(o.rolls),(0,n.Z)(o.pizza)));var s=[],l=[];return e.forEach((function(e){var a=t.find((function(t){return t.id==e.item_id}));if(!a)return[];7==parseInt(a.cat_id)&&s.push(a)})),s.forEach((function(e){var t=!1;r.forEach((function(a){parseInt(a.id)==parseInt(e.id)&&(t=!0)})),t||l.push(e)})),r=[].concat((0,n.Z)(r),l)}},{key:"check_max_count",value:function(e){var t=[],a=[],i=h.getItems(),o=h.getItemsPromo(),r=h.getFreeItems(),s=h.getAllItems(),l=s.find((function(t){return parseInt(t.id)==parseInt(e)}));if(231==parseInt(l.id)||232==parseInt(l.id)||233==parseInt(l.id))return 1;if(3!=parseInt(l.type)||17!==parseInt(l.id)&&237!==parseInt(l.id))return 99;if(!r)return 99;var c=0;i.forEach((function(n,i){var o=s.find((function(e){return parseInt(e.id)==parseInt(n.item_id)})),l=r.find((function(e){return parseInt(e.this_item_id)==parseInt(n.item_id)}));l&&l.max_count&&3!=parseInt(o.type)&&parseInt(l.max_count),17!=parseInt(o.id)&&237!=parseInt(o.id)||(c+=parseInt(n.count)),parseInt(o.id)==parseInt(e)&&parseInt(n.count),r.forEach((function(e){parseInt(n.item_id)==parseInt(e.this_item_id)&&(e.count_in_cart=parseInt(n.count),t.push(e),a.push(parseInt(e.item_id)))}))})),o.forEach((function(n,i){var o=s.find((function(e){return parseInt(e.id)==parseInt(n.item_id)})),l=r.find((function(e){return parseInt(e.this_item_id)==parseInt(n.item_id)}));l&&l.max_count&&3!=parseInt(o.type)&&parseInt(l.max_count),17!=parseInt(o.id)&&237!=parseInt(o.id)||(c+=parseInt(n.count)),parseInt(o.id)==parseInt(e)&&parseInt(n.count),r.forEach((function(e){parseInt(n.item_id)==parseInt(e.this_item_id)&&(e.count_in_cart=parseInt(n.count),t.push(e),a.push(parseInt(e.item_id)))}))})),a=(0,n.Z)(new Set(a));var m=[];a.forEach((function(e,a){t.forEach((function(t){if(parseInt(e)==parseInt(t.item_id)){var a=!1;m.forEach((function(n,i){parseInt(n.item_id)==parseInt(e)&&(a=!0,m[i].count+=t.count_in_cart*t.max_count)})),a||m.push({item_id:parseInt(e),count_in_cart:t.count_in_cart,count:t.count_in_cart*t.max_count})}}))}));var d=99;return m.length>0&&(m.find((function(e){return 17==parseInt(e.item_id)||237==parseInt(e.item_id)})),d=m.find((function(t){return parseInt(t.item_id)==parseInt(e)})))?(d=parseInt(d.count),c>=d?d-c:d):0}}]),e}());const u=h},8028:(e,t,a)=>{var n={"./ru":238,"./ru.js":238};function i(e){var t=o(e);return a(t)}function o(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=o,e.exports=i,i.id=8028}},e=>{e.O(0,[216],(()=>(476,e(e.s=476)))),e.O()}]);
//# sourceMappingURL=main.db6ef8b6ee3a0fad1ab2.js.map