(self.webpackChunkreact_ssr=self.webpackChunkreact_ssr||[]).push([[179],{1254:(e,t,a)=>{"use strict";var n=a(7294),i=a(3935),r=a(3727),s=a(5671),o=a(3144),l=a(7326),c=a(136),m=a(2963),d=a(1120),p=a(4942),h=a(5977),u=a(7462),g=a(1749),f=a(2989),y=a(1907),v=a(9912),E=a(282),_=a(4837),b=a(2318),w=a(7625),I=a(1436),x=a(6261),Z=a(9669),C=a.n(Z),S=a(4593),k=a(2692),N=a(5477),P=a(6083),T=a(9525),A=a(7812),D=a(1276),M=a(3433),B=a(8949),O=a(381),R=a.n(O),z=a(8811),j=a.n(z),L=a(7563),F=new(function(){function e(){var t=this;if((0,s.Z)(this,e),(0,p.Z)(this,"items",""),(0,p.Z)(this,"itemsPromo",""),(0,p.Z)(this,"allItems",""),(0,p.Z)(this,"allItemsCat",""),(0,p.Z)(this,"allItemsCatNew",""),(0,p.Z)(this,"banners",""),(0,p.Z)(this,"AllPrice",0),(0,p.Z)(this,"sum_div",0),(0,p.Z)(this,"cityName",""),(0,p.Z)(this,"cityNameRU",""),(0,p.Z)(this,"promo",null),(0,p.Z)(this,"userToken",null),(0,p.Z)(this,"userName",""),(0,p.Z)(this,"activePage",""),(0,p.Z)(this,"need_dops",""),(0,p.Z)(this,"free_items",""),(0,p.Z)(this,"cart_data",""),(0,p.Z)(this,"mainLink",""),(0,p.Z)(this,"free_drive",0),(0,p.Z)(this,"setMainLink",(function(e){t.mainLink=e})),(0,p.Z)(this,"setSumDiv",(function(e){t.sum_div=parseInt(e)})),(0,p.Z)(this,"setDops",(function(e){t.need_dops=JSON.stringify(e)})),(0,p.Z)(this,"setFreeItems",(function(e){t.free_items=JSON.stringify(e)})),(0,p.Z)(this,"setCityRU",(function(e){t.cityNameRU=e})),(0,p.Z)(this,"setCity",(function(e){t.cityName=e})),(0,p.Z)(this,"setAllPrice",(function(e){t.AllPrice=e})),(0,p.Z)(this,"setPage",(function(e){t.activePage=e})),(0,p.Z)(this,"setToken",(function(e,a){t.userToken=e,t.setUserName(a),"undefined"!=typeof window&&localStorage.setItem("token",e)})),(0,p.Z)(this,"setPromo",(function(e,a){t.promo=e,localStorage.setItem("promo_name",a)})),(0,p.Z)(this,"setBanners",(function(e){t.banners=JSON.stringify(e)})),(0,p.Z)(this,"setItemsPromo",(function(e){t.itemsPromo=JSON.stringify(e)})),(0,p.Z)(this,"setAllItemsCat",(function(e){t.allItemsCat=JSON.stringify(e)})),(0,p.Z)(this,"setAllItemsCatNew",(function(e){t.allItemsCatNew=JSON.stringify(e)})),(0,p.Z)(this,"setItems",(function(e){var a=0,n=0,i=t.getItemsPromo();if(n=e.reduce((function(e,t){return e+parseInt(t.all_price)}),a),a=0,n+=i.reduce((function(e,t){return e+parseInt(t.all_price)}),a),t.setAllPrice(n),t.items=JSON.stringify(e),"undefined"!=typeof window){var r=e.filter((function(e){return e.count>0}));r=JSON.stringify(r),localStorage.setItem("my_cart",r)}})),(0,p.Z)(this,"saveCartData",(function(e){var a=JSON.stringify(e);t.cart_data=a,"undefined"!=typeof window&&localStorage.setItem("cartData",a)})),(0,p.Z)(this,"setAllItems",(function(e){t.allItems=JSON.stringify(e),t.checkCart()})),"undefined"!=typeof window){if(localStorage.getItem("my_cart")){var a=JSON.parse(localStorage.getItem("my_cart")),n=[];a.forEach((function(e){n.push({name:e.name,item_id:e.item_id,count:e.count,one_price:parseInt(e.one_price),all_price:parseInt(e.one_price)*parseInt(e.count)})})),this.setItems(n)}localStorage.getItem("token")&&setTimeout((function(){t.setToken(localStorage.getItem("token"),"")}),300),localStorage.getItem("cartData")&&(this.cartData=localStorage.getItem("cartData")),localStorage.getItem("promo_name")&&setTimeout((function(){t.getInfoPromo(localStorage.getItem("promo_name"))}),300)}(0,B.ky)(this)}return(0,o.Z)(e,[{key:"getMainLink",value:function(){return this.mainLink}},{key:"getSumDiv",value:function(){return this.sum_div}},{key:"getDops",value:function(){return 0==this.need_dops.length?[]:JSON.parse(this.need_dops,!0)}},{key:"getFreeItems",value:function(){return 0==this.free_items.length?[]:JSON.parse(this.free_items,!0)}},{key:"getCityRU",value:function(){return this.cityNameRU&&this.cityNameRU.length>0?this.cityNameRU:"Город"}},{key:"getCity",value:function(){return this.cityName}},{key:"getAllPrice",value:function(){return this.AllPrice}},{key:"getPage",value:function(){return this.activePage}},{key:"getUserName",value:function(){return this.userName&&this.userName.length>0?this.userName:""}},{key:"setUserName",value:function(e){this.userName=e}},{key:"getToken",value:function(){return this.userToken}},{key:"getInfoPromo",value:function(e){fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:L.stringify({type:"get_promo_web",city_id:F.getCity(),promo_name:e})}).then((function(e){return e.json()})).then((function(t){F.setPromo(JSON.stringify(t),e),F.checkPromo().st}))}},{key:"getPromo",value:function(){return JSON.parse(this.promo,!0)}},{key:"checkPromo",value:function(){var e=F.getCartData();F.setItemsPromo([]),F.free_drive=0;var t=0,a=0,n=e.orderTimes&&1!=parseInt(e.orderTimes)?e.orderPredDay+" "+e.orderPredTime:0,i=this.getPromo(),r=this.getItems(),s=this.getAllItems();if(0!=s.length&&s){var o=[];r.forEach((function(e,t){o.push({name:e.name,item_id:e.item_id,count:e.count,one_price:e.one_price,all_price:parseInt(e.one_price)*parseInt(e.count)})})),r=o,this.setItems(r);var l=[];a=r.reduce((function(e,t){return e+parseInt(t.all_price)}),t);var c,m,d=0,p=0,h=0;(e.orderType||0==e.orderType)&&(d=null!==(c=parseInt(e.orderType))&&void 0!==c?c:0,p=e.orderAddr?parseInt(e.orderAddr.point_id):0,h=null!==(m=parseInt(e.orderPic))&&void 0!==m?m:0);var u="",g="",f="";if(0==n?(u=R()(new Date).format("YYYY-MM-DD"),g=R()(new Date).format("HH:mm"),f=parseInt(R()(new Date).format("E"))):(u=R()(n).format("YYYY-MM-DD"),g=R()(n).format("HH:mm"),f=parseInt(R()(n).format("E"))),i){if(!i.status_promo)return{st:!1,text:"Данный промокод уже активирован или не найден"};if(i.limits.date.min&&i.limits.date.max&&!(u>=i.limits.date.min&&u<=i.limits.date.max))return{st:!1,text:i.promo_text.false};if(0!=i.limits.time.min&&0!=i.limits.time.max&&!(g>=i.limits.time.min&&g<=i.limits.time.max))return{st:!1,text:i.promo_text.false};if(0!=i.limits.point_id&&!(0==d&&p==i.limits.point_id||1==d&&h==i.limits.point_id))return{st:!1,text:"Адрес для доставки или самовывоза указан некорректно. Проверьте правильность введённых данных."};if(!(0==i.limits.summ.min&&0==i.limits.summ.max||a>=i.limits.summ.min&&(i.limits.summ.max>=a||0==i.limits.summ.max)))return{st:!1,text:"Общая сумма вашего заказа превышает допустимую стоимость для применения промокода."};if(i.limits.dows&&0==parseInt(i.limits.dows[f]))return{st:!1,text:"Указанный вами день недели недоступен для применения промокода. Пожалуйста, выберите другую дату."};if(i.limits.type_order&&!(1==parseInt(i.limits.type_order)||3==parseInt(i.limits.type_order)&&0==d||2==parseInt(i.limits.type_order)&&1==d))return{st:!1,text:"Тип заказа не применим для данного промокода. Пожалуйста, отредактируйте заказ."};if(i.limits.only_kassa&&1==parseInt(i.limits.only_kassa))return{st:!1,text:"Указанный вами промокод действителен только при оплате на кассе. Пожалуйста, посетите для оформления заказа ближайшее к вам кафе."};if(i.limits.items.length>0){var y=0;if(i.limits.items.map((function(e){o.find((function(t){return t.item_id==e}))&&y++})),i.limits.items.length!=y)return{st:!1,text:i.promo_text.false}}F.free_drive=parseInt(i.limits.free_drive);var v=0,E=0,_=null;return 1==parseInt(i.promo_action)?(1==parseInt(i.sale.cat_sale)&&(E=parseInt(i.sale.count_sale),r.forEach((function(e,t){_=s.find((function(t){return t.id==e.item_id})),3!=parseInt(_.type)&&4!=parseInt(_.type)&&i.sale.sale_action.forEach((function(a){parseInt(e.item_id)==parseInt(a)&&(1==parseInt(i.sale.type_price)?E>0&&((v=parseInt(e.one_price)*parseInt(e.count)-parseInt(E))<=0&&(v=1),E-=parseInt(e.one_price)*parseInt(e.count),r[t].new_one_price=parseInt(e.one_price),r[t].all_price=v):(v=parseInt(e.all_price)-parseInt(e.all_price)/100*parseInt(E),r[t].new_one_price=parseInt(e.one_price),r[t].all_price=parseInt(v)))}))}))),2==parseInt(i.sale.cat_sale)&&(E=parseInt(i.sale.count_sale),r.forEach((function(e,t){_=s.find((function(t){return t.id==e.item_id})),3!=parseInt(_.type)&&4!=parseInt(_.type)&&i.sale.sale_action.forEach((function(a){parseInt(_.cat_id)==parseInt(a)&&(1==parseInt(i.sale.type_price)?E>0&&((v=parseInt(e.one_price)*parseInt(e.count)-parseInt(E))<=0&&(v=1),E-=parseInt(e.one_price)*parseInt(e.count),r[t].new_one_price=parseInt(e.one_price),r[t].all_price=v):(v=parseInt(e.all_price)-parseInt(e.all_price)/100*parseInt(E),r[t].new_one_price=parseInt(e.one_price),r[t].all_price=parseInt(v)))}))}))),3==parseInt(i.sale.cat_sale)&&(E=parseInt(i.sale.count_sale),r.forEach((function(e,t){_=s.find((function(t){return t.id==e.item_id})),3!=parseInt(_.type)&&4!=parseInt(_.type)&&(1==parseInt(i.sale.type_price)?E>0&&((v=parseInt(e.one_price)*parseInt(e.count)-parseInt(E))<=0&&(v=1),E-=parseInt(e.one_price)*parseInt(e.count),r[t].new_one_price=parseInt(e.one_price),r[t].all_price=v):(v=parseInt(e.all_price)-parseInt(e.all_price)/100*parseInt(E),r[t].new_one_price=parseInt(e.one_price),r[t].all_price=parseInt(v)))}))),t=0,a=0,a=r.reduce((function(e,t){return e+t.all_price}),t),F.setAllPrice(a),this.setItems(r),{st:!0,text:i.promo_text.true}):(2==parseInt(i.promo_action)&&(i.items_add.forEach((function(e){_=s.find((function(t){return t.id==e.item_id})),l.push({item_id:e.item_id,count:e.count,one_price:_.price,all_price:e.price,name:_.name})})),t=0,a=0,a=r.reduce((function(e,t){return e+parseInt(t.all_price)}),t),t=0,a+=l.reduce((function(e,t){return e+parseInt(t.all_price)}),t),F.setItemsPromo(l),F.setAllPrice(a)),3==parseInt(i.promo_action)&&i.items_on_price.length>0&&(r.forEach((function(e,t){i.items_on_price.forEach((function(a){parseInt(e.item_id)==parseInt(a.id)&&(r[t].new_one_price=parseInt(a.price),r[t].all_price=parseInt(a.price)*parseInt(e.count))}))})),t=0,a=0,a=r.reduce((function(e,t){return e+parseInt(t.all_price)}),t),F.setAllPrice(a)),this.setItems(r),{st:!0,text:i.promo_text.true})}return{st:!1,text:i.promo_text.false,test:i}}}},{key:"getBanners",value:function(){return 0==this.banners.length?[]:JSON.parse(this.banners,!0)}},{key:"getItemsPromo",value:function(){return 0==this.itemsPromo.length?[]:JSON.parse(this.itemsPromo,!0)}},{key:"getAllItemsCat",value:function(){return 0==this.allItemsCat.length?[]:JSON.parse(this.allItemsCat,!0)}},{key:"getAllItemsCatNew",value:function(){return 0==this.allItemsCatNew.length?[]:JSON.parse(this.allItemsCatNew,!0)}},{key:"getCartData",value:function(){if("undefined"!=typeof window)return localStorage.getItem("cartData")?JSON.parse(localStorage.getItem("cartData")):[]}},{key:"checkCart",value:function(){var e=this.getItems(),t=this.getAllItems(),a=[];e.forEach((function(e){var n=t.find((function(t){return parseInt(t.id)==parseInt(e.item_id)}));n&&a.push({name:e.name,item_id:e.item_id,count:e.count,one_price:parseInt(n.price),all_price:parseInt(n.price)*parseInt(e.count)})})),this.setItems(a)}},{key:"getItems",value:function(){return 0==this.items.length?[]:JSON.parse(this.items,!0)}},{key:"getAllItems",value:function(){return 0==this.allItems.length?[]:JSON.parse(this.allItems,!0)}},{key:"AddItem",value:function(e){var t=F.getItems(),a=F.getAllItems(),n=F.getPromo();if(!(a.length>0))return 0;var i=t.find((function(t){return parseInt(t.item_id)==parseInt(e)})),r=0;i&&(r=parseInt(i.count));var s=a.find((function(t){return t.id==e}));if(s){var o=r+1,l=parseInt(s.price),c=F.check_max_count(parseInt(e));return parseInt(c)>=o?(t.some((function(t){return t.item_id==e}))?t.forEach((function(a,n){a.item_id==e&&(t[n].count=o,t[n].all_price=o*l)})):t.push({name:s.name,item_id:e,count:o,one_price:l,all_price:o*l}),F.setItems(t),n&&F.checkPromo(),o):o-1}}},{key:"MinusItem",value:function(e){var t=F.getItems(),a=F.getAllItems(),n=F.getPromo();if(a.length>0){var i=t.find((function(t){return t.item_id==e}));if(!i)return 0;var r=a.find((function(t){return t.id==e})),s=parseInt(i.count)-1,o=parseInt(r.price);if(s<=0&&(s=0),s>=0){t.map((function(a,n){a.item_id==e&&(t[n].count=s,t[n].all_price=s*o)})),F.setItems(t);var l=0;setTimeout((function(){var e=t.filter((function(e,t){return parseInt(e.count)>0&&(17==parseInt(e.item_id)||237==parseInt(e.item_id))}));e=0==e.length?1:e.length,t.map((function(a,n){l=F.check_max_count(a.item_id),l=(l/=e)>0&&l<1?1:parseInt(l),parseInt(l)<0&&(t[n].count=parseInt(a.count)+parseInt(l)>=0?parseInt(a.count)+parseInt(l):0,t[n].all_price=(parseInt(a.count)+parseInt(l))*parseInt(a.one_price)>=0?(parseInt(a.count)+parseInt(l))*parseInt(a.one_price):0)})),F.setItems(t)}),300)}return n&&F.checkPromo(),s}return 0}},{key:"check_need_dops",value:function(){var e=F.getItems(),t=F.getAllItems();if(!t||0==t.length)return[];var a=0,n=0,i=F.getDops();if(0==i.length)return[];e.forEach((function(e){var i=t.find((function(t){return t.id==e.item_id}));if(!i)return[];14==parseInt(i.cat_id)?a+=parseInt(e.count):14!==parseInt(i.cat_id)&&5!==parseInt(i.cat_id)&&6!==parseInt(i.cat_id)&&7!==parseInt(i.cat_id)&&(n+=parseInt(e.count))}));var r=[];n>0&&0==a&&(r=i.rolls),0==n&&a>0&&(r=i.pizza),n>0&&a>0&&(r=[].concat((0,M.Z)(i.rolls),(0,M.Z)(i.pizza))),0==n&&0==a&&(r=[].concat((0,M.Z)(i.rolls),(0,M.Z)(i.pizza)));var s=[],o=[];return e.forEach((function(e){var a=t.find((function(t){return t.id==e.item_id}));if(!a)return[];7==parseInt(a.cat_id)&&s.push(a)})),s.forEach((function(e){var t=!1;r.forEach((function(a){parseInt(a.id)==parseInt(e.id)&&(t=!0)})),t||o.push(e)})),r=[].concat((0,M.Z)(r),o)}},{key:"check_max_count",value:function(e){var t=[],a=[],n=F.getItems(),i=F.getItemsPromo(),r=F.getFreeItems(),s=F.getAllItems(),o=s.find((function(t){return parseInt(t.id)==parseInt(e)}));if(231==parseInt(o.id)||232==parseInt(o.id)||233==parseInt(o.id))return 1;if(3!=parseInt(o.type)||17!==parseInt(o.id)&&237!==parseInt(o.id))return 99;if(!r)return 99;var l=0;n.forEach((function(e,n){var i=s.find((function(t){return parseInt(t.id)==parseInt(e.item_id)})),o=r.find((function(t){return parseInt(t.this_item_id)==parseInt(e.item_id)}));o&&o.max_count&&3!=parseInt(i.type)&&parseInt(o.max_count),17!=parseInt(i.id)&&237!=parseInt(i.id)||(l+=parseInt(e.count)),r.forEach((function(n){parseInt(e.item_id)==parseInt(n.this_item_id)&&(n.count_in_cart=parseInt(e.count),t.push(n),a.push(parseInt(n.item_id)))}))})),i.forEach((function(e,n){var i=s.find((function(t){return parseInt(t.id)==parseInt(e.item_id)})),o=r.find((function(t){return parseInt(t.this_item_id)==parseInt(e.item_id)}));o&&o.max_count&&3!=parseInt(i.type)&&parseInt(o.max_count),17!=parseInt(i.id)&&237!=parseInt(i.id)||(l+=parseInt(e.count)),r.forEach((function(n){parseInt(e.item_id)==parseInt(n.this_item_id)&&(n.count_in_cart=parseInt(e.count),t.push(n),a.push(parseInt(n.item_id)))}))})),a=(0,M.Z)(new Set(a));var c=[];a.forEach((function(e,a){t.forEach((function(t){if(parseInt(e)==parseInt(t.item_id)){var a=!1;c.forEach((function(n,i){parseInt(n.item_id)==parseInt(e)&&(a=!0,c[i].count+=t.count_in_cart*t.max_count)})),a||c.push({item_id:parseInt(e),count_in_cart:t.count_in_cart,count:t.count_in_cart*t.max_count})}}))}));var m=99;return c.length>0&&(m=c.find((function(e){return 17==parseInt(e.item_id)})))&&(m=parseInt(m.count),l>=m)?m-l:m}}]),e}());const W=F;var G=a(2663),H=a(2285),U=a(2613),q=(a(1216),a(5503)),J=a(4465),K=a(3845),V=a(5186),Y=a(2997),Q=a(787),X=a(7649),$=(a(6921),a(5987)),ee=a(9956),te=a(5697),ae=a.n(te),ne=a(5258),ie=a(65),re=a(1423),se=a(4670),oe=a(868),le=a(2795),ce=["children","value","index"];function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,m.Z)(this,a)}}var de=a(7563),pe=null,he=function(e){(0,c.Z)(a,e);var t=me(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"arrColor",{new:{color:"#EE7900",text:"новинка"},hit:{color:"#AF00DB",text:"хит"},sale:{color:"#DB0021",text:"скидка"}}),n.state={size:n.props.size,view:n.props.view,color:n.arrColor[n.props.type].color,text:n.arrColor[n.props.type].text},n}return(0,o.Z)(a,[{key:"render",value:function(){return n.createElement("div",{style:{position:"absolute",top:"mobile"==this.state.view?0:20,left:"mobile"==this.state.view?-10:20}},n.createElement("div",{style:{width:"small"==this.state.size?84:114,height:"small"==this.state.size?34:44,backgroundColor:"rgba(255, 255, 255, 0.6)",borderRadius:30}}),n.createElement("div",{style:{width:"small"==this.state.size?80:110,height:"small"==this.state.size?30:40,backgroundColor:this.state.color,borderRadius:30,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:2,left:2}},n.createElement(b.Z,{component:"span",style:{fontFamily:"Roboto",fontSize:"small"==this.state.size?"0.75rem":"1rem",fontWeight:400,color:"#fff",textTransform:"uppercase",lineHeight:1}},this.state.text)))}}]),a}(n.Component);function ue(e){return n.createElement("svg",{width:e.width?e.width:"50",height:"20",viewBox:e.viewBox?e.viewBox:"0 0 1500 300",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",null,n.createElement("path",{id:"svg_1",d:"m219.27,252.76c63.98,-2.85 99.22,-39.48 99.22,-103.13c0,-37.42 -12.62,-65.49 -37.52,-83.44c-22.29,-16.07 -48.63,-19.21 -62.35,-19.65c-28.61,-0.92 -107.02,-0.04 -110.34,0c-5.75,0.07 -10.38,4.75 -10.38,10.5l0,174.95c-9.23,-0.11 -15.07,-0.2 -15.31,-0.21c-0.06,0 -0.11,0 -0.17,0c-5.72,0 -10.41,4.59 -10.5,10.34c-0.09,5.8 4.54,10.57 10.34,10.66c0.95,0.01 6.78,0.1 15.64,0.21l0,26.12l-15.48,0c-5.8,0 -10.5,4.7 -10.5,10.5s4.7,10.5 10.5,10.5l15.48,0l0,74.89c0,5.8 4.7,10.5 10.5,10.5s10.5,-4.7 10.5,-10.5l0,-74.9l109.39,0c5.8,0 10.5,-4.7 10.5,-10.5s-4.7,-10.5 -10.5,-10.5l-109.39,0l0,-25.88c32.67,0.31 78.53,0.51 100.37,-0.46zm-100.37,-185.33c22.81,-0.21 76.99,-0.61 99.05,0.1c23.92,0.77 79.55,10.31 79.55,82.1c0,52.17 -26.63,79.82 -79.16,82.16c-21.17,0.94 -66.91,0.74 -99.44,0.43l0,-164.79z"})))}function ge(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 80 80"},n.createElement("circle",{cx:"40",cy:"40",r:"39",stroke:"#DADADA",strokeWidth:"2"}),n.createElement("path",{stroke:"#DADADA",strokeLinecap:"round",strokeWidth:"4",d:"M40 34L40 62"}),n.createElement("circle",{cx:"40",cy:"22.667",r:"4",fill:"#DADADA"}))}function fe(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 80 80"},n.createElement("circle",{cx:"40",cy:"40",r:"40",fill:"#000",fillOpacity:"0.6"}),n.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:"4",d:"M40 34L40 62"}),n.createElement("circle",{cx:"40",cy:"22.666",r:"4",fill:"#fff"}))}function ye(e){return n.createElement("svg",{style:e.style,xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 0 24 24"},n.createElement("path",{d:"M17.778 7.449a3.628 3.628 0 00-1.107-2.761l-.001-.001a4.03 4.03 0 00-2.923-1.057h.009-5.454v7.636h5.454a4.032 4.032 0 002.917-1.06l-.003.003a3.633 3.633 0 001.108-2.768v.007zm4.04 0a7.11 7.11 0 01-2.158 5.368l-.002.002a7.65 7.65 0 01-5.581 2.08h.015-5.795v2.011H16.926c.29 0 .525.235.525.525v.022-.001 2.203c0 .29-.235.525-.525.525h-.022.001-8.608v3.291a.537.537 0 01-.537.528H4.886a.525.525 0 01-.525-.525v-.022.001-3.273H.522a.525.525 0 01-.525-.525v-.022.001-2.182-.021c0-.29.235-.525.525-.525h.022-.001 3.818v-2.011H.522a.525.525 0 01-.525-.525v-.022.001-2.54-.006a.537.537 0 01.528-.537h.019-.001 3.818V.55.529c0-.29.235-.525.525-.525h.022-.001 9.187a7.653 7.653 0 015.57 2.084l-.004-.004a7.11 7.11 0 012.157 5.378v-.013z"}))}var ve=(0,se.Z)((function(e){return{tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:e.typography.pxToRem(12),border:"1px solid #dadde9"}}}))(oe.ZP);function Ee(e){var t=e.children,a=e.value,i=e.index,r=(0,$.Z)(e,ce);return n.createElement("div",(0,u.Z)({role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},r),a===i&&n.createElement("div",null,t))}function _e(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function be(e){return(e=(e=e.split("/")).filter((function(e){return""!=e})))[0]}function we(e){return(e=(e=e.split("/")).filter((function(e){return""!=e})))[e.length-1]}Ee.propTypes={children:ae().node,index:ae().any.isRequired,value:ae().any.isRequired};var Ie=function(e){(0,c.Z)(a,e);var t=me(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"_isMounted",!1),(0,p.Z)((0,l.Z)(n),"swiper",null),(0,p.Z)((0,l.Z)(n),"startMove",0),(0,p.Z)((0,l.Z)(n),"firebaseAnalitic",null),(0,p.Z)((0,l.Z)(n),"changeTab",(function(e,t){n.setState({itemTab:t})})),n.state={item:n.props.item?n.props.item:[],is_load:!1,count:0,city_name:n.props.item?"":n.props.city,itemLink:n.props.item?"":n.props.linkItem,title:n.props.data?n.props.data.title:"",description:n.props.data?n.props.data.description:"",itemTab:0},n.props.item||W.setCity(n.props.city),n}return(0,o.Z)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,pe=(0,q.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),this.firebaseAnalitic=(0,J.IH)(pe),(0,B.EH)((function(){if(e._isMounted){var t=W.getAllItems().find((function(t){return t.link==e.state.itemLink}));if(t){e.setState({item:t}),0==t.items.length&&3!==parseInt(t.type)&&4!==parseInt(t.type)&&(0==parseFloat(t.kkal)&&0==parseFloat(t.protein)&&0==parseFloat(t.fat)&&0==parseFloat(t.carbohydrates)||t.items.push({kkal:t.kkal,protein:t.protein,fat:t.fat,carbohydrates:t.carbohydrates,name:""})),e.setState({is_load:!0});var a=W.getItems().filter((function(e){return e.item_id==e.id}))[0];e.setState({count:a?a.count:0})}}})),this.props.item){this.state.item.items&&0==this.state.item.items.length&&3!==parseInt(this.state.item.type)&&4!==parseInt(this.state.item.type)&&this.state.item.items.push({kkal:this.state.item.kkal,protein:this.state.item.protein,fat:this.state.item.fat,carbohydrates:this.state.item.carbohydrates,name:""}),this.setState({is_load:!0});var t=W.getItems().find((function(t){return t.item_id==e.state.item.id}));this.setState({count:t?t.count:0})}this.props.item||(document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("item"))}},{key:"add",value:function(){(0,J.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:this.state.item.id,items:[{name:this.state.item.name}]});var e=W.AddItem(this.state.item.id);this.setState({count:e})}},{key:"minus",value:function(){(0,J.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:this.state.item.id,items:[{name:this.state.item.name}]});var e=W.MinusItem(this.state.item.id);this.setState({count:e})}},{key:"render",value:function(){return n.createElement("div",null,n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(ee.Z,{component:"div",className:"pcItem"},n.createElement(g.Z,{container:!0,className:"MainItem mainContainer",style:{paddingLeft:"6%",paddingRight:"6%"}},n.createElement(g.Z,{item:!0,xs:6,style:{paddingRight:12,display:"flex",alignItems:"center",paddingTop:60}},n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{minHeight:150}}))),n.createElement(g.Z,{item:!0,xs:6,style:{paddingLeft:12,position:"relative"}},n.createElement(b.Z,{variant:"h5",component:"h1"},this.state.item.name),n.createElement(b.Z,{variant:"h5",className:"OtherMiniPopover",component:"span"},this.state.item.info_weight),n.createElement(ne.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0,paddingTop:10},elevation:0},n.createElement(ie.Z,{"aria-label":"simple tabs example",className:"itemTabs",value:this.state.itemTab,onChange:this.changeTab.bind(this),style:{justifyContent:"center"}},this.state.item.items&&0==this.state.item.items.length&&0==this.state.item.tmp_desc.length?null:n.createElement(re.Z,(0,u.Z)({label:"Состав"},_e(0),{disableRipple:!0})),this.state.item.items&&0==this.state.item.items.length?null:n.createElement(re.Z,(0,u.Z)({label:"Пищевая ценность"},_e(1),{disableRipple:!0})))),n.createElement(Ee,{value:this.state.itemTab,index:1,style:{width:"100%",marginTop:10,marginBottom:15}},n.createElement("div",{style:{maxHeight:250,overflow:"auto"},className:this.state.item.items&&1==this.state.item.items.length?"MainItemPopover tab MainItemPopoverOne":"MainItemPopover tab MainItemPopoverLot"},n.createElement("table",null,n.createElement("tbody",null,n.createElement("tr",null,n.createElement("td",null,n.createElement(b.Z,{variant:"h5",className:"OtherMiniPopover",component:"span"},"Пищевая ценность на 100 г"))),this.state.item.items&&this.state.item.items.map((function(e,t){return n.createElement("tr",{key:t},n.createElement("td",null,n.createElement("div",{className:"NamePopover"},n.createElement(b.Z,{variant:"h5",component:"span"},e.name)),n.createElement("div",{className:"OtherPopover"},n.createElement(b.Z,{variant:"h5",component:"span"},"Белки:"),n.createElement(b.Z,{variant:"h5",component:"span"},e.protein," г")),n.createElement("div",{className:"OtherPopover"},n.createElement(b.Z,{variant:"h5",component:"span"},"Жиры:"),n.createElement(b.Z,{variant:"h5",component:"span"},e.fat," г")),n.createElement("div",{className:"OtherPopover"},n.createElement(b.Z,{variant:"h5",component:"span"},"Углеводы:"),n.createElement(b.Z,{variant:"h5",component:"span"},e.carbohydrates," г")),n.createElement("div",{className:"OtherPopover"},n.createElement(b.Z,{variant:"h5",component:"span"},"Энерг. ценность:"),n.createElement(b.Z,{variant:"h5",component:"span"},e.kkal," ккал"))))})))))),n.createElement(Ee,{value:this.state.itemTab,index:0,style:{marginTop:10,marginBottom:15}},this.state.item.items&&this.state.item.items.length>1?n.createElement("div",{style:{maxHeight:300,overflowY:"auto",overflowX:"hidden"}},this.state.item.items&&this.state.item.items.map((function(e,t){return n.createElement("div",{key:t,style:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative"}},n.createElement("picture",{style:{height:"auto",width:100,display:"table"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+e.img_new+"300х200.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+e.img_new+"300х200.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{height:"auto",width:65}})),n.createElement("div",{className:"itemMiniText"},n.createElement(b.Z,{variant:"h5",component:"span",className:"dopItemName"},e.name),n.createElement(b.Z,{variant:"h5",component:"span",className:"ItemDesc"},e.tmp_desc)))}))):n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"ItemDesc"},this.state.item.tmp_desc)),n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",position:"absolute",bottom:-30,width:"65%"}},n.createElement("div",{className:"newBTN",onClick:this.add.bind(this)},n.createElement(b.Z,{variant:"h5",component:"span",className:"ItemPriceValue",style:{paddingLeft:5,paddingBottom:2}},0==parseInt(this.state.count)?parseInt(this.state.item.price):parseInt(this.state.item.price)*parseInt(this.state.count)),n.createElement(ue,{viewBox:"0 0 600 300",width:"20"}),n.createElement(D.Z,{color:"inherit"})),n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder count",style:{border:"none"}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.minus.bind(this)},n.createElement(w.G,{icon:I.Kl4,style:{fontSize:"1rem"}})),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(b.Z,{component:"span",className:"CardCountItem",style:{fontSize:"1.2rem"}},this.state.count)),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.add.bind(this)},n.createElement(w.G,{icon:I.r8p,style:{fontSize:"1rem"}}))))))),n.createElement(U.Z,{smUp:!0},n.createElement(g.Z,{container:!0,className:"MainItem MainItemMobile mainContainer",style:{paddingLeft:"4%",paddingRight:"4%",height:"100%"}},n.createElement(g.Z,{item:!0,xs:12,style:{paddingRight:12}},n.createElement("picture",{id:"forSwiper"},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{height:"auto",width:"100%",paddingTop:20}})),n.createElement(b.Z,{variant:"h5",component:"h1",style:{textAlign:"center"}},this.state.item.name)),n.createElement(g.Z,{item:!0,xs:12,style:{position:"relative"}},n.createElement(ne.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},n.createElement(ie.Z,{"aria-label":"simple tabs example",className:"itemTabs",value:this.state.itemTab,onChange:this.changeTab.bind(this),style:{justifyContent:"center"}},n.createElement(re.Z,(0,u.Z)({label:"Состав"},_e(0),{disableRipple:!0})),this.state.item.items&&0==this.state.item.items.length?null:n.createElement(re.Z,(0,u.Z)({label:"Пищевая ценность"},_e(1),{disableRipple:!0})))),n.createElement(Ee,{value:this.state.itemTab,index:1,style:{width:"100%",marginTop:10,marginBottom:15,minHeight:"30vh"}},n.createElement("div",{style:{maxHeight:"30vh",height:"100%",overflow:"auto"},className:this.state.item.items&&1==this.state.item.items.length?"MainItemPopover tab MainItemPopoverOne":"MainItemPopover tab MainItemPopoverLot"},n.createElement("table",null,n.createElement("tbody",null,this.state.item.info_weight.length>0?n.createElement("tr",null,n.createElement("td",null,n.createElement(b.Z,{variant:"h5",className:"OtherMiniPopover",component:"span"},"Вес: ",this.state.item.info_weight))):null,n.createElement("tr",null,n.createElement("td",null,n.createElement(b.Z,{variant:"h5",className:"OtherMiniPopover",component:"span"},"Пищевая ценность на 100 г"))),this.state.item.items&&this.state.item.items.map((function(e,t){return n.createElement("tr",{key:t},n.createElement("td",null,n.createElement("div",{className:"NamePopover"},n.createElement(b.Z,{variant:"h5",component:"span"},e.name)),n.createElement("div",{className:"OtherPopover"},n.createElement(b.Z,{variant:"h5",component:"span"},"Белки:"),n.createElement(b.Z,{variant:"h5",component:"span"},e.protein," г")),n.createElement("div",{className:"OtherPopover"},n.createElement(b.Z,{variant:"h5",component:"span"},"Жиры:"),n.createElement(b.Z,{variant:"h5",component:"span"},e.fat," г")),n.createElement("div",{className:"OtherPopover"},n.createElement(b.Z,{variant:"h5",component:"span"},"Углеводы:"),n.createElement(b.Z,{variant:"h5",component:"span"},e.carbohydrates," г")),n.createElement("div",{className:"OtherPopover"},n.createElement(b.Z,{variant:"h5",component:"span"},"Энерг. ценность:"),n.createElement(b.Z,{variant:"h5",component:"span"},e.kkal," ккал"))))})))))),n.createElement(Ee,{value:this.state.itemTab,index:0,style:{marginTop:10,marginBottom:15,minHeight:"30vh"}},this.state.item.items&&this.state.item.items.length>1?n.createElement("div",{style:{maxHeight:"30vh",height:"100%",overflowY:"auto",overflowX:"hidden",position:"relative"}},this.state.item.items&&this.state.item.items.map((function(e,t){return n.createElement("div",{key:t,style:{display:"flex",flexDirection:"row",alignItems:"center",margin:"10px 0px"}},n.createElement("picture",{style:{height:"auto",width:70,display:"table"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+e.img_new+"300х200.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+e.img_new+"300х200.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{height:"auto",width:"100%"}})),n.createElement("div",{className:"itemMiniText",style:{overflow:"hidden",flexWrap:"wrap",paddingRight:15}},n.createElement(b.Z,{variant:"h5",component:"span",className:"dopItemName",style:{width:"100%"}},e.name),n.createElement(b.Z,{variant:"h5",component:"span",className:"ItemDesc",style:{width:"100%",wordWrap:"normal"}},e.tmp_desc)))}))):n.createElement("div",{style:{maxHeight:"30vh",height:"100%",overflow:"auto"}},n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"ItemDesc"},this.state.item.tmp_desc))),n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.createElement("div",{className:"newBTN",onClick:this.add.bind(this)},n.createElement(b.Z,{variant:"h5",component:"span",className:"ItemPriceValue",style:{paddingLeft:5}},0==parseInt(this.state.count)?parseInt(this.state.item.price):parseInt(this.state.item.price)*parseInt(this.state.count)),n.createElement(ue,{viewBox:"0 0 600 300",width:"20"}),n.createElement(D.Z,{color:"inherit"})),n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder count",style:{border:"none"}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.minus.bind(this)},n.createElement(w.G,{icon:I.Kl4,style:{fontSize:"1rem"}})),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(b.Z,{component:"span",className:"CardCountItem"},this.state.count)),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.add.bind(this)},n.createElement(w.G,{icon:I.r8p,style:{fontSize:"1rem"}}))))))))}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:be(e),item:we(e),page:"item"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:de.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),a}(n.Component),xe=function(e){(0,c.Z)(a,e);var t=me(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"_isMounted",!1),(0,p.Z)((0,l.Z)(n),"swiper",null),(0,p.Z)((0,l.Z)(n),"startMove",0),(0,p.Z)((0,l.Z)(n),"firebaseAnalitic",null),(0,p.Z)((0,l.Z)(n),"changeTab",(function(e,t){n.setState({itemTab:t})})),n.state={item:n.props.item?n.props.item:[],is_load:!1,count:0,city_name:n.props.item?"":n.props.city,itemLink:n.props.item?"":n.props.linkItem,title:n.props.data?n.props.data.title:"",description:n.props.data?n.props.data.description:"",itemTab:0,openTooltip:!1},n.props.item||W.setCity(n.props.city),n}return(0,o.Z)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,pe=(0,q.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),this.firebaseAnalitic=(0,J.IH)(pe),(0,B.EH)((function(){if(e._isMounted){var t=W.getAllItems().find((function(t){return t.link==e.state.itemLink}));if(t){e.setState({item:t}),0==t.items.length&&3!==parseInt(t.type)&&4!==parseInt(t.type)&&(0==parseFloat(t.kkal)&&0==parseFloat(t.protein)&&0==parseFloat(t.fat)&&0==parseFloat(t.carbohydrates)||t.items.push({kkal:t.kkal,protein:t.protein,fat:t.fat,carbohydrates:t.carbohydrates,name:""})),e.setState({is_load:!0});var a=W.getItems().filter((function(e){return e.item_id==e.id}))[0];e.setState({count:a?a.count:0})}}})),this.props.item){this.state.item.items&&0==this.state.item.items.length&&3!==parseInt(this.state.item.type)&&4!==parseInt(this.state.item.type)&&this.state.item.items.push({kkal:this.state.item.kkal,protein:this.state.item.protein,fat:this.state.item.fat,carbohydrates:this.state.item.carbohydrates,name:""}),this.setState({is_load:!0});var t=W.getItems().find((function(t){return t.item_id==e.state.item.id}));this.setState({count:t?t.count:0})}this.props.item||(document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("item"))}},{key:"add",value:function(){(0,J.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:this.state.item.id,items:[{name:this.state.item.name}]});var e=W.AddItem(this.state.item.id);this.setState({count:e})}},{key:"minus",value:function(){(0,J.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:this.state.item.id,items:[{name:this.state.item.name}]});var e=W.MinusItem(this.state.item.id);this.setState({count:e})}},{key:"handleTooltipOpen",value:function(){this.setState({openTooltip:!this.state.openTooltip})}},{key:"handleTooltipClose",value:function(){this.setState({openTooltip:!1})}},{key:"render",value:function(){var e=this,t=this.state.item.img_app.length>0?this.state.item.img_app:this.state.item.img_new,a=this.state.item.img_app.length>0?"new":"old",i=this.state.item.marc_desc_full.length>0?this.state.item.marc_desc_full:this.state.item.tmp_desc,r=""+this.state.count;return r=(r=r.split(""))[r.length-1],4==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),14==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),9!=parseInt(this.state.item.cat_id)&&10!=parseInt(this.state.item.cat_id)&&12!=parseInt(this.state.item.cat_id)&&13!=parseInt(this.state.item.cat_id)||(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),6==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),7==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),5==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),n.createElement(n.Fragment,null,n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(ee.Z,{component:"div",className:"pcItem NewModal"},n.createElement(g.Z,{container:!0,className:"MainItem mainContainer"},"old"==a?n.createElement(g.Z,{item:!0,style:{width:"56.4%",margin:"2% 2.25% 2% 4.5%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"}},n.createElement("picture",{style:{width:"100%"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{minHeight:150}})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:n.createElement(he,{size:"big",type:"hit",view:"pc"}):n.createElement(he,{size:"big",type:"new",view:"pc"})):n.createElement(g.Z,{item:!0,style:{width:"56.4%",margin:"2% 2.25% 2% 4.5%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"}},n.createElement("picture",{style:{width:"100%"}},n.createElement("source",{srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_276x276.jpg 138w, \n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.jpg 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.jpg 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_466x466.jpg 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_585x585.jpg 292w\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_732x732.jpg 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1168x1168.jpg 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1420x1420.jpg 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:this.state.item.name,title:this.state.item.name,class:"img",src:"https://storage.yandexcloud.net/site-img/".concat(t,"_276x276.jpg")})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:n.createElement(he,{size:"big",type:"hit",view:"pc"}):n.createElement(he,{size:"big",type:"new",view:"pc"})),n.createElement(g.Z,{item:!0,style:{width:"31.3%",minHeight:465,paddingLeft:"2.25%",marginRight:"5.5%",marginTop:"6%",marginBottom:"6%",justifyContent:"start",position:"relative"}},n.createElement(b.Z,{variant:"h5",component:"h1",className:"ModalItemTitle",style:{marginTop:0}},this.state.item.name),n.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",width:300}},n.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?230:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?80:150,height:40,border:"1px solid #DADADA",borderRadius:15,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginTop:20,marginBottom:20,marginRight:25}},4==parseInt(this.state.item.cat_id)?n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center"}},this.state.item.count_part_new),n.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?null:n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:4==parseInt(this.state.item.cat_id)?2:3,textAlign:"center"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza+" см":this.state.item.count_part+" шт."),n.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})),n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")),n.createElement(le.Z,{mouseEvent:"onMouseDown",touchEvent:"onTouchStart",onClickAway:this.handleTooltipClose.bind(this)},n.createElement("div",null,n.createElement(ve,{onClose:this.handleTooltipClose.bind(this),open:this.state.openTooltip,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,PopperProps:{disablePortal:!0},title:n.createElement(n.Fragment,null,n.createElement(b.Z,{style:{textAlign:"center",fontFamily:"Roboto",fontSize:"1.5rem",fontWeight:500,lineHeight:1,paddingTop:10,paddingBottom:(this.state.item.items.length,20),whiteSpace:"nowrap"}},"Пищевая ценность на 100 г"),1==this.state.item.items.length?null:n.createElement("div",{style:{width:"100%",height:2,backgroundColor:"#fff",marginBottom:20}}),n.createElement("div",{style:this.state.item.items.length>1?{overflowY:"scroll",maxHeight:280,paddingRight:5}:{}},this.state.item.items.map((function(t,a){return n.createElement("div",{style:{border:"2px solid #fff",borderRadius:10,marginBottom:1==e.state.item.items.length||e.state.item.items.length-1==a?0:20},key:a},n.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",borderBottom:"2px solid #fff"}},n.createElement("div",{style:{width:"75%",display:"flex",alignItems:"center",borderRight:"2px solid #fff",padding:10}},n.createElement(b.Z,{style:{fontFamily:"Roboto",fontWeight:400,fontSize:"1.1rem",lineHeight:1.25}},t.name)),n.createElement("div",{style:{width:"25%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:10}},n.createElement(b.Z,{style:{fontSize:"2rem",lineHeight:1,fontFamily:"Roboto",fontWeight:500}},t.kkal),n.createElement(b.Z,{style:{fontSize:"1rem",lineHeight:.8,fontFamily:"Roboto",fontWeight:400}},"ккал"))),n.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row"}},n.createElement("div",{style:{width:"50%",padding:10,borderRight:"2px solid #fff"}},n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400}},"Состав: ",t.tmp_desc)),n.createElement("div",{style:{width:"50%",padding:10},className:"styleTooltip"},n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1}},"белки"),n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3}},t.protein," г")),n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1}},"жиры"),n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3}},t.fat," г")),n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1}},"углеводы"),n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3}},t.carbohydrates," г")))))}))))},n.createElement("div",{style:{width:40,height:40,cursor:"pointer"},onClick:this.handleTooltipOpen.bind(this)},!0===this.state.openTooltip?n.createElement(fe,null):n.createElement(ge,null)))))),4==parseInt(this.state.item.cat_id)?n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",style:{marginBottom:20,width:300}},n.createElement(E.Z,{variant:"contained",className:"ModalItemButtonCartOther",style:{width:300,height:40,borderRadius:30,border:"1px solid #F9BC23"},onClick:this.props.openSetPc.bind(this,this.state.item.items)},"Состав сета")):null,n.createElement(b.Z,{variant:"h5",component:"span",style:{marginBottom:20,minHeight:200},className:"ModalItemDesc"},i),0==this.state.count?n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",style:{position:"absolute",bottom:0}},n.createElement(E.Z,{variant:"contained",className:"ModalItemButtonCart",style:{width:300,height:60,borderRadius:40,border:"2px solid #F9BC23"},onClick:this.add.bind(this)},n.createElement("span",{style:{fontSize:"1.25rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:700}},"В корзину за ",new Intl.NumberFormat("ru-RU").format(this.state.item.price)),n.createElement(ye,{style:{width:16,height:16,fill:"#525252",marginLeft:5}}))):n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",style:{position:"absolute",bottom:0}},n.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN",style:{width:296,height:56,borderRadius:40,border:"2px solid #F9BC23",display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement("button",{style:{width:30,height:30,borderRadius:40,padding:0,marginLeft:13,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"1.5rem",fontFamily:"Roboto",fontWeight:300,display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.minus.bind(this)},"–"),n.createElement("div",null,n.createElement("span",{style:{fontSize:"1.25rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:700}},this.state.count," шт. на ",new Intl.NumberFormat("ru-RU").format(parseInt(this.state.item.price)*parseInt(this.state.count))),n.createElement(ye,{style:{width:16,height:16,fill:"#525252",marginLeft:5}})),n.createElement("button",{style:{width:40,height:40,borderRadius:40,padding:0,marginRight:10,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"2rem",fontFamily:"Roboto",fontWeight:300,display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.add.bind(this)},"+")))))),n.createElement(U.Z,{smUp:!0},n.createElement(g.Z,{container:!0,className:"MainItem MainItemMobile mainContainer",style:{height:"calc(100vh - 50px)",paddingRight:20,paddingLeft:20,paddingTop:20,alignContent:"flex-start",position:"relative"}},n.createElement(g.Z,{item:!0,xs:12},"old"==a?n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{width:"100%"}})):n.createElement("picture",null,n.createElement("source",{srcset:"\n                                        https://storage.yandexcloud.net/site-img/".concat(t,"_276x276.jpg 138w, \n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.jpg 146w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.jpg 183w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_466x466.jpg 233w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_585x585.jpg 292w\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_732x732.jpg 366w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1168x1168.jpg 584w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_1420x1420.jpg 760w,\n                                        https://storage.yandexcloud.net/site-img/").concat(t,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:this.state.item.name,title:this.state.item.name,style:{width:"80%"},src:"https://storage.yandexcloud.net/site-img/".concat(t,"_276x276.jpg")})),n.createElement(b.Z,{variant:"h5",component:"h1",style:{textAlign:"center"}},this.state.item.name)),n.createElement(g.Z,{item:!0,xs:12},n.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",position:"relative"}},n.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?238:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?78:148,height:28,border:"1px solid #DADADA",borderRadius:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginTop:10,marginBottom:20}},4==parseInt(this.state.item.cat_id)?n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},this.state.item.count_part_new),n.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?null:n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:4==parseInt(this.state.item.cat_id)?2:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza+" см":this.state.item.count_part+" шт."),n.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})),n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")),n.createElement("div",{style:{width:30,height:30,cursor:"pointer",position:"absolute",top:10,right:0},onClick:this.props.openInfo.bind(this)},!0===this.props.openModalPCInfo?n.createElement(fe,null):n.createElement(ge,null)))),4==parseInt(this.state.item.cat_id)?n.createElement(g.Z,{item:!0,xs:12,style:{marginBottom:20}},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%",display:"flex",justifyContent:"center"}},n.createElement(E.Z,{variant:"contained",className:"ModalItemButtonCart",style:{width:240,height:30,borderRadius:15,border:"1px solid #F9BC23",fontSize:"0.875rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:400},onClick:this.props.openSetPc.bind(this,this.state.item.items)},"Состав сета"))):null,n.createElement(g.Z,{item:!0,xs:12,style:{height:80,justifyContent:"center"}},n.createElement(b.Z,{component:"span",className:"hidddenText4",style:{textAlign:"center",fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",width:"100%"}},i)),n.createElement(g.Z,{item:!0,xs:12,style:{position:"absolute",width:"calc(100% - 40px)",bottom:120}},0==this.state.count?n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%"}},n.createElement(E.Z,{variant:"contained",className:"ModalItemButtonCart",style:{width:"100%",height:60,borderRadius:40,border:"2px solid #F9BC23"},onClick:this.add.bind(this)},n.createElement("span",{style:{fontSize:"1.25rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:700}},"В корзину за ",new Intl.NumberFormat("ru-RU").format(this.state.item.price)),n.createElement(ye,{style:{width:15,height:15,fill:"#525252",marginLeft:5}}))):n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%"}},n.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN",style:{width:"100%",height:56,borderRadius:40,border:"2px solid #F9BC23",display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement("button",{style:{width:30,height:30,minWidth:30,maxWidth:30,minHeight:30,maxHeight:30,borderRadius:40,padding:0,marginLeft:13,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"1.5rem",fontFamily:"Roboto",fontWeight:300,display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.minus.bind(this)},"–"),n.createElement("div",null,n.createElement("span",{style:{fontSize:"1.25rem",textTransform:"initial",fontFamily:"Roboto",color:"#525252",fontWeight:700}},this.state.count," шт. на ",new Intl.NumberFormat("ru-RU").format(parseInt(this.state.item.price)*parseInt(this.state.count))),n.createElement(ye,{style:{width:15,height:15,fill:"#525252",marginLeft:5}})),n.createElement("button",{style:{width:40,height:40,minWidth:40,maxWidth:40,minHeight:40,maxHeight:40,borderRadius:40,padding:0,marginRight:10,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"2rem",fontFamily:"Roboto",fontWeight:300,display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.add.bind(this)},"+")))))))}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:be(e),item:we(e),page:"item"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:de.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),a}(n.Component);function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,m.Z)(this,a)}}function Ce(e){return n.createElement("svg",{style:e.style,xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 0 24 24"},n.createElement("path",{d:"M17.778 7.449a3.628 3.628 0 00-1.107-2.761l-.001-.001a4.03 4.03 0 00-2.923-1.057h.009-5.454v7.636h5.454a4.032 4.032 0 002.917-1.06l-.003.003a3.633 3.633 0 001.108-2.768v.007zm4.04 0a7.11 7.11 0 01-2.158 5.368l-.002.002a7.65 7.65 0 01-5.581 2.08h.015-5.795v2.011H16.926c.29 0 .525.235.525.525v.022-.001 2.203c0 .29-.235.525-.525.525h-.022.001-8.608v3.291a.537.537 0 01-.537.528H4.886a.525.525 0 01-.525-.525v-.022.001-3.273H.522a.525.525 0 01-.525-.525v-.022.001-2.182-.021c0-.29.235-.525.525-.525h.022-.001 3.818v-2.011H.522a.525.525 0 01-.525-.525v-.022.001-2.54-.006a.537.537 0 01.528-.537h.019-.001 3.818V.55.529c0-.29.235-.525.525-.525h.022-.001 9.187a7.653 7.653 0 015.57 2.084l-.004-.004a7.11 7.11 0 012.157 5.378v-.013z"}))}var Se=x.W_,ke=(x.zW,x.OK),Ne=a(7563),Pe=null;K.Z.use([V.Z,Y.Z,Q.Z,X.Z]);var Te=function(e){(0,c.Z)(a,e);var t=Ze(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"swiper",null),n.state={data:n.props.data,type:n.props.type},n}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var e,t=this.state.data.length;this.swiper=new K.Z(".swiper-container",(e={grabCursor:1!=t,loop:1!=t,centeredSlidesBounds:!1,setWrapperSize:1!=t,autoHeight:!0,centeredSlides:!0,slidesPerView:1,autoplay:1!=t},(0,p.Z)(e,"autoplay",{delay:5e3}),(0,p.Z)(e,"pagination",1!=t&&(this.state.type,!0)),(0,p.Z)(e,"pagination",1==t?{}:"pc"==this.state.type?{el:".swiper-pagination",clickable:!0,type:"bullets",renderBullet:function(e,t){return'<span class="'+t+'">'+(e+1)+"</span>"}}:{}),(0,p.Z)(e,"navigation",1==t?{}:"pc"==this.state.type?{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}:{}),e))}},{key:"prev",value:function(){this.swiper.slidePrev()}},{key:"next",value:function(){this.swiper.slideNext()}},{key:"render",value:function(){return n.createElement("div",{className:"swiper-container swiper_"+this.state.type+" _h1_"},n.createElement("div",{className:"swiper-wrapper _h2_ _count_"+this.state.data.length},this.state.data.map((function(e,t){return n.createElement("div",{className:"swiper-slide _h3_ "+t,key:t},e)}))),1==this.state.data.length?null:"pc"==this.state.type?n.createElement(n.Fragment,null,n.createElement("div",{className:"swiper-pagination"}),n.createElement("div",{className:"swiper-button-prev",onClick:this.prev.bind(this)}),n.createElement("div",{className:"swiper-button-next",onClick:this.next.bind(this)})):null)}}]),a}(n.Component);function Ae(e){return n.createElement("svg",{width:e.width?e.width:"50",height:"20",viewBox:e.viewBox?e.viewBox:"0 0 1500 200",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",null,n.createElement("path",{d:"m219.27,252.76c63.98,-2.85 99.22,-39.48 99.22,-103.13c0,-37.42 -12.62,-65.49 -37.52,-83.44c-22.29,-16.07 -48.63,-19.21 -62.35,-19.65c-28.61,-0.92 -107.02,-0.04 -110.34,0c-5.75,0.07 -10.38,4.75 -10.38,10.5l0,174.95c-9.23,-0.11 -15.07,-0.2 -15.31,-0.21c-0.06,0 -0.11,0 -0.17,0c-5.72,0 -10.41,4.59 -10.5,10.34c-0.09,5.8 4.54,10.57 10.34,10.66c0.95,0.01 6.78,0.1 15.64,0.21l0,26.12l-15.48,0c-5.8,0 -10.5,4.7 -10.5,10.5s4.7,10.5 10.5,10.5l15.48,0l0,74.89c0,5.8 4.7,10.5 10.5,10.5s10.5,-4.7 10.5,-10.5l0,-74.9l109.39,0c5.8,0 10.5,-4.7 10.5,-10.5s-4.7,-10.5 -10.5,-10.5l-109.39,0l0,-25.88c32.67,0.31 78.53,0.51 100.37,-0.46zm-100.37,-185.33c22.81,-0.21 76.99,-0.61 99.05,0.1c23.92,0.77 79.55,10.31 79.55,82.1c0,52.17 -26.63,79.82 -79.16,82.16c-21.17,0.94 -66.91,0.74 -99.44,0.43l0,-164.79z"})))}function De(e){return n.createElement("svg",{style:e.style?e.style:null,xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"none",viewBox:"0 0 64 64"},n.createElement("path",{stroke:"#fff",strokeLinecap:"round",strokeWidth:"3",d:"M2 2l60 60M62 2L2 62"}))}var Me=function(e){return e.preventDefault()};function Be(e){return(e=(e=e.split("/")).filter((function(e){return""!=e})))[0]}var Oe=function(e){(0,c.Z)(a,e);var t=Ze(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"_isMounted",!1),n.state={item:n.props.data,count:0,is_old_price:!1,old_price:0},n}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=W.getItems().find((function(t){return t.item_id==e.state.item.id}));if(t){this.setState({count:t.count});var a=W.getCity();"samara"!=a||70!=parseInt(this.state.item.id)&&71!=parseInt(this.state.item.id)&&7!=parseInt(this.state.item.id)||this.setState({}),"samara"==a&&4==parseInt(this.state.item.id)&&this.setState({}),"togliatti"!=a||70!=parseInt(this.state.item.id)&&71!=parseInt(this.state.item.id)&&7!=parseInt(this.state.item.id)||this.setState({}),"togliatti"==a&&4==parseInt(this.state.item.id)&&this.setState({})}(0,B.EH)((function(){if(e._isMounted){var t=W.getCity();"samara"!=t||70!=parseInt(e.state.item.id)&&71!=parseInt(e.state.item.id)&&7!=parseInt(e.state.item.id)||e.setState({}),"samara"==t&&4==parseInt(e.state.item.id)&&e.setState({}),"togliatti"!=t||70!=parseInt(e.state.item.id)&&71!=parseInt(e.state.item.id)&&7!=parseInt(e.state.item.id)||e.setState({}),"togliatti"==t&&4==parseInt(e.state.item.id)&&e.setState({});var a=W.getItems().find((function(t){return t.item_id==e.state.item.id}));a?e.setState({count:a.count}):e.setState({count:0})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(){this._isMounted&&W.AddItem(this.state.item.id)}},{key:"minus",value:function(){this._isMounted&&W.MinusItem(this.state.item.id)}},{key:"render",value:function(){var e=this,t=this.state.item.img_app.length>0?this.state.item.img_app:this.state.item.img_new,a=this.state.item.img_app.length>0?"new":"old",i=this.state.item.marc_desc.length>0?this.state.item.marc_desc:this.state.item.tmp_desc,r=""+this.state.count;r=(r=r.split(""))[r.length-1],4==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),14==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),9!=parseInt(this.state.item.cat_id)&&10!=parseInt(this.state.item.cat_id)&&12!=parseInt(this.state.item.cat_id)&&13!=parseInt(this.state.item.cat_id)||(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),6==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),7==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r)),5==parseInt(this.state.item.cat_id)&&(parseInt(r),parseInt(r)>1&&parseInt(r),parseInt(r)>4||parseInt(r));var s,o=(window.innerWidth-140)/6;return"pc"==this.props.type?n.createElement(f.Z,{elevation:0,className:"CardItem",style:{width:"100%"}},n.createElement(v.Z,{style:{cursor:"pointer",height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",position:"relative"},onClick:function(){return e.props.openItem(e.state.item.id)}},"old"==a?n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{minHeight:150}})):n.createElement("picture",null,n.createElement("source",{srcset:"\n                                    https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.jpg 138w, \n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_146x146.jpg 146w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_183x183.jpg 183w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_233x233.jpg 233w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.jpg 292w\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.jpg 366w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_584x584.jpg 584w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_760x760.jpg 760w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:this.state.item.name,title:this.state.item.name,src:"https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.jpg")})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:n.createElement(ze,{size:"small",type:"hit",view:"pc"}):n.createElement(ze,{size:"small",type:"new",view:"pc"}),n.createElement(b.Z,{className:"CardNameItem",variant:"h5",component:"h3",style:{flex:1}},this.state.item.name),n.createElement(v.Z,{style:{padding:0}},n.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center",marginTop:10,marginBottom:10}},n.createElement("div",{style:{width:4==parseInt(this.state.item.cat_id)?230:5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?75:135,height:34,border:"1px solid #dadada",borderRadius:15,display:"flex",flexDirection:"row"}},4==parseInt(this.state.item.cat_id)?n.createElement("div",{style:{height:34,borderRight:"1px solid #dadada",flex:3,display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},this.state.item.count_part_new)):null,5==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)||7==parseInt(this.state.item.cat_id)?null:n.createElement("div",{style:{height:34,borderRight:"1px solid #dadada",flex:4==parseInt(this.state.item.cat_id)?2:3,display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},14==parseInt(this.state.item.cat_id)?this.state.item.size_pizza:this.state.item.count_part," ",14==parseInt(this.state.item.cat_id)?"см":6==parseInt(this.state.item.cat_id)?"л":"шт."," ")),n.createElement("div",{style:{height:34,flex:3,display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement("span",{style:{fontFamily:"Roboto",fontSize:"0.9rem",fontWeight:400,color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.item.weight)," ",17==parseInt(this.state.item.id)||237==parseInt(this.state.item.id)?"шт.":6==parseInt(this.state.item.cat_id)?"л":"г")))),n.createElement("div",{style:{height:120,width:"100%",marginBottom:10,textAlign:"center",overflow:"hidden"}},n.createElement(b.Z,{component:"span",className:"hidddenText5",style:{fontFamily:"Roboto",fontSize:"0.925rem",color:"#525252"}},i)))),n.createElement(y.Z,{style:{padding:0,width:"100%"}},0==this.state.count?n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%"}},n.createElement(E.Z,{variant:"contained",className:"ModalItemButtonCart",style:{width:"100%",height:60,borderRadius:40,border:"2px solid #F9BC23"},onClick:this.add.bind(this)},n.createElement("span",{style:{fontSize:"1.25rem",fontFamily:"Roboto",fontWeight:700,color:"#525252",textTransform:"initial"}},"В корзину за ",new Intl.NumberFormat("ru-RU").format(this.state.item.price)),n.createElement(Ce,{style:{width:16,height:16,fill:"#525252",marginLeft:5}}))):n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%"}},n.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN",style:{width:"100%",height:56,borderRadius:40,border:"2px solid #F9BC23",display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement("button",{style:{width:30,height:30,padding:0,borderRadius:40,marginLeft:13,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"1.5rem",fontFamily:"Roboto",display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.minus.bind(this)},"–"),n.createElement("div",null,n.createElement("span",{style:{fontSize:"1.25rem",fontFamily:"Roboto",fontWeight:700,color:"#525252"}},this.state.count," шт. на ",new Intl.NumberFormat("ru-RU").format(parseInt(this.state.item.price)*parseInt(this.state.count))),n.createElement(Ce,{style:{width:16,height:16,fill:"#525252",marginLeft:5}})),n.createElement("button",{style:{width:40,height:40,padding:0,borderRadius:40,marginRight:10,border:"1px solid #F9BC23",backgroundColor:"#F9BC23",color:"#525252",fontSize:"2rem",fontFamily:"Roboto",display:"flex",justifyContent:"center",alignItems:"center"},onClick:this.add.bind(this)},"+"))))):"mobile"==this.props.type?n.createElement(g.Z,{item:!0,container:!0,xs:12,className:"CardItem_mobile",style:{display:"flex",flexDirection:"row",flexWrap:"nowrap"}},n.createElement(g.Z,{style:{position:"relative",marginRight:20},item:!0,onClick:function(){return e.props.openItem(e.state.item.id)}},"old"==a?n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.webp?"+this.state.item.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img_new+"600х400.jpg?"+this.state.item.img_new_update,alt:this.state.item.name,title:this.state.item.name,style:{width:3*o+40,height:"auto"}})):n.createElement("picture",null,n.createElement("source",{srcset:"\n                                    https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.jpg 138w, \n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_146x146.jpg 146w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_183x183.jpg 183w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_233x233.jpg 233w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_292x292.jpg 292w\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_366x366.jpg 366w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_584x584.jpg 584w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_760x760.jpg 760w,\n                                    https://storage.yandexcloud.net/site-img/").concat(t,"_1875x1875.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:this.state.item.name,title:this.state.item.name,src:"https://storage.yandexcloud.net/site-img/".concat(t,"_138x138.jpg"),style:{width:3*o+40,height:3*o+40}})),0==parseInt(this.state.item.is_new)?0==parseInt(this.state.item.is_hit)?null:n.createElement(ze,{size:"small",type:"hit",view:"mobile"}):n.createElement(ze,{size:"small",type:"new",view:"mobile"})),n.createElement(g.Z,{item:!0,className:"SecondBox_",style:{width:"max-content",display:"flex",flexDirection:"column",position:"relative",justifyContent:"flex-end"}},n.createElement(b.Z,{className:"CardNameItem_",variant:"h5",component:"h3",style:{fontFamily:"Roboto",fontSize:"1.0625rem",fontWeight:700,color:"#525252",marginBottom:10},onClick:function(){return e.props.openItem(e.state.item.id)}},this.state.item.name),4==parseInt(this.state.item.cat_id)?n.createElement("div",{style:{width:148,height:28,display:"flex",flexDirection:"row",alignItems:"center",border:"1px solid #dadada",borderRadius:10,marginBottom:10}},n.createElement("div",{style:{flex:3,textAlign:"center",borderRight:"1px solid #dadada",height:28,display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(b.Z,{style:{fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",lineHeight:0},component:"span"},this.state.item.count_part_new)),n.createElement("div",{style:{flex:2,textAlign:"center",height:28,display:"flex",alignItems:"center",justifyContent:"center"}},n.createElement(b.Z,{style:{fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",lineHeight:0},component:"span"},this.state.item.count_part," шт."))):null,n.createElement(b.Z,{className:"CardInfoItem_",style:{marginBottom:10,fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:400,color:"#525252",maxHeight:60,overflow:"hidden"},component:"p",onClick:function(){return e.props.openItem(e.state.item.id)}},i),n.createElement("div",{style:{marginBottom:10}},0==this.state.count?n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained"},n.createElement(E.Z,{variant:"contained",style:(s={fontFamily:"Roboto",fontSize:"0.875rem",fontWeight:500,color:"#525252",width:80,height:30,padding:0,backgroundColor:"#fff",border:"1px solid #F9BC23",borderRadius:30},(0,p.Z)(s,"backgroundColor","rgb(255, 255, 255)"),(0,p.Z)(s,"border","1px solid rgb(249, 188, 35)"),(0,p.Z)(s,"borderRadius",30),s),onClick:this.add.bind(this)},"В корзину за ",new Intl.NumberFormat("ru-RU").format(parseInt(this.state.item.price)),n.createElement(Ce,{style:{width:11,height:11,fill:"#525252",marginLeft:3}}))):n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",style:{width:"100%"}},n.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN",style:{width:"100%",height:28,borderRadius:40,border:"1px solid #F9BC23",display:"flex",justifyContent:"space-between",alignItems:"center"}},n.createElement("button",{style:{width:28,height:28,padding:0,marginLeft:13,color:"#525252",fontSize:"0.875rem",fontFamily:"Roboto",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"transparent",border:"transparent"},onClick:this.minus.bind(this)},"–"),n.createElement("div",null,n.createElement("span",{style:{fontSize:"0.875rem",fontFamily:"Roboto",fontWeight:500,color:"#525252"}},this.state.count)),n.createElement("button",{style:{width:28,height:28,padding:0,marginRight:10,color:"#525252",fontSize:"0.875rem",fontFamily:"Roboto",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"transparent",border:"transparent"},onClick:this.add.bind(this)},"+")))))):void 0}}]),a}(n.Component),Re=function(e){(0,c.Z)(a,e);var t=Ze(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"_isMounted",!1),n.state={city:n.props.city,item:n.props.data,count:0},n}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=W.getItems().find((function(t){return t.item_id==e.state.item.id}));t&&this.setState({count:t.count}),(0,B.EH)((function(){if(e._isMounted){var t=W.getItems().find((function(t){return t.item_id==e.state.item.id}));t?e.setState({count:t.count}):e.setState({count:0})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(){this._isMounted&&W.AddItem(this.state.item.id)}},{key:"minus",value:function(){this._isMounted&&W.MinusItem(this.state.item.id)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.count!==t.count||this.state.item.price!==t.item.price}},{key:"render",value:function(){var e=this;return n.createElement(f.Z,{elevation:0,className:"CardItem"},n.createElement(v.Z,{style:{cursor:"pointer",position:"relative"},onClick:function(){return e.props.openItem(e.state.item.id)}},n.createElement("a",{href:"/"+this.state.city+"/menu/item/"+this.state.item.link},0==parseInt(this.state.item.is_new)?null:n.createElement("img",{src:"/assets/is_new.png",alt:"Новинка",style:{position:"absolute",width:70,top:0,right:0}}),n.createElement(v.Z,{style:{padding:"1.2vw",paddingBottom:0,paddingTop:0}},n.createElement(b.Z,{className:"CardNameItem",gutterBottom:!0,variant:"h5",component:"h3"},this.state.item.name),n.createElement(b.Z,{gutterBottom:!0,className:"CardInfoWeiItem",component:"p"},this.state.item.info_weight),n.createElement(b.Z,{className:"CardInfoItem",component:"p"},this.state.item.tmp_desc)))),n.createElement(y.Z,{className:"CardAction"},n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",marginLeft:0,width:"100%"}},n.createElement("div",null,n.createElement(b.Z,{className:"CardPriceItem",variant:"h5",component:"span"},this.state.item.price," ",n.createElement(Ae,null))),0==this.state.count?n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder fohover"},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem NONHOVERED",onClick:this.add.bind(this)},n.createElement(D.Z,{color:"inherit"})),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem HOVERED",onClick:this.add.bind(this)},"В корзину")):n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder count"},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.minus.bind(this)},n.createElement(w.G,{icon:I.Kl4,style:{fontSize:"1rem"}})),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(b.Z,{className:"CardCountItem",component:"span"},this.state.count)),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.add.bind(this)},n.createElement(w.G,{icon:I.r8p,style:{fontSize:"1rem"}}))))))}}]),a}(n.Component),ze=function(e){(0,c.Z)(a,e);var t=Ze(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"arrColor",{new:{color:"#EE7900",text:"новинка"},hit:{color:"#AF00DB",text:"хит"},sale:{color:"#DB0021",text:"скидка"}}),n.state={size:n.props.size,view:n.props.view,color:n.arrColor[n.props.type].color,text:n.arrColor[n.props.type].text},n}return(0,o.Z)(a,[{key:"render",value:function(){return n.createElement("div",{style:{position:"absolute",top:"mobile"==this.state.view?0:20,left:"mobile"==this.state.view?-10:20}},n.createElement("div",{style:{width:"small"==this.state.size?84:114,height:"small"==this.state.size?34:44,backgroundColor:"rgba(255, 255, 255, 0.6)",borderRadius:15}}),n.createElement("div",{style:{width:"small"==this.state.size?80:110,height:"small"==this.state.size?30:40,backgroundColor:this.state.color,borderRadius:15,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:2,left:2}},n.createElement(b.Z,{component:"span",style:{fontFamily:"Roboto",fontSize:"0.75rem",fontWeight:400,color:"#fff",textTransform:"uppercase",lineHeight:1}},this.state.text)))}}]),a}(n.Component),je=n.forwardRef((function(e,t){return n.createElement(H.Z,(0,u.Z)({direction:"up",ref:t},e))})),Le=function(e){(0,c.Z)(a,e);var t=Ze(a);function a(){return(0,s.Z)(this,a),t.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){return n.createElement(Fe,{data:this.props.data,city:this.props.city,this_link:this.props.this_link})}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:Be(e),page:"",link:e};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Ne.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),a}(n.Component),Fe=function(e){(0,c.Z)(a,e);var t=Ze(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"_isMounted",!1),(0,p.Z)((0,l.Z)(n),"startMove",0),(0,p.Z)((0,l.Z)(n),"activeID",0),(0,p.Z)((0,l.Z)(n),"firebaseAnalitic",null),(0,p.Z)((0,l.Z)(n),"componentDidMount",(function(){n._isMounted=!0;var e=Date.now(),t=[];Pe=(0,q.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),n.firebaseAnalitic=(0,J.IH)(Pe),W.getAllItemsCatNew();var i=W.getAllItemsCat();setTimeout((function(){window.addEventListener("scroll",(function(){if(this._isMounted&&e+500-Date.now()<0){if(i.map((function(e,a){var n=document.getElementById("cat"+e.id);if(n){var i=n.getBoundingClientRect().top+document.body.scrollTop-200;i<0&&t.push({name:e.name,Y:i,main_id:e.main_id})}})),t.length>0){var a=t[t.length-1];t=[],a&&this.activeID!=parseInt(a.main_id)&&0!=parseInt(a.main_id)&&(document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),document.querySelector("#link_"+a.main_id)&&document.querySelector("#link_"+a.main_id).classList.add("activeCat"),this.activeID=parseInt(a.main_id))}e=Date.now()}})),n.setState({is_load:!0})}),300),n.state.city_name,"undefined"!=typeof window&&(setTimeout((function(){if(localStorage.getItem("goTo")){var e=localStorage.getItem("goTo");localStorage.removeItem("goTo");var t=50;document.querySelector(".scrollCat.mobile")&&(t+=50),setTimeout((function(){ke.scrollTo("myScrollToElement",{duration:800,delay:800,smooth:"easeInOutQuart",offset:document.getElementById("cat"+e).getBoundingClientRect().y-t})}),150)}}),1e3),setTimeout((function(){var e=window.location.search;if(e.length>0){var t=e.split("?showItem="),a=(W.getAllItems(),t[1]);a=a.split("&")[0],window.innerWidth<=500?n.openItem(a):n.openItemPC(a)}var i=window.location.pathname,r="",s=(i=i.split("/")).find((function(e){return"menu"==e}));if(s&&s.length>0&&!i.find((function(e){return"item"==e}))){var o=i.findIndex((function(e){return"menu"==e}));r=i[o+1],document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),document.querySelector('[name="'+r+'"]')&&document.querySelector('[name="'+r+'"]').classList.add("activeCat")}}),750)),a.fetchData("/"+n.state.city_name).then((function(e){n.setState({page:e.page,title:e.title,description:e.description})})),W.setPage("home"),0==W.getAllItemsCat().length&&n.setState({allItems:W.getAllItemsCat()}),window.scrollTo(0,0),(0,B.EH)((function(){n._isMounted&&(n.setState({allItems:W.getAllItemsCat(),mainLink:W.getMainLink()}),n.loadBanners(W.getBanners()))}))})),n.state={allItems:[],is_load:!1,testData:[1,2,3,4,5,6,7,8],openItem:null,openItemSet:null,openModal:!1,openModalPC:!1,openModalPCSet:!1,openModalPCSetItems:[],openModalPCInfo:!1,openModalPCInfoItems:[],banners_pc:[],banners_mobile:[],city_name:n.props.city,page:n.props.data?n.props.data.page:null,title:n.props.data?n.props.data.title:null,description:n.props.data?n.props.data.description:null,mainLink:n.props.this_link},n.props.data&&n.loadBanners(n.props.data.all.other.cats.baners),W.setCity(n.props.city),n}return(0,o.Z)(a,[{key:"loadBanners",value:function(e){var t=this,a=[],i=[];e.map((function(e,s){e.aktia_id&&parseInt(e.aktia_id)>0?(a.push(n.createElement(r.OL,{to:"/"+W.getCity()+"/akcii?act_"+e.aktia_id,exact:!0,style:{width:"inherit",height:"auto"}},n.createElement("picture",{style:{width:"inherit",height:"auto"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto",minHeight:200},onDragStart:Me})))),i.push(n.createElement(r.OL,{to:"/"+W.getCity()+"/akcii?act_"+e.aktia_id,exact:!0,style:{width:"inherit",height:"auto"}},n.createElement("picture",{style:{width:"inherit",height:"auto"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto"},onDragStart:Me}))))):e.item&&parseInt(e.item)>0?(a.push(n.createElement("picture",{style:{width:"inherit",height:"auto"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto",minHeight:200},onDragStart:Me,onClick:t.openItemPC.bind(t,e.item)}))),i.push(n.createElement("picture",{style:{width:"inherit",height:"auto"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto"},onDragStart:Me,onClick:t.openItem.bind(t,e.item)})))):(a.push(n.createElement("picture",{style:{width:"inherit",height:"auto"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"3700х1000.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto",minHeight:200},onDragStart:Me}))),i.push(n.createElement("picture",{style:{width:"inherit",height:"auto"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-home-img/"+e.img_new+"1000х500.jpg?"+e.img_new_update,style:{width:"inherit",height:"auto"},onDragStart:Me}))))})),this.setState({banners_pc:a,banners_mobile:i})}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUmount",value:function(){window.removeEventListener("scroll")}},{key:"openItem",value:function(e){var t=W.getAllItems().find((function(t){return t.id==e})),a={item_id:t.id,item_name:t.name},n=window.location.pathname+"?showItem="+t.id;(0,J.Kz)(this.firebaseAnalitic,"open_item",{content_type:"item",content_id:t.id,items:[{name:t.name}]}),window.history.pushState(a,"",n),this.setState({openItem:t,openModal:!0}),setTimeout((function(){}),300)}},{key:"openItemPC",value:function(e){var t=W.getAllItems().find((function(t){return t.id==e})),a={item_id:t.id,item_name:t.name},n=window.location.pathname+"?showItem="+t.id;(0,J.Kz)(this.firebaseAnalitic,"open_item",{content_type:"item",content_id:t.id,items:[{name:t.name}]}),window.history.pushState(a,"",n),this.setState({openItem:t,openModalPC:!0})}},{key:"openModal",value:function(){this.setState({openModal:!0})}},{key:"handleClose",value:function(){var e=window.location.pathname;window.history.pushState({},"",e),this.setState({openModal:!1,openItem:null})}},{key:"handleClosePC",value:function(){var e=window.location.pathname;window.history.pushState({},"",e),this.setState({openModalPC:!1,openItem:null,openModalPCSet:!1,openModalPCSetItems:[]})}},{key:"handleClosePCSet",value:function(){this.setState({openModalPCSet:!1,openModalPCSetItems:[]})}},{key:"handleClosePCInfo",value:function(){this.setState({openModalPCInfo:!1,openModalPCInfoItems:[]})}},{key:"touchStart",value:function(e){this.startMove=e.changedTouches[0].pageY}},{key:"touchEnd",value:function(e){e.changedTouches[0].pageY-this.startMove>125&&this.handleClose()}},{key:"openSetPc",value:function(e){this.setState({openModalPCSet:!0,openModalPCSetItems:e})}},{key:"openInfo",value:function(e){this.setState({openModalPCInfo:!0,openModalPCInfoItems:e})}},{key:"render",value:function(){var e=this,t=this.state.mainLink;t=t.split("/");var a="",i=t.find((function(e){return"menu"==e}));if(i&&i.length>0&&!t.find((function(e){return"item"==e}))){var r=t.findIndex((function(e){return"menu"==e}));a=t[r+1]}if("undefined"!=typeof window){var s=window.location.href;if(this.state.mainLink!=s&&(t=(t=s).split("/"),a="",(i=t.find((function(e){return"menu"==e})))&&i.length>0&&!t.find((function(e){return"item"==e})))){var o=t.findIndex((function(e){return"menu"==e}));a=t[o+1]}}return!1===this.state.is_load?n.createElement(Se,{name:"myScrollToElement",className:"Category"},n.createElement(b.Z,{variant:"h5",component:"h1",style:{paddingBottom:20}},this.state.page?this.state.page.page_h:""),W.getAllItemsCat().map((function(t,i){return""==a||a==t.main_link?n.createElement("div",{key:i,name:"cat"+t.main_id,id:"cat"+t.id},n.createElement(g.Z,{container:!0,spacing:2,style:{margin:0,padding:"0px 36px",flexWrap:"wrap",width:"100%",paddingBottom:40},className:"MainItems mainContainer"},n.createElement(b.Z,{variant:"h5",component:"h2"},t.name)),n.createElement(g.Z,{container:!0,spacing:2,style:{margin:0,padding:"0px 10px",paddingBottom:20,flexWrap:"wrap",width:"100%"},className:"MainItems mainContainer"},t.items.map((function(t,a){return n.createElement(g.Z,{item:!0,xs:12,sm:4,md:3,xl:3,key:a,style:{padding:"10px 8px",display:"flex"}},n.createElement(Re,{city:e.state.city_name,data:t,type:"pc",openItem:e.openItemPC.bind(e)}))})))):null})),n.createElement(U.Z,{mdUp:!0},n.createElement(k.Z,{style:{zIndex:4,color:"#fff"},open:!0},n.createElement(N.Z,{color:"inherit"})))):n.createElement(Se,{name:"myScrollToElement",className:"Category"},n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(U.Z,{smDown:!0},0==this.state.banners_pc.length?null:n.createElement(Te,{type:"pc",data:this.state.banners_pc})),n.createElement(U.Z,{mdUp:!0},0==this.state.banners_mobile.length?null:n.createElement(Te,{type:"mobile",data:this.state.banners_mobile})),W.getAllItemsCat().map((function(t,i){return t.items.length>0&&(""==a||a==t.main_link||a==t.link)?n.createElement("div",{key:i,name:"cat"+t.main_id,id:"cat"+t.id},n.createElement(g.Z,{container:!0,spacing:2,style:{margin:0,padding:"0px 20px",flexWrap:"wrap",width:"100%"},className:"MainItems mainContainer"},t.items.map((function(a,r){return n.createElement(n.Fragment,{key:r},n.createElement(U.Z,{xsDown:!0},n.createElement(g.Z,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,style:{padding:"30px 16px",display:"flex",width:"100%"}},n.createElement(Oe,{data:a,type:"pc",openItem:e.openItemPC.bind(e)}))),n.createElement(U.Z,{smUp:!0},n.createElement(g.Z,{item:!0,xs:12,sm:6,md:4,lg:3,xl:3,style:{display:"flex",padding:"10px 0px",borderBottom:t.items.length-1==r&&W.getAllItemsCat().length-1==i?"none":"1px solid rgba(27, 27, 31, 0.1)"}},n.createElement(Oe,{data:a,type:"mobile",openItem:e.openItem.bind(e)}))))})))):null})),this.state.openItem?n.createElement(G.Z,{disableElevation:!0,fullScreen:!0,open:this.state.openModal,className:"ItemDialog",onClose:this.handleClose.bind(this),TransitionComponent:je},n.createElement(P.Z,{disableTypography:!0,style:{margin:0,padding:0}},n.createElement(A.Z,{"aria-label":"close",style:{position:"absolute",top:-47,left:8,backgroundColor:"transparent"},onClick:this.handleClose.bind(this)},n.createElement(De,{style:{width:25,height:25}}))),n.createElement("div",null,n.createElement(xe,{itemId:this.state.openItem.id,item:this.state.openItem,openSetPc:this.openSetPc.bind(this),openInfo:this.openInfo.bind(this),openModalPCInfo:this.state.openModalPCInfo}))):null,this.state.openItem?n.createElement(n.Fragment,null,n.createElement(U.Z,{lgUp:!0},n.createElement(G.Z,{disableElevation:!0,maxWidth:"md",fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePC.bind(this),className:"modalActii Item OpenItemPC testModalMD",open:this.state.openModalPC},n.createElement(A.Z,{className:"IconButtonClose","aria-label":"close",style:{position:"absolute",top:-52,left:16,zIndex:1500,width:52,height:52,backgroundColor:"transparent"},onClick:this.handleClosePC.bind(this)},n.createElement(De,null)),n.createElement(T.Z,{className:"modalActiiContentNew",style:{overflow:"hidden"}},n.createElement(xe,{itemId:this.state.openItem.id,item:this.state.openItem,openSetPc:this.openSetPc.bind(this),openInfo:this.openInfo.bind(this),openModalPCInfo:this.state.openModalPCInfo})))),n.createElement(U.Z,{only:["xs","sm","md"]},n.createElement(G.Z,{disableElevation:!0,maxWidth:"lg",fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePC.bind(this),className:"modalActii Item OpenItemPC testModalLG",open:this.state.openModalPC},n.createElement(A.Z,{className:"IconButtonClose","aria-label":"close",style:{position:"absolute",top:-52,left:16,zIndex:1500,width:52,height:52,backgroundColor:"transparent"},onClick:this.handleClosePC.bind(this)},n.createElement(De,null)),n.createElement(T.Z,{className:"modalActiiContentNew",style:{overflow:"hidden"}},n.createElement(xe,{itemId:this.state.openItem.id,item:this.state.openItem,openSetPc:this.openSetPc.bind(this),openInfo:this.openInfo.bind(this),openModalPCInfo:this.state.openModalPCInfo}))))):null,this.state.openItem?n.createElement(n.Fragment,null,n.createElement(U.Z,{smUp:!0},n.createElement(G.Z,{disableElevation:!0,fullScreen:!0,style:{width:"100%",marginTop:this.state.openItem.items.length>1?400:470,backgroundColor:"rgba(0, 0, 0, 0.6)",borderTopRightRadius:30,borderTopLeftRadius:30},onClose:this.handleClosePCInfo.bind(this),className:"ItemDialog OpenItemMobInfo blurBacground",open:this.state.openModalPCInfo,TransitionComponent:je},n.createElement(P.Z,{disableTypography:!0,style:{margin:0,padding:0}},n.createElement(A.Z,{"aria-label":"close",style:{position:"absolute",top:-47,left:8,backgroundColor:"transparent"},onClick:this.handleClosePCInfo.bind(this)},n.createElement(De,{style:{width:25,height:25}}))),n.createElement(T.Z,{className:"modalActiiContentNew",style:{height:this.state.openItem.items.length>1?"calc(100vh - 400px)":"calc(100vh - 470px)",padding:20,display:"flex",flexWrap:"wrap",alignContent:"start"}},n.createElement(b.Z,{variant:"h5",component:"h1",style:{textAlign:"center",fontFamily:"Roboto",fontWeight:700,fontSize:"1.625rem",color:"#fff",width:"100%",marginBottom:20}},"Пищевая ценность на 100 г"),1==this.state.openItem.items.length?null:n.createElement("div",{style:{width:"100%",height:2,backgroundColor:"#fff",marginBottom:20}}),n.createElement("div",{style:this.state.openItem.items.length>1?{overflowY:"scroll",maxHeight:200}:{}},this.state.openItem.items.map((function(t,a){return n.createElement("div",{style:{border:"2px solid #fff",borderRadius:10,marginBottom:1==e.state.openItem.items.length||e.state.openItem.items.length-1==a?0:20},key:a},n.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row",borderBottom:"2px solid #fff"}},n.createElement("div",{style:{width:"75%",display:"flex",alignItems:"center",borderRight:"2px solid #fff",padding:10}},n.createElement(b.Z,{style:{fontFamily:"Roboto",fontWeight:400,fontSize:"1.1rem",lineHeight:1.25,color:"#fff"}},t.name)),n.createElement("div",{style:{width:"25%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",padding:10}},n.createElement(b.Z,{style:{fontSize:"2rem",lineHeight:1,fontFamily:"Roboto",fontWeight:500,color:"#fff"}},t.kkal),n.createElement(b.Z,{style:{fontSize:"1rem",lineHeight:.8,fontFamily:"Roboto",fontWeight:400,color:"#fff"}},"ккал"))),n.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"row"}},n.createElement("div",{style:{width:"50%",padding:10,borderRight:"2px solid #fff"}},n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,color:"#fff"}},"Состав: ",t.tmp_desc)),n.createElement("div",{style:{width:"50%",padding:10},className:"styleTooltip"},n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1,color:"#fff"}},"белки"),n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3,color:"#fff"}},t.protein," г")),n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1,color:"#fff"}},"жиры"),n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3,color:"#fff"}},t.fat," г")),n.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:1,color:"#fff"}},"углеводы"),n.createElement(b.Z,{style:{fontSize:"0.8rem",fontFamily:"Roboto",fontWeight:400,order:3,color:"#fff"}},t.carbohydrates," г")))))})))))),n.createElement(U.Z,{smUp:!0},n.createElement(G.Z,{disableElevation:!0,fullScreen:!0,style:{height:"calc(100vh - 50px)",width:"100%"},onClose:this.handleClosePCSet.bind(this),className:"ItemDialog OpenItemMobSet",open:this.state.openModalPCSet,TransitionComponent:je},n.createElement(P.Z,{disableTypography:!0,style:{margin:0,padding:0}},n.createElement(A.Z,{"aria-label":"close",style:{position:"absolute",top:-47,left:8,backgroundColor:"transparent"},onClick:this.handleClosePCSet.bind(this)},n.createElement(De,{style:{width:25,height:25}}))),n.createElement(T.Z,{className:"modalActiiContentNew",style:{height:"calc(100vh - 50px)",padding:20,display:"flex",flexWrap:"wrap",alignContent:"start"}},n.createElement(b.Z,{variant:"h5",component:"h1",style:{textAlign:"center",fontFamily:"Roboto",fontWeight:700,fontSize:"1.625rem",color:"#525252",width:"100%"}},this.state.openItem.name),n.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%"}},n.createElement("div",{style:{width:4==parseInt(this.state.openItem.cat_id)?238:5==parseInt(this.state.openItem.cat_id)||6==parseInt(this.state.openItem.cat_id)||7==parseInt(this.state.openItem.cat_id)?78:148,height:28,border:"1px solid #DADADA",borderRadius:10,display:"flex",flexDirection:"row",justifyContent:"space-evenly",alignItems:"center",marginTop:10,marginBottom:20}},4==parseInt(this.state.openItem.cat_id)?n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},this.state.openItem.count_part_new),n.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})):null,5==parseInt(this.state.openItem.cat_id)||6==parseInt(this.state.openItem.cat_id)||7==parseInt(this.state.openItem.cat_id)?null:n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:4==parseInt(this.state.openItem.cat_id)?2:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},14==parseInt(this.state.openItem.cat_id)?this.state.openItem.size_pizza+" см":this.state.openItem.count_part+" шт."),n.createElement("div",{style:{height:"100%",borderLeft:"1px solid #DADADA"}})),n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalItemOther",style:{flex:3,textAlign:"center",fontFamily:"Roboto",fontWeight:400,fontSize:"0.87rem",color:"#525252"}},new Intl.NumberFormat("ru-RU").format(this.state.openItem.weight)," ",6==parseInt(this.state.openItem.cat_id)?"л":"г"))),n.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"calc(100vh - 250px)",overflow:"auto"}},this.state.openModalPCSetItems.map((function(e,t){return n.createElement("div",{key:t,style:{width:"100",display:"flex",flexDirection:"row",padding:"10px 0",borderTop:0==t?"1px solid rgba(27, 27, 31, 0.1)":null,borderBottom:"1px solid rgba(27, 27, 31, 0.1)"}},n.createElement("div",{style:{width:"40%",display:"flex",justifyContent:"center",alignItems:"center"}},0!=e.img_app.length&&e.img_app?n.createElement("picture",null,n.createElement("source",{srcset:"\n                                                                    https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_276x276.jpg 138w, \n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_292x292.jpg 146w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_366x366.jpg 183w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_466x466.jpg 233w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_585x585.jpg 292w\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_732x732.jpg 366w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1168x1168.jpg 584w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1420x1420.jpg 760w,\n                                                                    https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:e.name,title:e.name,style:{width:"100%",height:"auto"},src:"https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_276x276.jpg")})):n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{width:"100%",height:"auto"}}))),n.createElement("div",{style:{width:"60%",display:"flex",flexDirection:"column",justifyContent:"center"}},n.createElement(b.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:700,fontSize:"1.06rem",color:"#525252"}},e.name),n.createElement(b.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:400,fontSize:"0.875rem",color:"#525252"}},e.tmp_desc)))})))))),n.createElement(U.Z,{only:["xs","sm","lg","xl"]},n.createElement(G.Z,{disableElevation:!0,maxWidth:"md",fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePCSet.bind(this),className:"modalActii Item OpenItemPCSet",open:this.state.openModalPCSet},n.createElement(A.Z,{className:"IconButtonClose","aria-label":"close",style:{position:"absolute",top:-52,left:16,zIndex:2e3,width:52,height:52,backgroundColor:"transparent"},onClick:this.handleClosePCSet.bind(this)},n.createElement(De,null)),n.createElement(T.Z,{className:"modalActiiContentNew",style:{display:"flex",flexWrap:"wrap",padding:"2% 2.25% 2% 4.5%",alignContent:"start"}},this.state.openModalPCSetItems.map((function(e,t){return n.createElement("div",{key:t,style:{width:"49%",display:"flex",flexDirection:"row",marginRight:0==t||t%2==0?"2%":0,marginBottom:"2%"}},n.createElement("div",{style:{width:"30%",display:"flex",justifyContent:"center",alignItems:"center"}},0!=e.img_app.length&&e.img_app?n.createElement("picture",null,n.createElement("source",{srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_276x276.jpg 138w, \n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_292x292.jpg 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_366x366.jpg 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_466x466.jpg 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_585x585.jpg 292w\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_732x732.jpg 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1168x1168.jpg 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1420x1420.jpg 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:e.name,title:e.name,style:{width:"100%",height:"auto"},src:"https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_276x276.jpg")})):n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{width:"100%",height:"auto"}}))),n.createElement("div",{style:{width:"70%",display:"flex",flexDirection:"column",justifyContent:"center"}},n.createElement(b.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:500,fontSize:"1.25rem"}},e.name),n.createElement(b.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:300,fontSize:"0.94rem"}},e.tmp_desc)))}))))),n.createElement(U.Z,{only:["xs","sm","md"]},n.createElement(G.Z,{disableElevation:!0,maxWidth:"lg",fullWidth:!0,style:{borderRadius:50},onClose:this.handleClosePCSet.bind(this),className:"modalActii Item OpenItemPCSet",open:this.state.openModalPCSet},n.createElement(A.Z,{className:"IconButtonClose","aria-label":"close",style:{position:"absolute",top:-52,left:16,zIndex:2e3,width:52,height:52,backgroundColor:"transparent"},onClick:this.handleClosePCSet.bind(this)},n.createElement(De,null)),n.createElement(T.Z,{className:"modalActiiContentNew",style:{display:"flex",flexWrap:"wrap",padding:"2% 2.25% 2% 4.5%",marginRight:"2.25%",alignContent:"start"}},this.state.openModalPCSetItems.map((function(e,t){return n.createElement("div",{key:t,style:{width:"49%",display:"flex",flexDirection:"row",marginRight:0==t||t%2==0?"2%":0,marginBottom:"2%"}},n.createElement("div",{style:{width:"45%",display:"flex",justifyContent:"center",alignItems:"center"}},0!=e.img_app.length&&e.img_app?n.createElement("picture",null,n.createElement("source",{srcset:"\n                                                                https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_276x276.jpg 138w, \n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_292x292.jpg 146w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_366x366.jpg 183w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_466x466.jpg 233w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_585x585.jpg 292w\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_732x732.jpg 366w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1168x1168.jpg 584w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_1420x1420.jpg 760w,\n                                                                https://storage.yandexcloud.net/site-img/").concat(e.img_app,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:e.name,title:e.name,style:{width:"100%",height:"auto"},src:"https://storage.yandexcloud.net/site-img/".concat(e.img_app,"_276x276.jpg")})):n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.webp?"+e.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+e.img_new+"600х400.jpg?"+e.img_new_update,alt:e.name,title:e.name,style:{width:"100%",height:"auto"}}))),n.createElement("div",{style:{width:"55%",display:"flex",flexDirection:"column",justifyContent:"center"}},n.createElement(b.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:700,fontSize:"1.25rem",color:"#525252"}},e.name),n.createElement(b.Z,{variant:"h5",component:"span",style:{fontFamily:"Roboto",fontWeight:400,fontSize:"0.9rem",color:"#525252"}},e.tmp_desc)))})))))):null)}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:Be(e),page:"",link:e};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Ne.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),a}(n.Component),We=a(9439),Ge=a(8135),He=a(1201),Ue=a(743),qe=a(4566);var Je=a(7563);function Ke(e){var t=n.useState(!1),a=(0,We.Z)(t,2),i=a[0],r=a[1],s=e.points;return n.createElement("div",{className:"Accordion"},s.map((function(e,t){return n.createElement(Ge.Z,{key:t,expanded:i==="panel"+t,onChange:(a="panel"+t,function(e,t){r(!!t&&a)})},n.createElement(Ue.Z,{expandIcon:n.createElement(qe.Z,null),"aria-controls":"panel"+t+"bh-content",id:"panel"+t+"bh-header"},n.createElement(b.Z,{variant:"h5",component:"span"},e.raion,": ",e.addr)),n.createElement(He.Z,{className:"AccordionDesc",style:{flexDirection:"column",padding:0}},n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"b"},"Название организации: "),n.createElement(b.Z,{variant:"h5",component:"span"},e.organization)),n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"b"},"ИНН / КПП: "),n.createElement(b.Z,{variant:"h5",component:"span"},e.inn," / ",e.kpp)),n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"b"},"ОГРН: "),n.createElement(b.Z,{variant:"h5",component:"span"},e.ogrn)),n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"b"},"Фактический адрес: "),n.createElement(b.Z,{variant:"h5",component:"span"},e.full_addr)),n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"b"},"Телефон: "),n.createElement(b.Z,{variant:"h5",component:"span"},e.phone))));var a})))}var Ve=function(e){(0,c.Z)(r,e);var t,a,i=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(a){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function r(e){var t;return(0,s.Z)(this,r),t=i.call(this,e),(0,p.Z)((0,l.Z)(t),"is_load_script",!1),(0,p.Z)((0,l.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("contact"),r.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Je.stringify({type:"get_addr_zone_web",city_id:t.state.city_name})}).then((function(e){return e.json()})).then((function(e){var a=[];e.map((function(e){e.zone_origin.length>0&&a.push(JSON.parse(e.zone_origin))}));var n=[],i=!1;e.map((function(e){i=!1,n.map((function(t){parseInt(t.id)==parseInt(e.id)&&(i=!0)})),i||n.push(e)})),t.setState({points:e,unic_point:n,is_load:!0}),setTimeout((function(){t.loadMap(e,a)}),500)})).catch((function(e){}))})),t.state={points:[],unic_point:[],page:t.props.data?t.props.data.page:null,title:"",description:"",city_name:t.props.city,is_load:!1,is_load_script:!1},W.setCity(t.props.city),t}return(0,o.Z)(r,[{key:"dynamicallyLoadScript",value:function(){if(!1===this.state.is_load_script){console.log("is_load_script");var e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?apikey=ae2bad1f-486e-442b-a9f7-d84fff6296db&lang=ru_RU",document.head.appendChild(e),this.setState({is_load_script:!0})}}},{key:"loadMap",value:function(e,t){var a;ymaps.ready((function(){a=new ymaps.Map("ForMap",{center:[e[0].xy_center_map.latitude,e[0].xy_center_map.longitude],zoom:10.8});var n=ymaps.templateLayoutFactory.createClass("<div class='my-hint'><b>{{ properties.address }}</b><br />График работы: c 10:00 до 21:30<br />Стоимость доставки: {{ properties.sum_div }} руб.</div>");t.map((function(t,i){a.geoObjects.add(new ymaps.Polygon([t],{address:e[i].addr,sum_div:e[i].sum_div},{hintLayout:n,fillColor:"rgba(187, 0, 37, 0.25)",strokeColor:"rgb(187, 0, 37)",strokeWidth:5}))})),e.map((function(e){a.geoObjects.add(new ymaps.Placemark([e.xy_point.latitude,e.xy_point.longitude],{},{iconLayout:"default#image",iconImageHref:"/assets/img_other/Favikon.png",iconImageSize:[30,30],iconImageOffset:[-12,-24],iconContentOffset:[15,15]}))}))}))}},{key:"render",value:function(){return n.createElement(g.Z,{container:!0,className:"Contact mainContainer MuiGrid-spacing-xs-3"},n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(g.Z,{item:!0,xs:12},n.createElement(b.Z,{variant:"h5",component:"h1"},"Контакты")),n.createElement(g.Z,{item:!0,lg:4,md:4,xl:4,sm:12,xs:12,className:"mainContainer"},n.createElement(b.Z,{variant:"h5",component:"h2"},"Режим работы"),n.createElement(b.Z,{variant:"h5",component:"span",className:"p20"},"Работаем ежедневно с 10:00 до 21:30"),n.createElement(b.Z,{variant:"h5",component:"h2"},"Телефон контакт-центра:"),this.state.points[0]?n.createElement(b.Z,{variant:"h5",component:"a",className:"p20",href:"tel:"+this.state.points[0].phone_new},this.state.points[0].phone):null,n.createElement(b.Z,{variant:"h5",component:"h2"},"Адреса кафе:"),n.createElement(Ke,{points:this.state.unic_point})),n.createElement(g.Z,{item:!0,lg:8,md:8,xl:8,sm:12,xs:12,id:"ForMap"},n.createElement("div",{style:{width:"100%",height:"100%",marginRight:12,backgroundColor:"#e5e5e5"}})))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"contacts"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Je.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),r}(n.Component),Ye=a(6856),Qe=a(702);var Xe=a(7563),$e=function(e){(0,c.Z)(r,e);var t,a,i=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(a){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function r(e){var t;return(0,s.Z)(this,r),t=i.call(this,e),(0,p.Z)((0,l.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("actii"),r.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Xe.stringify({type:"get_my_actii_web",city_id:t.state.city_name})}).then((function(e){return e.json()})).then((function(e){t.setState({actii:e.actii,is_load:!0}),setTimeout((function(){var a=window.location.search;if(a.length>0&&a.indexOf("act_")>0){var n=a.split("act_")[1],i=e.actii.find((function(e){return e.id==n}));t.openDialog(i)}}),300)})).catch((function(e){}))})),t.state={actii:[],pre_actii:[1,2,3,4],is_load:!1,showItem:null,openDialog:!1,title:"",description:"",city_name:t.props.city,page:t.props.data?t.props.data.page:null,openMSG:!1,statusMSG:!1,textMSG:""},W.setCity(t.props.city),t}return(0,o.Z)(r,[{key:"closeDialog",value:function(){var e=window.location.pathname;window.history.pushState({},"",e),this.setState({showItem:null,openDialog:!1})}},{key:"openDialog",value:function(e){var t=W.getAllItems();e.items.map((function(a,n){e.items[n].item=t.find((function(e){return e.id==a.item_id}))}));var a=window.location.pathname+"?act_"+e.id;window.history.pushState({},"",a),this.setState({showItem:e,openDialog:!0})}},{key:"closeAlert",value:function(){this.setState({openMSG:!1})}},{key:"activePromo",value:function(e,t){var a=this;W.setPromo(JSON.stringify(e),t);var n=W.checkPromo();setTimeout((function(){n.st?a.setState({openMSG:!0,statusMSG:!0,textMSG:"Промокод применен"}):a.setState({openMSG:!0,statusMSG:!1,textMSG:n.text})}),300)}},{key:"render",value:function(){var e=this;return n.createElement(g.Z,{container:!0,className:"Actii mainContainer MuiGrid-spacing-xs-3"},n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(Qe.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.openMSG,autoHideDuration:3e3,onClose:this.closeAlert.bind(this),message:this.state.textMSG,style:{backgroundColor:this.state.statusMSG?"green":"#BB0025",borderRadius:4}}),n.createElement(g.Z,{item:!0,xs:12},n.createElement(b.Z,{variant:"h5",component:"h1"},"Акции")),n.createElement(g.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer"},!1===this.state.is_load?this.state.pre_actii.map((function(e,t){return n.createElement(g.Z,{item:!0,xs:12,sm:6,md:3,xl:3,key:t,style:{padding:12}},n.createElement("div",{style:{width:"100%",height:300,backgroundColor:"#e5e5e5"}}))})):this.state.actii.map((function(t,a){return n.createElement(g.Z,{item:!0,xs:12,sm:6,md:4,xl:3,key:a},n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-aktii/"+t.img_new+"750х750.webp?"+t.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-aktii/"+t.img_new+"750х750.jpg?"+t.img_new_update,alt:t.promo_title,title:t.promo_title,style:{width:"100%"},onClick:e.openDialog.bind(e,t)})))}))),(this.state.page&&this.state.page.content,null),(this.state.page&&this.state.page.content,null),this.state.showItem?n.createElement(G.Z,{onClose:this.closeDialog.bind(this),"aria-labelledby":"customized-dialog-title",className:"modalActii",open:this.state.openDialog},n.createElement(P.Z,{disableTypography:!0,style:{margin:0,padding:8}},n.createElement(b.Z,{variant:"h6"},this.state.showItem.promo_title),n.createElement(A.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0},onClick:this.closeDialog.bind(this)},n.createElement(w.G,{icon:I.NBC,style:{fontSize:"1.8rem",color:"#e5e5e5"}}))),n.createElement(T.Z,{className:"modalActiiContent"},n.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.showItem.text}})),this.state.showItem.promo.length>0?n.createElement(Ye.Z,{style:{justifyContent:"center",padding:"15px 0px"}},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",onClick:this.activePromo.bind(this,this.state.showItem.info,this.state.showItem.promo)},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Применить промокод"))):null):null)}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"akcii"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Xe.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),r}(n.Component),et=a(1959),tt=a(366),at=a(8286),nt=a(6562),it=a(553),rt=a(4436),st=a(3258),ot=a(7212),lt=a(74),ct=a(2541),mt=a(6394),dt=a(5639),pt=a(6209),ht=["children","value","index"];var ut=a(7563);function gt(e){var t=e.children,a=e.value,i=e.index,r=(0,$.Z)(e,ht);return n.createElement("div",(0,u.Z)({role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},r),a===i&&n.createElement("div",{style:{width:"100%"}},t))}function ft(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function yt(e){return n.createElement("svg",{width:e.width?e.width:"50",height:"20",viewBox:e.viewBox?e.viewBox:"0 0 1500 200",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",null,n.createElement("path",{id:"svg_1",d:"m219.27,252.76c63.98,-2.85 99.22,-39.48 99.22,-103.13c0,-37.42 -12.62,-65.49 -37.52,-83.44c-22.29,-16.07 -48.63,-19.21 -62.35,-19.65c-28.61,-0.92 -107.02,-0.04 -110.34,0c-5.75,0.07 -10.38,4.75 -10.38,10.5l0,174.95c-9.23,-0.11 -15.07,-0.2 -15.31,-0.21c-0.06,0 -0.11,0 -0.17,0c-5.72,0 -10.41,4.59 -10.5,10.34c-0.09,5.8 4.54,10.57 10.34,10.66c0.95,0.01 6.78,0.1 15.64,0.21l0,26.12l-15.48,0c-5.8,0 -10.5,4.7 -10.5,10.5s4.7,10.5 10.5,10.5l15.48,0l0,74.89c0,5.8 4.7,10.5 10.5,10.5s10.5,-4.7 10.5,-10.5l0,-74.9l109.39,0c5.8,0 10.5,-4.7 10.5,-10.5s-4.7,-10.5 -10.5,-10.5l-109.39,0l0,-25.88c32.67,0.31 78.53,0.51 100.37,-0.46zm-100.37,-185.33c22.81,-0.21 76.99,-0.61 99.05,0.1c23.92,0.77 79.55,10.31 79.55,82.1c0,52.17 -26.63,79.82 -79.16,82.16c-21.17,0.94 -66.91,0.74 -99.44,0.43l0,-164.79z"})))}gt.propTypes={children:ae().node,index:ae().any.isRequired,value:ae().any.isRequired};var vt=function(e){(0,c.Z)(r,e);var t,a,i=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(a){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function r(e){var t;return(0,s.Z)(this,r),t=i.call(this,e),(0,p.Z)((0,l.Z)(t),"componentDidMount",(function(){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("profile"),setTimeout((function(){W.getToken()||(window.location.pathname="/"+t.state.city_name)}),300),r.fetchData("/"+t.state.city_name).then((function(e){t.setState({title:e.page.title,description:e.page.description})})),t.loadData()})),(0,p.Z)((0,l.Z)(t),"changeTab",(function(e,a){t.setState({valueTab:a})})),(0,p.Z)((0,l.Z)(t),"changeM",(function(e){t.setState({changeM:e.target.value})})),(0,p.Z)((0,l.Z)(t),"changeDay",(function(e){t.setState({changeDay:e.target.value})})),(0,p.Z)((0,l.Z)(t),"changeMail",(function(e){t.setState({userMail:e.target.value})})),(0,p.Z)((0,l.Z)(t),"changeCheck",(function(e){var a=e.target.checked;fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut.stringify({type:"save_profile_spam",my_spam:a?1:0,user_id:W.getToken()})}).then((function(e){return e.json()})).then((function(e){t.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены",spam:a?1:0})}))})),(0,p.Z)((0,l.Z)(t),"changeName",(function(e){t.setState({userName:e.target.value})})),(0,p.Z)((0,l.Z)(t),"changeAddr",(function(e){t.setState({typeDel:e.target.value})})),t.state={actii:[],is_load:!1,openDialog:!1,delOrder:!1,errorOpen:!1,error:{title:"",text:""},title:"",description:"",page:t.props.data?t.props.data.page:null,city_name:t.props.city,typeDel:"0",valueTab:1,info:{},arr_day:[],arr_m:[{name:"Января",value:1},{name:"Февраля",value:2},{name:"Марта",value:3},{name:"Апреля",value:4},{name:"Мая",value:5},{name:"Июня",value:6},{name:"Июля",value:7},{name:"Августа",value:8},{name:"Сентября",value:9},{name:"Октября",value:10},{name:"Ноября",value:11},{name:"Декабря",value:12}],radiogroup_options:[{id:"0",label:"Решили отредактировать заказ",value:0},{id:"1",label:"Не устраивает время ожидания",value:0},{id:"2",label:"Изменились планы",value:0},{id:"3",label:"Недостаточно средств",value:0},{id:"4",label:"Другое",value:0}],textDel:"",changeDay:"",changeM:"",userMail:"",openMSG:!1,statusMSG:!1,textMSG:"",spam:0,userName:"",spiner:!1,showOrder:null},"undefined"!=typeof window&&setTimeout((function(){var e=window.location.search;if(e.length>0){if(e.indexOf("orderId")>0){var a=window.location.search.split("&"),n=a[0].split("bank=");n=n[1];var i=a[1].split("orderId=");i=i[1],t.checkPay(n,i);var r=window.location.pathname;window.history.pushState({},"",r)}if(e.indexOf("trueOrder")>0){var s=window.location.pathname;window.history.pushState({},"",s)}}}),300),W.setCity(t.props.city),t}return(0,o.Z)(r,[{key:"loadData",value:function(){for(var e=this,t=[],a=1;a<=31;a++)t.push(a);setTimeout((function(){fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut.stringify({type:"get_user_web",city_id:e.state.city_name,user_id:W.getToken()})}).then((function(e){return e.json()})).then((function(a){var n=a.orders.my_orders.filter((function(e){return 6!=parseInt(e.status_order)&&0==parseInt(e.is_delete)}));e.setState({info:a,is_load:!0,arr_day:t,userMail:a.user.mail,spam:a.user.spam,userName:a.user.name}),n.length>0&&setTimeout((function(){e.loadData()}),6e3)})).catch((function(e){}))}),300)}},{key:"checkPay",value:function(e,t){var a=this,n={type:"check_pay_web",payId:t,bank:e};C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:ut.stringify(n)}).then((function(n){if(200===n.status){var i=n.data;i.repeat?setTimeout((function(){a.checkPay(e,t)}),5e3):i.is_create||(a.setState({spiner:!1}),i.st?a.trueOrder(i.order_id,i.point_id):(a.props.history.push(window.location.pathname),a.setState({error:{title:"Ошибка оплаты",text:i.pay.actionCodeDescription},errorOpen:!0})))}})).catch((function(e){console.log(e)}))}},{key:"trueOrder",value:function(e,t){var a=this;fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut.stringify({type:"trueOrder",city_id:this.state.city_name,user_id:W.getToken(),order_id:e,point_id:t})}).then((function(e){return e.json()})).then((function(e){0==e.st?a.setState({error:{title:"При подтверждении оплаты произошла ошибка",text:e.text_err},errorOpen:!0}):(W.setItems([]),W.saveCartData({orderType:"0",orderAddr:"",orderPic:0,orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:"",orderSdacha:""}),a.loadData())}))}},{key:"closeDialog",value:function(){this.setState({showItem:null,openDialog:!1})}},{key:"openDialog",value:function(e){this.setState({showItem:e,openDialog:!0})}},{key:"closeAlert",value:function(){this.setState({openMSG:!1})}},{key:"saveMail",value:function(){var e=this;fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut.stringify({type:"save_profile_mail_web",my_mail:this.state.userMail,user_id:W.getToken()})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"saveDay",value:function(){var e=this,t=this.state.changeDay,a=this.state.changeM;if(""!=t&""!=a){var n="";this.state.arr_m.map((function(e,t){parseInt(e.value)==parseInt(a)&&(n=e.name)})),fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut.stringify({type:"save_profile_date",my_date:t+" "+n,user_id:W.getToken()})}).then((function(e){return e.json()})).then((function(t){t.st&&fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut.stringify({type:"get_user_web",city_id:e.state.city_name,user_id:W.getToken()})}).then((function(e){return e.json()})).then((function(t){e.setState({info:t})})).catch((function(e){})),setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}}},{key:"activePromo",value:function(e,t){var a=this;W.setPromo(JSON.stringify(e),t);var n=W.checkPromo();setTimeout((function(){n.st?a.setState({openMSG:!0,statusMSG:!0,textMSG:"Промокод применен"}):a.setState({openMSG:!0,statusMSG:!1,textMSG:n.text})}),300)}},{key:"saveName",value:function(){var e=this;fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut.stringify({type:"save_profile_name",my_name:this.state.userName,user_id:W.getToken()})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены"}):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"getOrder",value:function(e,t){var a=this;this.setState({spiner:!0}),fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut.stringify({type:"get_order",order_id:e,point_id:t})}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){a.setState({showOrder:e,openDialog:!0,spiner:!1})}),1e3)})).catch((function(e){}))}},{key:"closeOrder",value:function(){this.setState({delOrder:!0,typeDel:"0",textDel:""})}},{key:"closeOrderTrue",value:function(){var e=this,t=this.state.radiogroup_options.find((function(t){return t.id==e.state.typeDel}));"4"==t.id&&(t.label=this.state.textDel),confirm("Отменить заказ #"+this.state.showOrder.order.order_id)&&fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ut.stringify({type:"close_order",user_id:W.getToken(),order_id:this.state.showOrder.order.order_id,point_id:this.state.showOrder.order.point_id,ans:t.label})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){t.st?(e.setState({openMSG:!0,statusMSG:!0,textMSG:"Данные успешно обновлены",delOrder:!1,openDialog:!1,showItem:null}),e.loadData()):e.setState({openMSG:!0,statusMSG:!1,textMSG:t.text})}),300)}))}},{key:"repeatOrder",value:function(){var e=this,t=[],a=W.getAllItems(),n=null;this.state.showOrder.order_items.map((function(e){if(n=a.find((function(t){return t.id==e.item_id}))){var i=parseInt(n.price),r=parseInt(e.count)*parseInt(n.price);t.push({name:e.name,item_id:e.item_id,count:e.count,one_price:i,all_price:r})}}));var i={orderType:parseInt(this.state.showOrder.order.type_order_)-1,orderAddr:1==parseInt(this.state.showOrder.order.type_order_)?this.state.showOrder.street.name:null,orderPic:parseInt(this.state.showOrder.order.point_id),orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:1==parseInt(this.state.showOrder.order.type_order_)?"cash":"in",orderSdacha:""};W.saveCartData(i),this.state.showOrder.order.promo_name&&""!=this.state.showOrder.order.promo_name&&W.setPromo(this.state.showOrder.promo_info,this.state.showOrder.order.promo_name),W.setItems(t),setTimeout((function(){window.location.pathname="/"+e.state.city_name+"/cart"}),300)}},{key:"logOut",value:function(){localStorage.removeItem("token"),window.location.pathname="/"+this.state.city_name}},{key:"render",value:function(){var e=this;return n.createElement(g.Z,{container:!0,className:"Profile mainContainer MuiGrid-spacing-xs-3"},n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(k.Z,{open:this.state.spiner,style:{zIndex:99,color:"#fff"}},n.createElement(N.Z,{color:"inherit"})),n.createElement(G.Z,{open:this.state.errorOpen,onClose:function(){return e.setState({errorOpen:!1})},className:"DialogErr"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},this.state.error.title),n.createElement(w.G,{className:"closeDialog",onClick:function(){return e.setState({errorOpen:!1})},icon:I.NBC}),n.createElement(T.Z,null,n.createElement(ot.Z,{className:"DialogErrText"},this.state.error.text)),n.createElement(Ye.Z,null,n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({errorOpen:!1})}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Хорошо")))),n.createElement(g.Z,{item:!0,xs:12},n.createElement(b.Z,{variant:"h5",component:"h1"},"Личный кабинет")),n.createElement(Qe.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.openMSG,autoHideDuration:3e3,onClose:this.closeAlert.bind(this),message:this.state.textMSG,style:{backgroundColor:this.state.statusMSG?"green":"#BB0025",borderRadius:4},action:n.createElement(n.Fragment,null,n.createElement(A.Z,{size:"small","aria-label":"close",color:"inherit",onClick:this.closeAlert.bind(this)},n.createElement(tt.Z,{fontSize:"small"})))}),n.createElement(g.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",style:{paddingTop:0}},n.createElement(ne.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},n.createElement(ie.Z,{value:this.state.valueTab,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",style:{justifyContent:"center"}},n.createElement(re.Z,(0,u.Z)({label:"Промокоды"},ft(0),{disableRipple:!0})),n.createElement(re.Z,(0,u.Z)({label:"Заказы"},ft(1),{disableRipple:!0})),n.createElement(re.Z,(0,u.Z)({label:"Редактирование"},ft(2),{disableRipple:!0})))),n.createElement(gt,{value:this.state.valueTab,index:0,style:{width:"100%"}},n.createElement("div",{style:{padding:12}},this.state.info.promo?n.createElement(U.Z,{mdDown:!0},n.createElement("table",{style:{width:"100%"},className:"TablePromo"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span"},"Промокод")),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span"},"Промокод дает:")),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span"},"Действует до")))),n.createElement("tbody",null,this.state.info.promo.promo.map((function(t,a){return n.createElement("tr",{key:a},n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span",onClick:e.activePromo.bind(e,t.info,t.promo_name)},t.promo_name)),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span"},t.promo_text)),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span"},t.date_end)))}))))):null,this.state.info.promo?n.createElement(U.Z,{lgUp:!0},n.createElement("table",{style:{width:"100%"},className:"TablePromoMobile"},n.createElement("tbody",null,this.state.info.promo.promo.map((function(t,a){return n.createElement("tr",{key:a},n.createElement("td",null,n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"span"},"Промокод: "),n.createElement(b.Z,{variant:"h5",component:"span"},t.promo_name)),n.createElement("div",{style:{width:"100%",paddingTop:10}},n.createElement(b.Z,{variant:"h5",component:"span"},"Действует до: "),n.createElement(b.Z,{variant:"h5",component:"span"},t.date_end)),n.createElement("div",{style:{width:"100%",paddingTop:10,textAlign:"justify"}},n.createElement(b.Z,{variant:"h5",component:"span"},"Промокод дает: "),n.createElement(b.Z,{variant:"h5",component:"span"},t.promo_text)),n.createElement("div",{style:{width:"100%",paddingTop:10}},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:e.activePromo.bind(e,t.info,t.promo_name)},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",style:{width:"100%"}},"Применить промокод")))))}))))):null)),n.createElement(gt,{value:this.state.valueTab,index:1,style:{width:"100%"}},this.state.info.orders?n.createElement("div",{className:"TableOrders"},n.createElement("div",{className:"thead"},n.createElement(b.Z,{variant:"h5",component:"span",style:{flex:2}},"№"),n.createElement(b.Z,{variant:"h5",component:"span",style:{flex:3}},"Дата"),n.createElement(b.Z,{variant:"h5",component:"span",style:{flex:1}},"Сумма"),n.createElement(b.Z,{variant:"h5",component:"span",style:{flex:1}})),n.createElement("div",{className:"tbody"},this.state.info.orders.my_orders.map((function(t,a){return n.createElement("div",{key:a,className:6==parseInt(t.status_order)||1==parseInt(t.is_delete)?"":"active",onClick:e.getOrder.bind(e,t.order_id,t.point_id)},n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"span",style:{flex:2}},t.order_id),n.createElement(b.Z,{variant:"h5",component:"span",style:{flex:3}},t.date_time_new),n.createElement(b.Z,{variant:"h5",component:"span",className:"CardPriceItem",style:{flex:1}},t.sum," ",n.createElement(yt,{width:"20",viewBox:"0 0 700 300"})),n.createElement(b.Z,{variant:"h5",component:"span",style:{flex:1}},1==parseInt(t.is_delete)?n.createElement(tt.Z,{style:{position:"relative",top:3}}):6==parseInt(t.status_order)?n.createElement(et.Z,{style:{position:"relative",top:3}}):null)),6==parseInt(t.status_order)||1==parseInt(t.is_delete)?null:n.createElement("div",{className:"boxSteps"},n.createElement("div",null,n.createElement("div",{className:0==parseInt(t.steps[0].active)||2==parseInt(t.steps[0].active)?"":"active"},n.createElement(b.Z,{variant:"h5",component:"span"},t.steps[0].name)),n.createElement("div",{className:0==parseInt(t.steps[1].active)||2==parseInt(t.steps[1].active)?"":"active"},n.createElement(b.Z,{variant:"h5",component:"span"},t.steps[1].name)),n.createElement("div",{className:0==parseInt(t.steps[2].active)||2==parseInt(t.steps[2].active)?"":"active"},n.createElement(b.Z,{variant:"h5",component:"span"},t.steps[2].name)),n.createElement("div",{className:0==parseInt(t.steps[3].active)||2==parseInt(t.steps[3].active)?"":"active"},n.createElement(b.Z,{variant:"h5",component:"span"},t.steps[3].name))),0==t.time_to_client?null:n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"span"},"Заказ ",1==parseInt(t.type_order)?"привезут до: ":"будет готов до: ",t.time_to_client))))})))):null),n.createElement(gt,{value:this.state.valueTab,index:2,style:{width:"100%"}},this.state.info.user?n.createElement("div",{className:"TableInfo"},n.createElement("form",{noValidate:!0,autoComplete:"off"},n.createElement(at.Z,{label:"Имя",value:this.state.userName,className:"input",onChange:this.changeName.bind(this),onBlur:this.saveName.bind(this)}),n.createElement(at.Z,{InputProps:{readOnly:!0},label:"Номер телефона",value:this.state.info.user.login,className:"input"})),n.createElement("form",{noValidate:!0,autoComplete:"off"},""!=this.state.info.user.date_bir?n.createElement(at.Z,{label:"Дата рождения",className:"input",InputProps:{readOnly:!0},value:this.state.info.user.date_bir}):n.createElement("div",{className:"input"},n.createElement(mt.Z,{className:"otherLabel"},"Дата рождения"),n.createElement(rt.Z,{className:"ChangeDay"},n.createElement(pt.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,value:this.state.changeDay,onChange:this.changeDay.bind(this),onBlur:this.saveDay.bind(this)},n.createElement(dt.Z,{className:"menuItem",value:""},"День"),this.state.arr_day.map((function(e,t){return n.createElement(dt.Z,{key:t,className:"menuItem",value:e},e)})))),n.createElement(rt.Z,{className:"ChangeM"},n.createElement(pt.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",displayEmpty:!0,value:this.state.changeM,onChange:this.changeM.bind(this),onBlur:this.saveDay.bind(this)},n.createElement(dt.Z,{className:"menuItem",value:""},"Месяц"),this.state.arr_m.map((function(e,t){return n.createElement(dt.Z,{key:t,className:"menuItem",value:e.value},e.name)}))))),n.createElement(at.Z,{label:"E-mail",className:"input",value:this.state.userMail,onChange:this.changeMail.bind(this),onBlur:this.saveMail.bind(this)})),n.createElement(nt.Z,{row:!0,className:"input checkbox"},n.createElement(it.Z,{onChange:this.changeCheck.bind(this),control:n.createElement(st.Z,{checked:1==parseInt(this.state.spam),name:"checkedC"}),label:"Получать сообщения с акциями"})),n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:this.logOut.bind(this)},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Выйти"))):null)),this.state.showOrder?n.createElement(G.Z,{onClose:this.closeDialog.bind(this),"aria-labelledby":"customized-dialog-title",className:"showOrderDialog",open:this.state.openDialog,fullWidth:!0},n.createElement(P.Z,{disableTypography:!0,style:{margin:0,padding:8}},n.createElement(b.Z,{variant:"h6"},"Заказ ",this.state.showOrder.order.order_id),n.createElement(A.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0,color:"#000"},onClick:this.closeDialog.bind(this)},n.createElement(tt.Z,null))),n.createElement(T.Z,{className:"showOrderDialogContent"},n.createElement(b.Z,{variant:"h6",component:"span"},this.state.showOrder.order.type_order,": ",this.state.showOrder.order.type_order_addr_new),n.createElement(b.Z,{variant:"h6",component:"span"},this.state.showOrder.order.time_order_name,": ",this.state.showOrder.order.time_order),n.createElement(b.Z,{variant:"h6",component:"span"},"Статус заказа: ",this.state.showOrder.order.this_status_order),1==parseInt(this.state.showOrder.order.is_preorder)?null:n.createElement(b.Z,{variant:"h6",component:"span"},this.state.showOrder.order.text_time,this.state.showOrder.order.time_to_client),null==this.state.showOrder.order.promo_name||0==this.state.showOrder.order.promo_name.length?null:n.createElement(b.Z,{variant:"h6",component:"span"},"Промокод: ",this.state.showOrder.order.promo_name),null==this.state.showOrder.order.promo_name||0==this.state.showOrder.order.promo_name.length?null:n.createElement(b.Z,{variant:"h6",component:"span",className:"noSpace"},this.state.showOrder.order.promo_text),null==this.state.showOrder.order.sdacha||0==this.state.showOrder.order.sdacha.length||0==this.state.showOrder.order.sdacha?null:n.createElement(b.Z,{variant:"h6",component:"span"},"Сдача с: ",this.state.showOrder.order.sdacha),n.createElement(b.Z,{variant:"h5",component:"span",className:"CardPriceItem"},"Сумма закза: ",this.state.showOrder.order.sum_order," ",n.createElement(yt,{width:"20",viewBox:"0 0 700 300"})),n.createElement("table",{className:"tableOrderCheck"},n.createElement("tbody",null,this.state.showOrder.order_items.map((function(e,t){return n.createElement("tr",{key:t},n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span"},e.name)),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span"},e.count)))}))))),0==parseInt(this.state.showOrder.order.is_delete)&&6!==parseInt(this.state.showOrder.order.status_order)?n.createElement(Ye.Z,{style:{justifyContent:"flex-end",padding:"15px 0px"}},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.closeOrder.bind(this,this.state.showOrder.order.order_id,this.state.showOrder.order.point_id)},"Отменить заказ"))):null,1==parseInt(this.state.showOrder.order.is_delete)||6==parseInt(this.state.showOrder.order.status_order)?n.createElement(Ye.Z,{style:{justifyContent:"flex-end",padding:"15px 0px"}},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.repeatOrder.bind(this,this.state.showOrder.order.order_id,this.state.showOrder.order.point_id)},"Повторить заказ"))):null):null,n.createElement(G.Z,{open:this.state.delOrder,onClose:function(){e.setState({delOrder:!1})},"aria-labelledby":"form-dialog-title"},n.createElement(P.Z,{id:"form-dialog-title"},"Отмена заказа"),n.createElement(T.Z,null,n.createElement(ot.Z,null,"Нам очень жаль, что вы приняли решение отменить заказ. Возможно, мы сделали что-то не так, помогите нам стать лучше, поделитесь причиной отказа:"),n.createElement(A.Z,{"aria-label":"close",style:{position:"absolute",top:0,right:0,color:"#000"},onClick:function(){e.setState({delOrder:!1})}},n.createElement(tt.Z,null)),n.createElement(rt.Z,{component:"fieldset"},n.createElement(ct.Z,{name:"typeDel",value:this.state.typeDel,onChange:this.changeAddr},this.state.radiogroup_options.map((function(e,t){return n.createElement(it.Z,{key:t,value:e.id,control:n.createElement(lt.Z,null),label:e.label})})))),n.createElement(at.Z,{onFocus:function(){e.setState({typeDel:"4"})},value:this.state.textDel,onChange:function(t){e.setState({textDel:t.target.value})},margin:"dense",id:"name",label:"Причина отмены",type:"text",fullWidth:!0})),n.createElement(Ye.Z,{style:{paddingBottom:24}},n.createElement(U.Z,{xsDown:!0},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:function(){e.setState({delOrder:!1})}},"К заказу"))),n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorderOther",style:{marginRight:24}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem",onClick:this.closeOrderTrue.bind(this)},"Отменить заказ")))))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"profile"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:ut.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),r}(n.Component),Et=a(9895),_t=a(4741),bt=a(5517),wt=a(5037),It=a(6718),xt=a(3901),Zt=a(2822),Ct=a(998),St=a(6353),kt=a(5757),Nt=a(6019),Pt=a(8799),Tt=a(5431),At=["children","value","index"];function Dt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,m.Z)(this,a)}}var Mt=a(7563),Bt=null;function Ot(e){return(e=(e=e.split("/")).filter((function(e){return""!=e})))[0]}function Rt(e){return n.createElement("svg",{width:e.width?e.width:50,height:"20",viewBox:e.viewBox?e.viewBox:"0 0 1400 200",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",null,n.createElement("path",{id:"svg_1",d:"m219.27,252.76c63.98,-2.85 99.22,-39.48 99.22,-103.13c0,-37.42 -12.62,-65.49 -37.52,-83.44c-22.29,-16.07 -48.63,-19.21 -62.35,-19.65c-28.61,-0.92 -107.02,-0.04 -110.34,0c-5.75,0.07 -10.38,4.75 -10.38,10.5l0,174.95c-9.23,-0.11 -15.07,-0.2 -15.31,-0.21c-0.06,0 -0.11,0 -0.17,0c-5.72,0 -10.41,4.59 -10.5,10.34c-0.09,5.8 4.54,10.57 10.34,10.66c0.95,0.01 6.78,0.1 15.64,0.21l0,26.12l-15.48,0c-5.8,0 -10.5,4.7 -10.5,10.5s4.7,10.5 10.5,10.5l15.48,0l0,74.89c0,5.8 4.7,10.5 10.5,10.5s10.5,-4.7 10.5,-10.5l0,-74.9l109.39,0c5.8,0 10.5,-4.7 10.5,-10.5s-4.7,-10.5 -10.5,-10.5l-109.39,0l0,-25.88c32.67,0.31 78.53,0.51 100.37,-0.46zm-100.37,-185.33c22.81,-0.21 76.99,-0.61 99.05,0.1c23.92,0.77 79.55,10.31 79.55,82.1c0,52.17 -26.63,79.82 -79.16,82.16c-21.17,0.94 -66.91,0.74 -99.44,0.43l0,-164.79z"})))}function zt(e){var t=e.children,a=e.value,i=e.index,r=(0,$.Z)(e,At);return n.createElement("div",(0,u.Z)({role:"tabpanel",hidden:a!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},r),a===i&&n.createElement("div",null,t))}function jt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}zt.propTypes={children:ae().node,index:ae().any.isRequired,value:ae().any.isRequired};var Lt=function(e){(0,c.Z)(a,e);var t=Dt(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"_isMounted",!1),(0,p.Z)((0,l.Z)(n),"firebaseAnalitic",null),n.firebaseAnalitic=n.props.firebaseAnalitic,n.state={item:n.props.item,type:n.props.type,count:0,onePrice:0,new_onePrice:-1,allPrice:0},n}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=W.getItems(),a=(W.getItemsPromo(),t.find((function(t){return t.item_id==e.state.item.id})));a&&this.setState({count:a.count,onePrice:a.one_price,allPrice:a.all_price}),(0,B.EH)((function(){if(!0===e._isMounted){var t=W.getItems(),a=W.getItemsPromo();if(a&&a.length>0){var n=a.find((function(t){return t.item_id==e.state.item.id}));n&&e.setState({count:n.count,onePrice:n.one_price,allPrice:n.all_price})}var i=t.find((function(t){return t.item_id==e.state.item.id}));"promo"!=e.state.type&&(i?e.setState({count:i.count,onePrice:i.one_price,allPrice:i.all_price,new_onePrice:i.new_one_price?i.new_one_price:-1}):e.setState({count:0,onePrice:0,allPrice:0,new_onePrice:-1}))}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(e){(0,J.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:e,items:[{name:this.state.item.name}]}),W.AddItem(e)}},{key:"minus",value:function(e){(0,J.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:e,items:[{name:this.state.item.name}]}),W.MinusItem(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.count!==t.count||this.state.onePrice!==t.onePrice||this.state.allPrice!==t.allPrice||this.state.item.name!==e.item.name}},{key:"render",value:function(){return parseInt(this.state.count)>0||7==parseInt(this.state.item.cat_id)?n.createElement("tr",null,n.createElement("td",{style:{display:"flex",flexDirection:"row",alignItems:"center",position:"relative"}},n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img+"300х200.webp?"+this.state.item.imgUpdate,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img+"300х200.jpg?"+this.state.item.imgUpdate,alt:this.state.item.name,title:this.state.item.name})),"promo"==this.state.type?n.createElement(w.G,{icon:I.Cly,className:"promoIcon"}):null,n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"span",className:"nameItem"},this.state.item.name),n.createElement(b.Z,{variant:"h5",component:"span",className:"descItem"},this.state.item.desc))),n.createElement("td",null,"promo"!=this.state.type?n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count"},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.minus.bind(this,this.state.item.id)},n.createElement(w.G,{icon:I.Kl4,style:{fontSize:"1rem"}})),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(b.Z,{component:"span",className:"CardCountItem"},this.state.count)),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.add.bind(this,this.state.item.id)},n.createElement(w.G,{icon:I.r8p,style:{fontSize:"1rem"}}))):n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count promo"},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(w.G,{icon:I.Kl4,style:{fontSize:"1rem"}})),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(b.Z,{component:"span",className:"CardCountItem"},this.state.count)),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(w.G,{icon:I.r8p,style:{fontSize:"1rem"}})))),n.createElement("td",null,-1!=this.state.new_onePrice?n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePriceOld"},parseInt(this.state.count)*parseInt(this.state.onePrice)):null,n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePrice"},this.state.allPrice," ",n.createElement(Rt,{width:"20",viewBox:"0 20 500 200"})))):null}}]),a}(n.Component),Ft=function(e){(0,c.Z)(a,e);var t=Dt(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"_isMounted",!1),(0,p.Z)((0,l.Z)(n),"firebaseAnalitic",null),n.firebaseAnalitic=n.props.firebaseAnalitic,n.state={item:n.props.item,type:n.props.type,count:0,onePrice:0,allPrice:0,new_onePrice:-1},n}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0;var t=W.getItems().find((function(t){return t.item_id==e.state.item.id}));t&&this.setState({count:t.count,onePrice:t.one_price,allPrice:t.all_price}),(0,B.EH)((function(){if(!0===e._isMounted){var t=W.getItems(),a=W.getItemsPromo();if(a&&a.length>0){var n=a.find((function(t){return t.item_id==e.state.item.id}));n&&e.setState({count:n.count,onePrice:n.one_price,allPrice:n.all_price})}var i=t.find((function(t){return t.item_id==e.state.item.id}));"promo"!=e.state.type&&(i?e.setState({count:i.count,onePrice:i.one_price,allPrice:i.all_price,new_onePrice:i.new_one_price?i.new_one_price:-1}):e.setState({count:0,onePrice:0,allPrice:0,new_onePrice:-1}))}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(e){(0,J.Kz)(this.firebaseAnalitic,"add_to_cart",{content_type:"add_cart",content_id:e,items:[{name:this.state.item.name}]}),W.AddItem(e)}},{key:"minus",value:function(e){(0,J.Kz)(this.firebaseAnalitic,"remove_from_cart",{content_type:"remove_cart",content_id:e,items:[{name:this.state.item.name}]}),W.MinusItem(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.count!==t.count||this.state.onePrice!==t.onePrice||this.state.allPrice!==t.allPrice||this.state.item.name!==e.item.name}},{key:"render",value:function(){return this.state.count>0||7==parseInt(this.state.item.cat_id)||6==parseInt(this.state.item.cat_id)?n.createElement("div",{className:"boxItem"},n.createElement("picture",{style:{width:"40%"}},n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+this.state.item.img+"300х200.webp?"+this.state.item.imgUpdate,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.item.img+"300х200.jpg?"+this.state.item.imgUpdate,alt:this.state.item.name,title:this.state.item.name})),"promo"==this.state.type?n.createElement(w.G,{icon:I.Cly,className:"promoIcon"}):null,n.createElement("div",{style:{width:"60%"}},n.createElement(b.Z,{variant:"h5",component:"span"},this.state.item.name),n.createElement("div",null,"promo"!=this.state.type?n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count"},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.minus.bind(this,this.state.item.id)},n.createElement(w.G,{icon:I.Kl4,style:{fontSize:"1rem"}})),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(b.Z,{component:"span",className:"CardCountItem"},this.state.count)),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain",onClick:this.add.bind(this,this.state.item.id)},n.createElement(w.G,{icon:I.r8p,style:{fontSize:"1rem"}}))):n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"count promo"},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(w.G,{icon:I.Kl4,style:{fontSize:"1rem"}})),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(b.Z,{component:"span",className:"CardCountItem"},this.state.count)),n.createElement(E.Z,{variant:"contained",className:"BtnCardMain"},n.createElement(w.G,{icon:I.r8p,style:{fontSize:"1rem"}}))),-1!=this.state.new_onePrice?n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePriceOld"},parseInt(this.state.count)*parseInt(this.state.onePrice)):null,n.createElement(b.Z,{variant:"h5",component:"span",className:"namePrice"},this.state.allPrice," ",n.createElement(Rt,{width:"20",viewBox:"10 0 600 200"}))))):null}}]),a}(n.Component),Wt=function(e){(0,c.Z)(a,e);var t=Dt(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"_isMounted",!1),(0,p.Z)((0,l.Z)(n),"clickOrderStart",!1),(0,p.Z)((0,l.Z)(n),"startOrderInterval",90),(0,p.Z)((0,l.Z)(n),"startOrderIntervalTimer",null),(0,p.Z)((0,l.Z)(n),"firebaseAnalitic",null),(0,p.Z)((0,l.Z)(n),"componentDidMount",(function(){n._isMounted=!0,Bt=(0,q.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),n.firebaseAnalitic=(0,J.IH)(Bt);try{document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("cart"),setTimeout((function(){W.getToken()||"undefined"!=typeof window&&(window.location.pathname="/"+n.state.city_name)}),300),n.loadData(),a.fetchData("/"+n.state.city_name).then((function(e){n.setState({title:e.page.title,description:e.page.description})}));var e=W.getItems(),t=W.getAllItems(),i=(W.getItemsPromo(),[]);if(e.length>0&&t.length>0){e.map((function(e){var a=t.find((function(t){return t.id==e.item_id}));a&&i.push({id:e.item_id,cat_id:a.cat_id,name:e.name,desc:a.tmp_desc,count:e.count,allPrice:e.all_price,img:a.img_new,imgUpdate:a.img_new_update})}));var r=i.filter((function(e){return 7!==parseInt(e.cat_id)})),s=i.filter((function(e){return 7==parseInt(e.cat_id)})),o=W.check_need_dops();n.setState({cartItems_main:r,cartItems_dop:s,cartItems_need_dop:o,sumDiv:W.getSumDiv(),allPrice:W.getAllPrice()})}(0,B.EH)((function(){if(!0===n._isMounted){var e=W.getItems(),t=W.getAllItems(),a=W.check_need_dops(),i=W.getItemsPromo(),r=[],s=[];e.map((function(e){var a=t.find((function(t){return t.id==e.item_id}));a&&r.push({id:e.item_id,cat_id:a.cat_id,name:e.name,desc:a.tmp_desc,count:e.count,allPrice:e.all_price,img:a.img_new,imgUpdate:a.img_new_update})}));var o=r.filter((function(e){return 7!==parseInt(e.cat_id)})),l=(r.filter((function(e){return 7==parseInt(e.cat_id)})),[]);a.map((function(e){var a=r.find((function(t){return parseInt(t.id)==parseInt(e.id)})),n=t.find((function(t){return parseInt(t.id)==parseInt(e.id)}));a?l.push({id:e.id,cat_id:e.cat_id,name:e.name,desc:e.tmp_desc,count:a.count,allPrice:a.allPrice,img:n.img_new,imgUpdate:n.img_new_update}):l.push({id:e.id,cat_id:e.cat_id,name:e.name,desc:e.tmp_desc,count:0,allPrice:0,img:n.img_new,imgUpdate:n.img_new_update})})),i.map((function(e){var a=t.find((function(t){return t.id==e.item_id}));a&&s.push({id:e.item_id,cat_id:a.cat_id,name:a.name,desc:a.tmp_desc,count:e.count,allPrice:e.all_price,img:a.img_new,imgUpdate:a.img_new_update})})),n.setState({cartItems_dop:[]}),n.setState({cartItems_dop:l}),n.setState({cartItems_main:o,cartItems_need_dop:a,cartItems_promo:s,sumDiv:W.getSumDiv(),allPrice:W.getAllPrice()})}}))}catch(e){console.log(e),n.setState({hasError:!0}),fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"save_log_err",page:"cart",error:JSON.stringify(e),info:""})}).then((function(e){return e.json()})).then((function(e){}))}})),(0,p.Z)((0,l.Z)(n),"changeTab",(function(e,t){n.setState({orderType:t});var a=n.state.orderAddr;if(0==t){var i=W.getAllPrice();a?1==parseInt(a.free_drive)||1==parseInt(W.free_drive)?parseInt(i)>0?W.setSumDiv(0):W.setSumDiv(1):W.setSumDiv(parseInt(a.sum_div)):W.setSumDiv(0)}else W.setSumDiv(0),setTimeout((function(){n.state.pic_point.length>0&&n.choosePic(n.state.orderPic)}),300);n.state.orderTimes,0==t?(n.setState({renderPay:n.state.pays.dev}),""==n.state.orderPay||"in"==n.state.orderPay||n.state.orderPay):n.setState({renderPay:n.state.pays.pic}),n.setState({}),n.saveData()})),(0,p.Z)((0,l.Z)(n),"changeAddr",(function(e){var t=n.state.my_addr.find((function(t){return t.id==e.target.value})),a=W.getAllPrice();0==parseInt(t.check_dom_true)&&n.setState({CheckDomTrue:!0}),1==parseInt(t.free_drive)||1==parseInt(W.free_drive)?parseInt(a)>0?W.setSumDiv(0):W.setSumDiv(1):W.setSumDiv(parseInt(t.sum_div)),0==n.state.orderType?n.setState({renderPay:n.state.pays.dev}):n.setState({renderPay:n.state.pays.pic}),n.setState({orderAddr:t,chooseAddr:!1,newAddrInfo:null,newAddrPD:"",newAddrET:"",newAddrKV:""}),n.saveData()})),(0,p.Z)((0,l.Z)(n),"changeComment",(function(e){e.target.value.length<=50&&n.setState({orderComment:e.target.value}),n.saveData()})),(0,p.Z)((0,l.Z)(n),"changePay",(function(e){n.setState({orderPay:e.target.value}),n.saveData()})),(0,p.Z)((0,l.Z)(n),"changeTimes",(function(e){var t=e.target.value;0==n.state.orderType?(n.setState({renderPay:n.state.pays.dev}),""==n.state.orderPay||"in"==n.state.orderPay||n.state.orderPay):n.setState({renderPay:n.state.pays.pic}),n.setState({orderTimes:t}),n.loadTimePred(),n.saveData()})),(0,p.Z)((0,l.Z)(n),"changeSdacha",(function(e){n.setState({orderSdacha:e.target.value}),n.saveData()})),(0,p.Z)((0,l.Z)(n),"changePredDay",(function(e){0!==e.target.value?(n.setState({orderPredDay:e.target.value,orderTimes:"2"}),0==n.state.orderType?n.setState({renderPay:n.state.pays.dev}):n.setState({renderPay:n.state.pays.pic}),setTimeout((function(){n.loadTimePred()}),300)):(n.setState({orderPredDay:0,orderTimes:"1"}),0==n.state.orderType?n.setState({renderPay:n.state.pays.dev}):n.setState({renderPay:n.state.pays.pic})),n.saveData()})),(0,p.Z)((0,l.Z)(n),"changePredTime",(function(e){n.setState({orderPredTime:e.target.value}),n.saveData()})),(0,p.Z)((0,l.Z)(n),"enterPromoMobile",(function(e){"Enter"===e.key&&document.querySelector("#PromoMobile")&&document.querySelector("#PromoMobile").blur()})),n.state={hasError:!1,is_load:!1,city_name:n.props.city,page:n.props.data?n.props.data.page:null,spiner:!1,title:"",description:"",orderCheckDopTea:!1,chooseAddr:!1,choosePicDialog:!1,chooseTimeDialog:!1,choosePayDialog:!1,chooseNewAddr:!1,orderCheckDop:!1,sumDiv:0,allPrice:0,pic_point:[],my_addr:[],all_addr:[],date_pred:[],picPointInfo:null,pays:{dev:[{type:"cash",title:"Наличными курьеру"},{type:"card",title:"Онлайн на сайте"}],dev_mini:[{type:"cash",title:"Наличными курьеру"},{type:"card",title:"Онлайн на сайте"}],pic:[{type:"in",title:"В кафе"}]},renderPay:[{type:"cash",title:"Наличными курьеру"},{type:"card",title:"Онлайн на сайте"}],cartItems_main:[],cartItems_dop:[],cartItems_need_dop:[],cartItems_promo:[],cartItems_dop_tea:[],timePred:[],error:{title:"",text:""},errorOpen:!1,orderCheck:!1,newAddrInfo:null,newAddrPD:"",newAddrET:"",newAddrKV:"",newAddrHome:"",newAddrDom:!0,orderType:0,orderAddr:null,orderPic:0,orderComment:"",orderPay:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderSdacha:"",orderPromo:"",orderPromoText:"",newOrderData:null,CheckDomTrue:!1},W.setCity(n.props.city),n}return(0,o.Z)(a,[{key:"componentDidCatch",value:function(e,t){console.log(e),console.log(t),fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"save_log_err",page:"cart",error:JSON.stringify(e),info:JSON.stringify(t)})}).then((function(e){return e.json()})).then((function(e){}))}},{key:"loadData",value:function(){var e=this;setTimeout((function(){fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"get_by_mi_web",city_id:e.state.city_name,user_id:W.getToken()})}).then((function(e){return e.json()})).then((function(t){e.setState({pic_point:t.get_addr_pic.points,my_addr:t.get_my_addr,all_addr:t.get_addr,date_pred:t.date_pred}),setTimeout((function(){var t=W.getCartData();if(t.orderType||0==t.orderType){if(e.setState({orderType:t.orderType,orderAddr:t.orderAddr&&-1==t.orderAddr.id?null:t.orderAddr,orderPic:t.orderPic,orderComment:t.orderComment,orderTimes:t.orderTimes,orderPredDay:t.orderPredDay,orderPredTime:t.orderPredTime,orderPay:t.orderPay,orderSdacha:t.orderSdacha}),2==parseInt(t.orderTimes)&&""!=t.orderPredDay&&(t.orderAddr&&-1!==t.orderAddr.id||parseInt(t.orderPic)>0)&&setTimeout((function(){e.loadTimePred()}),300),setTimeout((function(){1==parseInt(t.orderType)&&parseInt(t.orderPic)>0&&e.choosePic(t.orderPic)}),300),0==parseInt(t.orderType)&&t.orderAddr&&t.orderAddr.id&&-1!==t.orderAddr.id){var a=W.getAllPrice();1==parseInt(t.orderAddr.free_drive)||1==parseInt(W.free_drive)?parseInt(a)>0?W.setSumDiv(0):W.setSumDiv(1):W.setSumDiv(parseInt(t.orderAddr.sum_div))}else W.setSumDiv(0);setTimeout((function(){t.orderTimes,0==t.orderType?e.setState({renderPay:e.state.pays.dev}):e.setState({renderPay:e.state.pays.pic})}),300)}else 1==e.state.pic_point.length&&e.choosePic(e.state.pic_point[0].id),1==e.state.my_addr.length&&e.changeAddr({target:{value:e.state.my_addr[0].id}});"undefined"!=typeof window&&setTimeout((function(){localStorage.getItem("promo_name")&&(e.setState({orderPromo:localStorage.getItem("promo_name")}),setTimeout((function(){e.checkPromo()}),300))}),1e3)}),300)}))}),300)}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"choosePic",value:function(e){W.setSumDiv(0),document.querySelector(".boxPic.active")&&document.querySelector(".boxPic.active").classList.remove("active"),document.querySelector("#pic_"+e)&&document.querySelector("#pic_"+e).classList.add("active");var t=this.state.pic_point.find((function(t){return t.id==e}));this.setState({orderPic:e,picPointInfo:t,choosePicDialog:!1}),this.saveData()}},{key:"changePayMobile",value:function(e){this.setState({orderPay:e,choosePayDialog:!1}),this.saveData()}},{key:"checkPromo",value:function(){var e=this;W.free_drive=0;var t;t=document.getElementById("PROMONAME")&&document.getElementById("PROMONAME").value.length>0?document.getElementById("PROMONAME").value:document.getElementById("PromoMobile")&&document.getElementById("PromoMobile").value.length>0?document.getElementById("PromoMobile").value:this.state.orderPromo,fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"get_promo_web",city_id:W.getCity(),promo_name:t})}).then((function(e){return e.json()})).then((function(a){W.setPromo(JSON.stringify(a),t);var n=W.checkPromo();0==t.length?e.setState({orderPromoText:""}):(n.st,e.setState({orderPromoText:n.text})),setTimeout((function(){var e=W.getCartData();if(e.orderType||0==e.orderType){var t=W.getAllPrice();1==parseInt(e.orderAddr?e.orderAddr.free_drive:0)||1==parseInt(W.free_drive)?parseInt(t)>0?W.setSumDiv(0):W.setSumDiv(1):W.setSumDiv(parseInt(e.orderAddr?e.orderAddr.sum_div:0))}1==parseInt(e.orderType)&&W.setSumDiv(0)}),500)}))}},{key:"saveData",value:function(){var e=this;setTimeout((function(){var t={orderType:e.state.orderType,orderAddr:e.state.orderAddr,orderPic:e.state.orderPic,orderComment:e.state.orderComment,orderTimes:e.state.orderTimes,orderPredDay:e.state.orderPredDay,orderPredTime:e.state.orderPredTime,orderPay:e.state.orderPay,orderSdacha:e.state.orderSdacha};W.saveCartData(t),setTimeout((function(){e.checkPromo()}),300)}),500)}},{key:"saveDataCustomAddr",value:function(){var e=this;setTimeout((function(){var t={orderType:e.state.orderType,orderAddr:{id:-1,city_name:W.getCityRU(),street:e.state.newAddrInfo?e.state.newAddrInfo.street:"",home:e.state.newAddrInfo?e.state.newAddrInfo.home:"",kv:e.state.newAddrKV,pd:e.state.newAddrPD,et:e.state.newAddrET,dom_true:e.state.newAddrDom?1:0,free_drive:e.state.newAddrInfo?e.state.newAddrInfo.free_drive:0,sum_div:e.state.newAddrInfo?e.state.newAddrInfo.sum_div:0,point_id:e.state.newAddrInfo?e.state.newAddrInfo.point_id:0,xy:e.state.newAddrInfo?e.state.newAddrInfo.xy:"",pay_active:e.state.newAddrInfo?e.state.newAddrInfo.pay_active:0},orderPic:e.state.orderPic,orderComment:e.state.orderComment,orderTimes:e.state.orderTimes,orderPredDay:e.state.orderPredDay,orderPredTime:e.state.orderPredTime,orderPay:e.state.orderPay,orderSdacha:e.state.orderSdacha};t.orderAddr.street.length>0&&t.orderAddr.home.length>0&&e.setState({orderAddr:t.orderAddr}),W.saveCartData(t);var a=W.getAllPrice();1==parseInt(e.state.newAddrInfo?e.state.newAddrInfo.free_drive:0)||1==parseInt(W.free_drive)?parseInt(a)>0?W.setSumDiv(0):W.setSumDiv(1):W.setSumDiv(parseInt(e.state.newAddrInfo?e.state.newAddrInfo.sum_div:0)),e.state.orderTimes,0==e.state.orderType?e.setState({renderPay:e.state.pays.dev}):e.setState({renderPay:e.state.pays.pic})}),500)}},{key:"loadTimePred",value:function(){var e,t,a=this,n=[],i=W.getItems();this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id?(i.forEach((function(e){n.push({item_id:e.item_id,count:e.count})})),fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"get_times_pred_web",point_id:this.state.orderType+1==1?null!==(e=this.state.orderAddr.point_id)&&void 0!==e?e:0:null!==(t=this.state.orderPic)&&void 0!==t?t:0,type_order:this.state.orderType+1,date:this.state.orderPredDay,cart:JSON.stringify(n)})}).then((function(e){return e.json()})).then((function(e){e.st?a.setState({timePred:e.data}):a.setState({error:{title:"Предупреждение",text:e.text},errorOpen:!0})}))):this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0,orderTimes:"1"})}},{key:"startOrder",value:function(){var e=this;if(0==this.clickOrderStart){if(this.clickOrderStart=!0,!this.state.renderPay.find((function(t){return t.type==e.state.orderPay})))return this.setState({error:{title:"Предупреждение",text:"Выберите способ оплаты: онлайн на сайте или наличными при получении."},errorOpen:!0}),void(this.clickOrderStart=!1);if(2==parseInt(this.state.orderTimes)&&(""==this.state.orderPredDay||""==this.state.orderPredTime))return this.setState({error:{title:"Предупреждение",text:"Дата или время предзаказа не указано"},errorOpen:!0}),void(this.clickOrderStart=!1);if(!(this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id))return this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0}),void(this.clickOrderStart=!1);this.setState({spiner:!0});var t=[],a=W.getItems(),n=W.getAllItems(),i=[];a.forEach((function(e){e.count>0&&t.push({name:e.name,count:e.count,price:e.all_price,item_id:e.item_id,cat_id:n.find((function(t){return t.id==e.item_id})).cat_id})})),n.filter((function(e){return 231==parseInt(e.id)||232==parseInt(e.id)})).map((function(e,t){i.push({name:e.name,id:e.id,count:0,one_price:0,all_price:0,img:e.img_new,imgUpdate:e.img_new_update,cat_id:e.cat_id})}));var r=!1,s=!1,o=!1;if(t.forEach((function(e){(3==parseInt(e.cat_id)||4==parseInt(e.cat_id)||9==parseInt(e.cat_id)||10==parseInt(e.cat_id)||12==parseInt(e.cat_id)||13==parseInt(e.cat_id))&&parseInt(e.count)>0&&(r=!0),(17==parseInt(e.item_id)&&parseInt(e.count)>0||237==parseInt(e.item_id)&&parseInt(e.count)>0)&&(s=!0),19==parseInt(e.item_id)&&parseInt(e.count)>0&&(o=!0)})),r&&0==s||r&&0==o)return this.setState({orderCheckDop:!0,spiner:!1}),void setTimeout((function(){e.clickOrderStart=!1}),300);this.clickOrderStart=!1,this.startOrderNext()}}},{key:"startOrderNext",value:function(){var e=this;if(0==this.clickOrderStart){this.clickOrderStart=!0,clearTimeout(this.startOrderIntervalTimer),this.setState({orderCheckDop:!1,orderCheckDopTea:!1,spiner:!0});var t=this.state.renderPay.find((function(t){return t.type==e.state.orderPay})),a=[];if(W.getItems().forEach((function(e){e.count>0&&a.push({name:e.name,count:e.count,price:e.all_price,id:e.item_id})})),0==parseInt(this.state.orderType)){var n=this.state.orderAddr?JSON.stringify(this.state.orderAddr):"";if(!n||""==n)return void setTimeout((function(){e.setState({spiner:!1,error:{title:"Предупреждение",text:"Нет адреса для доставки"},errorOpen:!0}),e.clickOrderStart=!1}),300)}if(1==parseInt(this.state.orderType)){var i=this.state.orderPic;if(!i||0==i)return void setTimeout((function(){e.setState({spiner:!1,error:{title:"Предупреждение",text:"Не выбрана точка для самовывоза"},errorOpen:!0}),e.clickOrderStart=!1}),300)}fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"createOrder_web",city_id:this.state.city_name,user_id:W.getToken(),timePred:JSON.stringify({value:1==parseInt(this.state.orderTimes)?0:this.state.orderPredDay+" "+this.state.orderPredTime}),typeOrder:this.state.orderType,addrPic:this.state.orderPic,comment:this.state.orderComment,addrDev:this.state.orderAddr?JSON.stringify(this.state.orderAddr):"",pay:t.title,sdacha:this.state.orderSdacha,payFull:JSON.stringify(t),cart:JSON.stringify(a),promo_name:this.state.orderPromo})}).then((function(e){return e.json()})).then((function(t){setTimeout((function(){e.clickOrderStart=!1}),300),setTimeout((function(){e.setState({spiner:!1}),t.st?(e.setState({orderCheck:!0,newOrderData:t}),e.startOrderIntervalTimer=setTimeout((function(){e.setState({orderCheck:!1,newOrderData:null})}),1e3*e.startOrderInterval)):(t.type&&"new_pred"==t.type&&e.setState({timePred:t.times}),e.setState({error:{title:"Предупреждение",text:t.text_err},errorOpen:!0}))}),1e3)})).catch((function(t){setTimeout((function(){e.setState({spiner:!1})}),300),console.log(t)}))}}},{key:"checkNewAddr",value:function(){var e=this,t=document.querySelector("#newAddrStreet").value;t.length>0&&this.state.newAddrHome.length>0&&fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"save_new_addr_web_new",city_id:this.state.city_name,user_id:W.getToken(),street:t,home:this.state.newAddrHome})}).then((function(e){return e.json()})).then((function(t){t.st?""==t.data.home?e.setState({error:{title:"Предупреждение",text:"Номер дома не указан или указан не верно"},errorOpen:!0}):(e.setState({newAddrInfo:t.data}),e.saveDataCustomAddr()):e.setState({error:{title:"Предупреждение",text:t.text},errorOpen:!0})}))}},{key:"trueOrder",value:function(){var e=this;fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"trueOrder_web",city_id:this.state.city_name,user_id:W.getToken(),order_id:this.state.newOrderData.order_id,point_id:this.state.newOrderData.point_id})}).then((function(e){return e.json()})).then((function(t){0==t.st?e.setState({error:{title:"При подтверждении оплаты произошла ошибка",text:t.text_err},errorOpen:!0}):(W.setItems([]),W.saveCartData({orderType:0,orderAddr:"",orderPic:0,orderComment:"",orderTimes:"1",orderPredDay:"",orderPredTime:"",orderPay:"",orderSdacha:""}),setTimeout((function(){var e=Ot(window.location.pathname);window.location.href=window.location.origin+"/"+e+"/profile?trueOrder"}),300))}))}},{key:"delAddr",value:function(e){var t=this;confirm("Удалить сохраненный адрес ?")&&fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"del_addr_web",city_id:this.state.city_name,user_id:W.getToken(),id_addr:e})}).then((function(e){return e.json()})).then((function(e){t.setState({my_addr:e})}))}},{key:"changeDomTrue",value:function(e){this.setState({newAddrDom:e})}},{key:"closeTimeDialog",value:function(){""==this.state.orderPredTime?(this.changePredDay({target:{value:0}}),this.setState({chooseTimeDialog:!1})):this.setState({chooseTimeDialog:!1})}},{key:"changePayMobile_new",value:function(){this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id?this.setState({choosePayDialog:!0}):this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0,orderTimes:"1"})}},{key:"changeTimeMobile",value:function(){this.state.orderType+1!=1||1!=parseInt(this.state.orderTimes)||this.state.orderAddr&&this.state.orderAddr.point_id?this.setState({chooseTimeDialog:!0}):this.setState({error:{title:"Предупреждение",text:"Адрес доставки или точка самовывоза не выбрана"},errorOpen:!0,orderTimes:"1"})}},{key:"checkSaveData",value:function(e,t){var a=e.target.value;isNaN(a)||this.setState((0,p.Z)({},t,a))}},{key:"checkDomTrue",value:function(e,t){var a=this;fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"checkDomTrue",city_id:this.state.city_name,user_id:W.getToken(),addr_id:this.state.orderAddr.id,dom_true:!0===e?1:0})}).then((function(e){return e.json()})).then((function(e){}));var n=this.state.orderAddr;n.dom_true=!0===e?1:0,n.check_dom_true=1,this.setState({newAddrDom:!0===e?1:0,orderAddr:n,CheckDomTrue:!1}),setTimeout((function(){a.saveData()}),300)}},{key:"render",value:function(){var e=this;if(this.state.hasError)return n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"h1"},"Корзина"),n.createElement("a",{href:"https://jacofood.ru/"+this.state.city_name},"На главную"));var t=this.state.renderPay.find((function(t){return t.type==e.state.orderPay})),a=this.state.pic_point.find((function(t){return t.id==e.state.orderPic}));return a=a?a.addr:"",n.createElement(g.Z,{container:!0,className:"Cart mainContainer MuiGrid-spacing-xs-3"},n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(k.Z,{open:this.state.spiner,style:{zIndex:99,color:"#fff"}},n.createElement(N.Z,{color:"inherit"})),n.createElement(g.Z,{item:!0,xs:12},n.createElement(b.Z,{variant:"h5",component:"h1"},"Корзина")),n.createElement(U.Z,{xsDown:!0},n.createElement(g.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",style:{paddingTop:0}},n.createElement(ne.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},n.createElement(ie.Z,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",style:{justifyContent:"center"}},n.createElement(re.Z,(0,u.Z)({label:"Доставка"},jt(0),{disableRipple:!0})),n.createElement(re.Z,(0,u.Z)({label:"Самовывоз"},jt(1),{disableRipple:!0})))),n.createElement(zt,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,index:0,style:{width:"100%"}},n.createElement(rt.Z,{component:"fieldset",style:{width:"100%"}},n.createElement(ct.Z,{name:"addrs",value:this.state.orderAddr?this.state.orderAddr.id:0,onChange:this.changeAddr},this.state.my_addr.map((function(t,a){return n.createElement("div",{key:a,className:"boxAddr"},n.createElement(it.Z,{value:t.id,control:n.createElement(lt.Z,null),label:t.city_name+", "+t.street+" "+t.home+(0==parseInt(t.pd)||0==t.pd.length?"":", Пд. "+t.pd)+(0==parseInt(t.et)||0==t.et.length?"":", Эт. "+t.et)+(0==parseInt(t.kv)||0==t.kv.length?"":", Кв. "+t.kv)+(0==parseInt(t.dom_true)?" Домофон не работает":"")}),n.createElement(w.G,{onClick:e.delAddr.bind(e,t.id),icon:I.NBC}))})))),n.createElement(Ge.Z,null,n.createElement(Ue.Z,{"aria-controls":"panel1a-content",id:"panel1a-header"},n.createElement(b.Z,{variant:"h5",component:"span",className:"newAddr"},"Новый адрес")),n.createElement(He.Z,{className:"newAddr"},n.createElement("div",null,n.createElement(Tt.ZP,{freeSolo:!0,id:"newAddrStreet",size:"small",onBlur:this.checkNewAddr.bind(this),options:this.state.all_addr.map((function(e){return e.value})),renderInput:function(e){return n.createElement(at.Z,(0,u.Z)({},e,{label:"Улица",margin:"normal",variant:"outlined"}))}}),n.createElement(at.Z,{label:"Дом",size:"small",variant:"outlined",value:this.state.newAddrHome,onChange:function(t){return e.setState({newAddrHome:t.target.value})},onBlur:this.checkNewAddr.bind(this)})),n.createElement("div",null,n.createElement(at.Z,{label:"Подъезд",variant:"outlined",size:"small",style:{width:"100%"},value:this.state.newAddrPD,onChange:function(t){return e.checkSaveData(t,"newAddrPD")},onBlur:this.saveDataCustomAddr.bind(this)}),n.createElement(at.Z,{label:"Этаж",variant:"outlined",size:"small",style:{width:"100%"},value:this.state.newAddrET,onChange:function(t){return e.checkSaveData(t,"newAddrET")},onBlur:this.saveDataCustomAddr.bind(this)}),n.createElement(at.Z,{label:"Квартира",variant:"outlined",size:"small",style:{width:"100%"},value:this.state.newAddrKV,onChange:function(t){return e.checkSaveData(t,"newAddrKV")},onBlur:this.saveDataCustomAddr.bind(this)})),n.createElement("div",null,n.createElement(_.Z,{disableElevation:!0,variant:"contained",className:"chooseDomTrue"},n.createElement(E.Z,{className:!0===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!0)},"Домофон работает"),n.createElement(E.Z,{className:!1===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!1)},"Домофон не работает")))))),n.createElement(zt,{value:this.state.orderType,index:1},n.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},this.state.pic_point.map((function(t,a){return n.createElement("div",{className:"boxPic",id:"pic_"+t.id,key:a,onClick:e.choosePic.bind(e,t.id)},n.createElement(b.Z,{variant:"h5",component:"span"},t.raion),n.createElement(b.Z,{variant:"h5",component:"span"},t.addr,", c 10:00 до 21:30"))})))),0==this.state.orderType?n.createElement("div",null,n.createElement("form",{noValidate:!0,autoComplete:"off"},n.createElement(at.Z,{style:{width:"100%"},id:"outlined-multiline-flexible",label:"Комментарий курьеру",multiline:!0,rowsMax:2,value:this.state.orderComment,onChange:this.changeComment,variant:"outlined"}))):null,n.createElement("div",null,n.createElement(rt.Z,{component:"fieldset"},n.createElement(Nt.Z,{component:"legend"},"Оплата"),n.createElement(ct.Z,{"aria-label":"pays",name:"pays",value:this.state.orderPay,onChange:this.changePay},this.state.renderPay.map((function(e,t){return n.createElement(it.Z,{key:t,value:e.type,control:n.createElement(lt.Z,null),label:e.title})}))))),n.createElement("div",null,n.createElement(rt.Z,{component:"fieldset"},n.createElement(Nt.Z,{component:"legend"},"Когда приготовить?"),n.createElement(ct.Z,{"aria-label":"times",name:"times",value:this.state.orderTimes,onChange:this.changeTimes},n.createElement(it.Z,{value:"1",control:n.createElement(lt.Z,null),label:"Как можно быстрее"}),n.createElement(it.Z,{value:"2",control:n.createElement(lt.Z,null),label:"Предзаказ"})))),2==this.state.orderTimes?n.createElement("div",null,n.createElement(rt.Z,{style:{width:"30%"}},n.createElement(mt.Z,{htmlFor:"age-native-simple"},"День"),n.createElement(pt.Z,{displayEmpty:!0,value:this.state.orderPredDay,onChange:this.changePredDay,inputProps:{id:"age-native-simple"}},this.state.date_pred.map((function(e,t){return n.createElement(dt.Z,{key:t,value:e.date},e.text)})))),n.createElement(rt.Z,{style:{width:"20%"}},n.createElement(mt.Z,{htmlFor:"age-native-simple1"},"Время"),n.createElement(pt.Z,{displayEmpty:!0,value:this.state.orderPredTime,onChange:this.changePredTime,inputProps:{id:"age-native-simple1"}},this.state.timePred.map((function(e,t){return n.createElement(dt.Z,{key:t,value:e.value},e.text)}))))):null,n.createElement("div",null,n.createElement(b.Z,{variant:"h5",component:"h2"},"Моя корзина")),n.createElement("div",null,n.createElement("table",{className:"tableCart"},n.createElement("tbody",null,this.state.cartItems_main.map((function(t,a){return n.createElement(Lt,{key:a,item:t,type:"item",firebaseAnalitic:e.firebaseAnalitic})})),this.state.cartItems_promo.map((function(t,a){return n.createElement(Lt,{key:a,item:t,type:"promo",firebaseAnalitic:e.firebaseAnalitic})})),n.createElement("tr",{className:"rowAboutDop"},n.createElement("td",{colSpan:"3"},n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Соевый соус, имбирь и васаби приобретаются отдельно!"),n.createElement("br",null),n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Не забудьте добавить нужные позиции в корзину."))),this.state.cartItems_dop.map((function(t,a){return n.createElement(Lt,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})}))),n.createElement("tfoot",null,n.createElement("tr",null,n.createElement("td",{colSpan:"2"},n.createElement(b.Z,{component:"span"},"Доставка:")),n.createElement("td",null,n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv," ",n.createElement(Rt,{width:"20",viewBox:"0 20 500 200"})))),n.createElement("tr",null,n.createElement("td",{colSpan:"2"},n.createElement(b.Z,{component:"span"},"Итого:")),n.createElement("td",null,n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv+this.state.allPrice," ",n.createElement(Rt,{width:"20",viewBox:"0 20 500 200"}))))))),0==this.state.orderType&&"cash"==this.state.orderPay?n.createElement("div",{className:"orderSdacha"},n.createElement("div",null,n.createElement(rt.Z,null,n.createElement(mt.Z,{htmlFor:"standard-adornment-weight"},"Подготовить сдачу с"),n.createElement(Pt.Z,{type:"number",id:"standard-adornment-weight",value:this.state.orderSdacha,onChange:this.changeSdacha,endAdornment:n.createElement(Rt,{viewBox:"-400 0 1200 300"})})))):null,n.createElement("div",{className:"promoOrder"},n.createElement("div",null,n.createElement(Et.Z,{component:"div",className:"SpacePromo"},n.createElement(_t.Z,{onBlur:this.checkPromo.bind(this),value:this.state.orderPromo,onChange:function(t){return e.setState({orderPromo:t.target.value})},placeholder:"Промокод",id:"PROMONAME"}),n.createElement(bt.Z,{orientation:"vertical"}),n.createElement(A.Z,{color:"primary","aria-label":"directions",onClick:this.checkPromo.bind(this)},n.createElement(wt.Z,null))),this.state.orderPromoText.length>0?n.createElement("div",{className:"DescPromo"},n.createElement(b.Z,{variant:"h5",component:"span"},"Промокод дает: ",this.state.orderPromoText)):null),n.createElement("div",null,n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:this.startOrder.bind(this)},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Оформить заказ")))))),n.createElement(U.Z,{smUp:!0},n.createElement(g.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer mobile"},n.createElement(ne.Z,{position:"static",style:{backgroundColor:"#fff",color:"#000",zIndex:0},elevation:0},n.createElement(ie.Z,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,onChange:this.changeTab.bind(this),"aria-label":"simple tabs example",style:{justifyContent:"center"}},n.createElement(re.Z,(0,u.Z)({label:"Доставка"},jt(0),{style:{width:"50%"},disableRipple:!0})),n.createElement(re.Z,(0,u.Z)({label:"Самовывоз"},jt(1),{style:{width:"50%"},disableRipple:!0})))),n.createElement(zt,{value:this.state.orderType||0==this.state.orderType?this.state.orderType:0,index:0,style:{width:"100%"}},n.createElement("div",{className:"boxMobile",onClick:function(){return e.setState({chooseAddr:!0})}},n.createElement(b.Z,{variant:"h5",component:"span"},"Адрес: ",this.state.orderAddr?this.state.orderAddr.city_name+", "+this.state.orderAddr.street+" "+this.state.orderAddr.home+(0==parseInt(this.state.orderAddr.pd)||0==this.state.orderAddr.pd.length?"":", Пд. "+this.state.orderAddr.pd)+(0==parseInt(this.state.orderAddr.et)||0==this.state.orderAddr.et.length?"":", Эт. "+this.state.orderAddr.et)+(0==parseInt(this.state.orderAddr.kv)||0==this.state.orderAddr.kv.length?"":", Кв. "+this.state.orderAddr.kv):""))),n.createElement(zt,{value:this.state.orderType,index:1,style:{width:"100%"}},n.createElement("div",{className:"boxMobile",onClick:function(){return e.setState({choosePicDialog:!0})}},n.createElement(b.Z,{variant:"h5",component:"span"},"Адрес: ",this.state.orderPic>0&&this.state.pic_point.length>0?a:""))),n.createElement("div",{className:"boxMobile",onClick:this.changeTimeMobile.bind(this)},n.createElement(b.Z,{variant:"h5",component:"span"},"Приготовим: ",1==this.state.orderTimes?"как можно быстрее":this.state.orderPredDay+" "+this.state.orderPredTime)),n.createElement("div",{className:"boxMobile",onClick:this.changePayMobile_new.bind(this)},n.createElement(b.Z,{variant:"h5",component:"span"},"Оплачу: ",t?t.title:"")),n.createElement("div",{style:{marginTop:15}},n.createElement(Et.Z,{component:"div",className:"SpacePromo"},n.createElement(_t.Z,{onBlur:this.checkPromo.bind(this),value:this.state.orderPromo,onChange:function(t){return e.setState({orderPromo:t.target.value})},onKeyPress:this.enterPromoMobile,id:"PromoMobile",placeholder:"Промокод"}),n.createElement(bt.Z,{orientation:"vertical"}),n.createElement(A.Z,{color:"primary",id:"NextPromo","aria-label":"directions",onClick:this.checkPromo.bind(this)},n.createElement(wt.Z,null))),this.state.orderPromoText.length>0?n.createElement("div",{className:"DescPromo"},n.createElement(b.Z,{variant:"h5",component:"span"},"Промокод дает: ",this.state.orderPromoText)):null),0==this.state.orderType?n.createElement("div",{className:"boxMobile_ area",style:{paddingTop:20}},n.createElement("form",{noValidate:!0,autoComplete:"off"},n.createElement(at.Z,{style:{width:"100%"},id:"outlined-multiline-flexible",label:"Комментарий курьеру",multiline:!0,rowsMax:2,value:this.state.orderComment,onChange:this.changeComment,variant:"outlined"}))):null,0==this.state.orderType&&"cash"==this.state.orderPay?n.createElement("div",{className:"boxMobile_ area",style:{paddingTop:20}},n.createElement(rt.Z,{variant:"outlined",style:{width:"100%"}},n.createElement(mt.Z,{htmlFor:"outlined-adornment-password"},"Подготовить сдачу с"),n.createElement(It.Z,{id:"outlined-adornment-password",type:"number",style:{width:"100%"},value:this.state.orderSdacha,onChange:this.changeSdacha,endAdornment:n.createElement(Rt,{viewBox:"-600 80 1000 300"}),label:"Подготовить сдачу с"}))):null,n.createElement("div",null,n.createElement("div",{className:"tableMobile"},this.state.cartItems_main.map((function(t,a){return n.createElement(Ft,{key:a,item:t,type:"item",firebaseAnalitic:e.firebaseAnalitic})})),this.state.cartItems_promo.map((function(t,a){return n.createElement(Ft,{key:a,item:t,type:"promo",firebaseAnalitic:e.firebaseAnalitic})})),n.createElement("div",{className:"boxItem rowAboutDop"},n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Соевый соус, имбирь и васаби приобретаются отдельно!"),n.createElement("br",null),n.createElement(b.Z,{gutterBottom:!0,variant:"h5",component:"span",className:""},"Не забудьте добавить нужные позиции в корзину.")),this.state.cartItems_dop.map((function(t,a){return n.createElement(Ft,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})})))),n.createElement("div",{className:"bottomOrder",style:{paddingTop:0}},n.createElement("div",{style:{padding:"5px 0px"}},n.createElement(b.Z,{variant:"h5",component:"span"},"Доставка"),n.createElement(b.Z,{variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv," ",n.createElement(Rt,{width:"20",viewBox:"0 0 600 200"}))),n.createElement("div",{style:{paddingBottom:5}},n.createElement(b.Z,{variant:"h5",component:"span"},"К оплате"),n.createElement(b.Z,{variant:"h5",component:"span",className:"namePrice"},this.state.sumDiv+this.state.allPrice," ",n.createElement(Rt,{width:"20",viewBox:"0 0 600 200"}))),n.createElement("div",null,n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:this.startOrder.bind(this)},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Оформить заказ")))))),n.createElement(G.Z,{open:this.state.CheckDomTrue,onClose:function(){return e.setState({CheckDomTrue:!1})},className:"CheckDomTrue"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Подтвердите работоспособность домофона"),n.createElement(T.Z,null,n.createElement(ot.Z,{className:"DialogErrText"},this.state.orderAddr?this.state.orderAddr.city_name+", "+this.state.orderAddr.street+" "+this.state.orderAddr.home+(0==parseInt(this.state.orderAddr.pd)||0==this.state.orderAddr.pd.length?"":", Пд. "+this.state.orderAddr.pd)+(0==parseInt(this.state.orderAddr.et)||0==this.state.orderAddr.et.length?"":", Эт. "+this.state.orderAddr.et)+(0==parseInt(this.state.orderAddr.kv)||0==this.state.orderAddr.kv.length?"":", Кв. "+this.state.orderAddr.kv):"")),n.createElement(Ye.Z,null,n.createElement(_.Z,{disableElevation:!0,variant:"contained",className:"chooseDomTrue",style:{width:"100%"}},n.createElement(E.Z,{style:{width:"50%"},onClick:this.checkDomTrue.bind(this,!0)},"Домофон работает"),n.createElement(E.Z,{style:{width:"50%"},onClick:this.checkDomTrue.bind(this,!1)},"Домофон не работает")))),n.createElement(G.Z,{open:this.state.errorOpen,onClose:function(){return e.setState({errorOpen:!1})},className:"DialogErr"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},this.state.error.title),n.createElement(w.G,{className:"closeDialog",onClick:function(){return e.setState({errorOpen:!1})},icon:I.NBC}),n.createElement(T.Z,null,n.createElement(ot.Z,{className:"DialogErrText"},this.state.error.text)),n.createElement(Ye.Z,null,n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({errorOpen:!1})}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Хорошо")))),n.createElement(G.Z,{open:this.state.chooseAddr,fullWidth:!0,onClose:function(){return e.setState({chooseAddr:!1})},className:"DialogChooseAddr"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Адрес доставки"),n.createElement(w.G,{className:"closeDialog",onClick:function(){return e.setState({chooseAddr:!1})},icon:I.NBC}),n.createElement(T.Z,null,n.createElement(rt.Z,{component:"fieldset"},n.createElement(ct.Z,{name:"addrs",value:this.state.orderAddr?this.state.orderAddr.id:0,onChange:this.changeAddr},this.state.my_addr.map((function(t,a){return n.createElement("div",{key:a,className:"boxAddr"},n.createElement(it.Z,{value:t.id,control:n.createElement(lt.Z,null),label:t.city_name+", "+t.street+" "+t.home+(0==parseInt(t.pd)||0==t.pd.length?"":", Пд. "+t.pd)+(0==parseInt(t.et)||0==t.et.length?"":", Эт. "+t.et)+(0==parseInt(t.kv)||0==t.kv.length?"":", Кв. "+t.kv)+(0==parseInt(t.dom_true)?" Домофон не работает":"")}),n.createElement(w.G,{onClick:e.delAddr.bind(e,t.id),icon:I.NBC}))})))),n.createElement(b.Z,{variant:"h5",component:"span",className:"newAddrMobile",onClick:function(){e.setState({chooseAddr:!1,chooseNewAddr:!0})}},"Новый адрес"))),n.createElement(G.Z,{open:this.state.chooseNewAddr,fullWidth:!0,onClose:function(){return e.setState({chooseNewAddr:!1})},className:"DialogChooseNewAddr"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Новый адрес"),n.createElement(w.G,{className:"closeDialog",onClick:function(){return e.setState({chooseNewAddr:!1})},icon:I.NBC}),n.createElement(T.Z,{style:{paddingTop:0}},n.createElement("div",{className:"newAddrMobile",style:{paddingTop:0}},n.createElement(Tt.ZP,{freeSolo:!0,id:"newAddrStreet",size:"small",style:{width:"100%"},onBlur:this.checkNewAddr.bind(this),options:this.state.all_addr.map((function(e){return e.value})),renderInput:function(e){return n.createElement(at.Z,(0,u.Z)({},e,{label:"Улица",margin:"normal"}))}}),n.createElement(at.Z,{label:"Дом",size:"small",style:{width:"100%"},value:this.state.newAddrHome,onChange:function(t){return e.setState({newAddrHome:t.target.value})},onBlur:this.checkNewAddr.bind(this)}),n.createElement(at.Z,{label:"Подъезд",size:"small",style:{width:"100%"},value:this.state.newAddrPD,onChange:function(t){return e.checkSaveData(t,"newAddrPD")},onBlur:this.saveDataCustomAddr.bind(this)}),n.createElement(at.Z,{label:"Этаж",size:"small",style:{width:"100%"},value:this.state.newAddrET,onChange:function(t){return e.checkSaveData(t,"newAddrET")},onBlur:this.saveDataCustomAddr.bind(this)}),n.createElement(at.Z,{label:"Квартира",size:"small",style:{width:"100%"},value:this.state.newAddrKV,onChange:function(t){return e.checkSaveData(t,"newAddrKV")},onBlur:this.saveDataCustomAddr.bind(this)}),n.createElement(_.Z,{disableElevation:!0,variant:"contained",className:"chooseDomTrue"},n.createElement(E.Z,{className:!0===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!0)},"Домофон работает"),n.createElement(E.Z,{className:!1===this.state.newAddrDom?"active":"",onClick:this.changeDomTrue.bind(this,!1)},"Домофон не работает"))),n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({chooseNewAddr:!1})}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Использовать")))),n.createElement(G.Z,{open:this.state.choosePicDialog,fullWidth:!0,onClose:function(){return e.setState({choosePicDialog:!1})},className:"DialogChoosePicDialog"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Адрес кафе"),n.createElement(w.G,{className:"closeDialog",onClick:function(){return e.setState({choosePicDialog:!1})},icon:I.NBC}),n.createElement(T.Z,null,n.createElement("div",{style:{width:"100%",display:"flex",flexDirection:"column"}},this.state.pic_point.map((function(t,a){return n.createElement("div",{className:"boxPic "+(e.state.orderPic==t.id?"active":""),id:"pic_"+t.id,key:a,onClick:e.choosePic.bind(e,t.id)},n.createElement(b.Z,{variant:"h5",component:"span"},t.raion),n.createElement(b.Z,{variant:"h5",component:"span"},t.addr,", c 10:00 до 21:30"))}))))),n.createElement(G.Z,{open:this.state.chooseTimeDialog,fullWidth:!0,onClose:this.closeTimeDialog.bind(this),className:"DialogChoosePicDialog"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Время заказа"),n.createElement(w.G,{className:"closeDialog",onClick:this.closeTimeDialog.bind(this),icon:I.NBC}),n.createElement(T.Z,null,n.createElement("div",{style:{display:"flex",flexDirection:"column"}},n.createElement(rt.Z,{style:{width:"100%",paddingBottom:20}},n.createElement(mt.Z,{htmlFor:"age-native-simple"},"День"),n.createElement(pt.Z,{displayEmpty:!0,value:this.state.orderPredDay,onChange:this.changePredDay,inputProps:{id:"age-native-simple"}},n.createElement(dt.Z,{value:0},"Как можно быстрее"),this.state.date_pred.map((function(e,t){return n.createElement(dt.Z,{key:t,value:e.date},e.text)})))),n.createElement(rt.Z,{style:{width:"100%",paddingBottom:20,display:0==this.state.orderPredDay?"none":"inline-flex"}},n.createElement(mt.Z,{htmlFor:"age-native-simple1"},"Время"),n.createElement(pt.Z,{displayEmpty:!0,value:this.state.orderPredTime,onChange:this.changePredTime,inputProps:{id:"age-native-simple1"}},this.state.timePred.map((function(e,t){return n.createElement(dt.Z,{key:t,value:e.value},e.text)}))))),n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",onClick:function(){return e.setState({chooseTimeDialog:!1})}},n.createElement(E.Z,{variant:"contained",className:"BtnCardMain CardInCardItem"},"Использовать")))),n.createElement(G.Z,{onClose:function(){return e.setState({choosePayDialog:!1})},"aria-labelledby":"simple-dialog-title",open:this.state.choosePayDialog,fullWidth:!0,className:"DialogChoosePayDialog"},n.createElement(P.Z,{id:"simple-dialog-title",style:{paddingBottom:0}},"Оплата"),n.createElement(w.G,{className:"closeDialog",onClick:function(){return e.setState({choosePayDialog:!1})},icon:I.NBC}),n.createElement(Zt.Z,null,this.state.renderPay.map((function(t,a){return n.createElement(Ct.Z,{button:!0,onClick:e.changePayMobile.bind(e,t.type),key:a},n.createElement(St.Z,null,n.createElement(xt.Z,{style:{color:"#fff",backgroundColor:"#000"}},"cash"==t.type?n.createElement(w.G,{icon:I.aLp}):"in"==t.type?n.createElement(w.G,{icon:I.J4t}):n.createElement(w.G,{icon:I.Ozh}))),n.createElement(kt.Z,{primary:t.title}))})))),n.createElement(G.Z,{open:this.state.orderCheckDop,fullWidth:!0,onClose:this.startOrderNext.bind(this),className:"DialogOrderCheckDopDialog"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"А как же палочки и соевый соус ?"),n.createElement(w.G,{className:"closeDialog",onClick:this.startOrderNext.bind(this),icon:I.NBC}),n.createElement(T.Z,null,n.createElement("div",{className:"tableMobile OrderCheckDopDialog"},this.state.cartItems_dop.map((function(t,a){return n.createElement(Ft,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})})))),n.createElement(Ye.Z,{style:{padding:"12px 24px",paddingBottom:24}},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:this.startOrderNext.bind(this)},n.createElement(E.Z,{variant:"contained",style:{width:"100%"},className:"BtnCardMain CardInCardItem"},"Продолжить")))),n.createElement(G.Z,{open:this.state.orderCheckDopTea,fullWidth:!0,onClose:this.startOrderNext.bind(this),className:"DialogOrderCheckDopDialog"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Согреваем, чаем угощаем!"),n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Две индивидуальные упаковки ягодно-фруктового чая вам в подарок"),n.createElement(w.G,{className:"closeDialog",onClick:this.startOrderNext.bind(this),icon:I.NBC}),n.createElement(T.Z,null,n.createElement("div",{className:"tableMobile OrderCheckDopDialog"},this.state.cartItems_dop_tea.map((function(t,a){return n.createElement(Ft,{key:a,item:t,type:"dop",firebaseAnalitic:e.firebaseAnalitic})})))),n.createElement(Ye.Z,{style:{padding:"12px 24px",paddingBottom:24}},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:this.startOrderNext.bind(this)},n.createElement(E.Z,{variant:"contained",style:{width:"100%"},className:"BtnCardMain CardInCardItem"},"Продолжить")))),!0===this.state.orderCheck?n.createElement(G.Z,{open:this.state.orderCheck,fullWidth:!0,onClose:function(){return e.setState({orderCheck:!1})},className:"DialogOrderCheckDialog"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckTitle"},"Подтверждение заказа"),n.createElement(w.G,{className:"closeDialog",onClick:function(){return e.setState({orderCheck:!1})},icon:I.NBC}),n.createElement(T.Z,{style:{display:"flex",flexDirection:"column"}},1==parseInt(this.state.orderTimes)?null:n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Время предзаказа: ",this.state.orderPredDay+" "+this.state.orderPredTime),0==parseInt(this.state.orderType)?n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Доставим: ",this.state.orderAddr?this.state.orderAddr.city_name+", "+this.state.orderAddr.street+" "+this.state.orderAddr.home+(0==parseInt(this.state.orderAddr.pd)||0==this.state.orderAddr.pd.length?"":", Пд. "+this.state.orderAddr.pd)+(0==parseInt(this.state.orderAddr.et)||0==this.state.orderAddr.et.length?"":", Эт. "+this.state.orderAddr.et)+(0==parseInt(this.state.orderAddr.kv)||0==this.state.orderAddr.kv.length?"":", Кв. "+this.state.orderAddr.kv):null):n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Заберу: ",this.state.picPointInfo?this.state.picPointInfo.addr:""),0==parseInt(this.state.orderType)&&this.state.orderAddr&&0==parseInt(this.state.orderAddr.dom_true)?n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Домофон не работает"):null,this.state.orderPromo.length>0?n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Промокод: ",this.state.orderPromo):null,n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Оплачу: ",this.state.renderPay.find((function(t){return t.type==e.state.orderPay})).title),0==parseInt(this.state.orderType)&&"cash"==this.state.orderPay?this.state.orderSdacha.length>0?n.createElement(b.Z,{variant:"h5",component:"span",className:"nameSdacha orderCheckText"},"Сдача с: ",this.state.orderSdacha," ",n.createElement(Rt,{width:"20",viewBox:"0 0 700 300"})):n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Без сдачи"):null,-1!=parseInt(this.state.orderType)?null:n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText",style:{color:"#c03"}},"Забрать заказ можно только в маске"),-1!=parseInt(this.state.orderType)?null:n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},n.createElement(w.G,{icon:I.rtB}),' Уважаемые посетители кафе "Жако", посадка в зал осуществляется только при наличии qr - кода и документа, удостоверяющего личность. '),n.createElement(r.OL,{to:{pathname:"https://pravo.samregion.ru/wp-content/uploads/sites/2/2021/11/pgso291.pdf"},target:"_blank",style:{textDecoration:"none",color:"inherit",paddingBottom:10,marginTop:-10}},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Постановление губернатора Самарской области от 6.11.2021 г."))),(0==parseInt(this.state.orderType)&&parseInt(this.state.orderAddr.point_id),null),this.state.newOrderData&&this.state.newOrderData.dop_text&&this.state.newOrderData.dop_text.length>0?n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText",style:{fontWeight:"bold"}},this.state.newOrderData.dop_text):null,n.createElement("table",{className:"tableOrderCheck"},n.createElement("tbody",null,W.getItems().map((function(e,t){return parseInt(e.count)>0?n.createElement("tr",{key:t},n.createElement("td",{style:{width:"60%"}},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.name)),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.count)),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},e.all_price," ",n.createElement(Rt,{width:"20",viewBox:"0 0 700 300"})))):null})),this.state.cartItems_promo.map((function(e,t){return n.createElement("tr",{key:t},n.createElement("td",{style:{width:"60%"}},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.name)),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},e.count)),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},e.allPrice," ",n.createElement(Rt,{width:"20",viewBox:"0 0 700 300"}))))})),0==parseInt(this.state.orderType)?n.createElement("tr",null,n.createElement("td",{colSpan:"2"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText"},"Доставка")),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},W.getSumDiv()," ",n.createElement(Rt,{width:"20",viewBox:"0 0 700 300"})))):null),n.createElement("tfoot",null,n.createElement("tr",null,n.createElement("td",{colSpan:"2"},n.createElement(b.Z,{variant:"h5",component:"span",className:"orderCheckText bold"},"Сумма заказа")),n.createElement("td",null,n.createElement(b.Z,{variant:"h5",component:"span",className:"namePrice orderCheckText"},parseInt(W.getAllPrice())+parseInt(W.getSumDiv())," ",n.createElement(Rt,{width:"20",viewBox:"0 0 700 300"}))))))),n.createElement(Ye.Z,{style:{padding:"12px 24px",paddingBottom:24}},"card"==this.state.orderPay?n.createElement("a",{href:this.state.newOrderData.pay.formUrl,className:"MuiButtonBase-root MuiBottomNavigationAction-root"},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"}},n.createElement(E.Z,{variant:"contained",style:{width:"100%",margin:"0px 10px"},className:"BtnCardMain CardInCardItem"},"Оплатить заказ"))):n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"BtnBorder",style:{width:"100%"},onClick:this.trueOrder.bind(this)},n.createElement(E.Z,{variant:"contained",style:{width:"100%"},className:"BtnCardMain CardInCardItem"},"Подтвердить заказ")))):null)}}],[{key:"fetchData",value:function(e){var t={type:"get_page_info",city_id:Ot(e),page:"cart"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Mt.stringify(t)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t,st:t.st}}})).catch((function(e){console.log(e)}))}},{key:"getDerivedStateFromError",value:function(e){fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Mt.stringify({type:"save_log_err",page:"cart",error:JSON.stringify(e),info:""})}).then((function(e){return e.json()})).then((function(e){}))}}]),a}(n.Component);var Gt=a(7563),Ht=function(e){(0,c.Z)(r,e);var t,a,i=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(a){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function r(e){var t;return(0,s.Z)(this,r),t=i.call(this,e),(0,p.Z)((0,l.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},W.setCity(t.props.city),t}return(0,o.Z)(r,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("PageAbout"),r.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(g.Z,{container:!0,className:"PAGEabout mainContainer"},n.createElement(g.Z,{item:!0,xs:12,style:{paddingBottom:15}},n.createElement(b.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?n.createElement(g.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"about"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Gt.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),r}(n.Component);var Ut=a(7563),qt=function(e){(0,c.Z)(r,e);var t,a,i=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(a){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function r(e){var t;return(0,s.Z)(this,r),t=i.call(this,e),(0,p.Z)((0,l.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},W.setCity(t.props.city),t}return(0,o.Z)(r,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("PageJob"),r.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(g.Z,{container:!0,className:"PAGEjob mainContainer"},n.createElement(g.Z,{item:!0,xs:12,style:{paddingBottom:15}},n.createElement(b.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?n.createElement(g.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"jobs"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Ut.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),r}(n.Component);var Jt=a(7563),Kt=function(e){(0,c.Z)(r,e);var t,a,i=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(a){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function r(e){var t;return(0,s.Z)(this,r),t=i.call(this,e),(0,p.Z)((0,l.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},W.setCity(t.props.city),t}return(0,o.Z)(r,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("PageInstPay"),r.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(g.Z,{container:!0,className:"PAGEinstpay mainContainer"},n.createElement(g.Z,{item:!0,xs:12,style:{paddingBottom:15}},n.createElement(b.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?n.createElement(g.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"instpayorders"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Jt.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),r}(n.Component);var Vt=a(7563),Yt=function(e){(0,c.Z)(r,e);var t,a,i=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(a){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function r(e){var t;return(0,s.Z)(this,r),t=i.call(this,e),(0,p.Z)((0,l.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},W.setCity(t.props.city),t}return(0,o.Z)(r,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("PageOferta"),r.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(g.Z,{container:!0,className:"PAGEoferta mainContainer"},n.createElement(g.Z,{item:!0,xs:12,style:{paddingBottom:15}},n.createElement(b.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?n.createElement(g.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"publichnaya-oferta"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Vt.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),r}(n.Component);var Qt=a(7563),Xt=function(e){(0,c.Z)(r,e);var t,a,i=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(a){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function r(e){var t;return(0,s.Z)(this,r),t=i.call(this,e),(0,p.Z)((0,l.Z)(t),"_isMounted",!1),t.state={is_load:!1,city_name:t.props.city,page:t.props.data?t.props.data.page:null,title:"",description:""},W.setCity(t.props.city),t}return(0,o.Z)(r,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),window.scrollTo(0,0),W.setPage("PagePolitika"),r.fetchData("/"+this.state.city_name).then((function(t){t.page.content=t.page.content.replace(/<a href=\"\//g,'<a href="/'+e.state.city_name+"/"),e.setState({title:t.page.title,description:t.page.description,page:t.page})}))}},{key:"render",value:function(){return n.createElement(n.Fragment,null,n.createElement(S.q,null,n.createElement("title",null,this.state.title),n.createElement("meta",{name:"description",content:this.state.description})),n.createElement(g.Z,{container:!0,className:"PAGEpolitika mainContainer"},n.createElement(g.Z,{item:!0,xs:12,style:{paddingBottom:15}},n.createElement(b.Z,{variant:"h5",component:"h1"},this.state.page?this.state.page.page_h:"")),this.state.page&&this.state.page.content?n.createElement(g.Z,{item:!0,container:!0,spacing:3,md:10,sm:12,xs:12,xl:10,className:"mainContainer",dangerouslySetInnerHTML:{__html:this.state.page.content}}):null))}}],[{key:"fetchData",value:function(e){var t,a={type:"get_page_info",city_id:(t=e,(t=(t=t.split("/")).filter((function(e){return""!=e})))[0]),page:"politika-konfidencialnosti"};return C()({method:"POST",url:j().urlApi,headers:{"content-type":"application/x-www-form-urlencoded"},data:Qt.stringify(a)}).then((function(e){if(200===e.status){var t=e.data;return{title:t.page.title,description:t.page.description,page:t.page,cats:t.cats,allItems:t.allItems,all:t}}})).catch((function(e){console.log(e)}))}}]),r}(n.Component),$t=a(8358),ea=a(9039),ta=a(2387),aa=a(6627),na=a.n(aa),ia=a(9009);var ra=function(e){(0,c.Z)(r,e);var t,a,i=(t=r,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,d.Z)(t);if(a){var i=(0,d.Z)(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return(0,m.Z)(this,e)});function r(){return(0,s.Z)(this,r),i.apply(this,arguments)}return(0,o.Z)(r,[{key:"render",value:function(){return n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained",className:"MiniActionsCartButton"},n.createElement("div",{variant:"contained",className:"ModalItemButtonCart OPEN"},n.createElement("button",{className:"minus",onClick:this.props.minus.bind(this,this.props.item_id)},"–"),n.createElement("span",null,this.props.count),n.createElement("button",{className:"plus",onClick:this.props.add.bind(this,this.props.item_id)},"+")))}}]),r}(n.PureComponent);function sa(e){return n.createElement("svg",{style:e.style,xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 0 24 24"},n.createElement("path",{d:"M17.778 7.449a3.628 3.628 0 00-1.107-2.761l-.001-.001a4.03 4.03 0 00-2.923-1.057h.009-5.454v7.636h5.454a4.032 4.032 0 002.917-1.06l-.003.003a3.633 3.633 0 001.108-2.768v.007zm4.04 0a7.11 7.11 0 01-2.158 5.368l-.002.002a7.65 7.65 0 01-5.581 2.08h.015-5.795v2.011H16.926c.29 0 .525.235.525.525v.022-.001 2.203c0 .29-.235.525-.525.525h-.022.001-8.608v3.291a.537.537 0 01-.537.528H4.886a.525.525 0 01-.525-.525v-.022.001-3.273H.522a.525.525 0 01-.525-.525v-.022.001-2.182-.021c0-.29.235-.525.525-.525h.022-.001 3.818v-2.011H.522a.525.525 0 01-.525-.525v-.022.001-2.54-.006a.537.537 0 01.528-.537h.019-.001 3.818V.55.529c0-.29.235-.525.525-.525h.022-.001 9.187a7.653 7.653 0 015.57 2.084l-.004-.004a7.11 7.11 0 012.157 5.378v-.013z"}))}var oa=a(7308);function la(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,m.Z)(this,a)}}var ca=a(7563),ma=function(e){(0,c.Z)(a,e);var t=la(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"componentDidMount",(function(){(0,B.EH)((function(){n.setState({allPrice:W.getSumDiv()+W.getAllPrice(),thisPage:W.getPage(),auth:!!W.getToken()})}))})),n.state={allPrice:0,thisPage:"",auth:!1},n}return(0,o.Z)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.allPrice!==t.allPrice||this.state.thisPage!==t.thisPage||this.state.auth!==t.auth}},{key:"render",value:function(){var e=W.getCity();return n.createElement("div",{className:"bottomNavigate"},n.createElement(r.OL,{to:"/"+e+"/",exact:!0,className:"MuiButtonBase-root MuiBottomNavigationAction-root"},n.createElement(w.G,{icon:I.fkH,style:{color:"home"==this.state.thisPage?"black":"gray"}})),n.createElement(r.OL,{to:"/"+e+"/akcii",exact:!0,className:"MuiButtonBase-root MuiBottomNavigationAction-root"},n.createElement(w.G,{icon:I.Cly,style:{color:"actii"==this.state.thisPage?"black":"gray"}})),!0===this.state.auth?n.createElement(r.OL,{to:"/"+e+"/cart",exact:!0,className:"MuiButtonBase-root MuiBottomNavigationAction-root"},n.createElement(ia.Z,{badgeContent:this.state.allPrice,max:5e5,color:"primary"},n.createElement(D.Z,{style:{fill:(this.state.thisPage,"#CC0033")}}))):n.createElement(b.Z,{className:"MuiButtonBase-root MuiBottomNavigationAction-root",onClick:this.props.login},n.createElement(ia.Z,{badgeContent:this.state.allPrice,max:5e5,color:"primary"},n.createElement(D.Z,{style:{fill:(this.state.thisPage,"#CC0033")}}))),n.createElement(r.OL,{to:"/"+e+"/contacts",exact:!0,className:"MuiButtonBase-root MuiBottomNavigationAction-root"},n.createElement(w.G,{icon:I.FGq,style:{color:"contact"==this.state.thisPage?"black":"gray"}})),!0===this.state.auth?n.createElement(r.OL,{to:"/"+e+"/profile",exact:!0,className:"MuiButtonBase-root MuiBottomNavigationAction-root"},n.createElement(w.G,{icon:I.ILF,style:{color:"profile"==this.state.thisPage?"black":"gray"}})):n.createElement(b.Z,{className:"MuiButtonBase-root MuiBottomNavigationAction-root",onClick:this.props.login},n.createElement(w.G,{icon:I.ILF,style:{color:"profile"==this.state.thisPage?"black":"gray"}})))}}]),a}(n.Component),da=function(e){(0,c.Z)(a,e);var t=la(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"_isMounted",!1),(0,p.Z)((0,l.Z)(n),"componentDidMount",(function(){n._isMounted=!0,localStorage.getItem("promo_name")&&localStorage.getItem("promo_name").length>0&&(n.setState({promoName:localStorage.getItem("promo_name")}),setTimeout((function(){n.checkPromo()}),300));var e=W.getAllItems(),t=W.getItems(),a=W.getItemsPromo(),i=[];t.map((function(e){e.count>0&&(e.type,i.push(e))})),a.map((function(e){e.count>0&&(e.type,i.push(e))})),console.log(t),t.map((function(a,n){var i=e.find((function(e){return parseInt(e.id)==parseInt(a.item_id)}));t[n].img_new=i.img_new,t[n].img_new_update=i.img_new_update,t[n].img_app=i.img_app})),n.setState({cartItems:t}),(0,B.EH)((function(){if(n._isMounted){n.setState({allPrice:W.getSumDiv()+W.getAllPrice()});var e=W.getAllItems(),t=W.getItems(),a=W.getItemsPromo(),i=[];t.map((function(e){e.count>0&&(e.type="us",i.push(e))})),a.map((function(e){e.count>0&&(e.type="promo",i.push(e))})),console.log(i),i.map((function(t,a){var n=e.find((function(e){return parseInt(e.id)==parseInt(t.item_id)}));i[a].img_new=n.img_new,i[a].img_new_update=n.img_new_update,i[a].img_app=n.img_app})),n.setState({cartItems:i,sumDiv:W.getSumDiv(),promoName:localStorage.getItem("promo_name")?localStorage.getItem("promo_name"):""})}}))})),(0,p.Z)((0,l.Z)(n),"handleClick",(function(e){"cart"!==W.getPage()?n.setState({anchorEl:e.currentTarget}):n.handleClose()})),(0,p.Z)((0,l.Z)(n),"handleClose",(function(){n.setState({anchorEl:null})})),n.state={anchorEl:null,cartItems:[],allPrice:0,sumDiv:0,promoName:"",promoText:"",promoST:!1},n}return(0,o.Z)(a,[{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"add",value:function(e){W.AddItem(e)}},{key:"minus",value:function(e){W.MinusItem(e)}},{key:"checkPromo",value:function(){var e=this;fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ca.stringify({type:"get_promo_web",city_id:W.getCity(),promo_name:this.state.promoName})}).then((function(e){return e.json()})).then((function(t){W.setPromo(JSON.stringify(t),e.state.promoName);var a=W.checkPromo();a.st,0==e.state.promoName.length?e.setState({promoText:""}):e.setState({promoText:a.text,promoST:a.st})}))}},{key:"changePromo",value:function(e){this.setState({promoName:e.target.value})}},{key:"checkPromoKey",value:function(e){13==parseInt(e.keyCode)&&this.checkPromo()}},{key:"render",value:function(){var e=this,t=Boolean(this.state.anchorEl),a=t?"simple-popover":void 0;return n.createElement("div",null,n.createElement(A.Z,{className:"ShopIconBTN","aria-describedby":a,color:"inherit","aria-label":"menu",onClick:this.handleClick.bind(this)},n.createElement(ia.Z,{badgeContent:this.state.allPrice,max:5e5,color:"primary"},n.createElement(D.Z,null))),n.createElement(ta.ZP,{id:a,open:t,anchorEl:this.state.anchorEl,onClose:this.handleClose.bind(this),anchorPosition:{top:50,right:50},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},n.createElement("div",null,n.createElement("table",{className:"TableMini"},n.createElement("tbody",null,this.state.cartItems.map((function(t,a){return t.type,n.createElement("tr",{key:a},n.createElement("td",{className:"CellPic"},t.img_app.length>0?n.createElement("picture",null,n.createElement("source",{srcset:"\n                                                            https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_276x276.jpg 138w, \n                                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_292x292.jpg 146w,\n                                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_366x366.jpg 183w,\n                                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_466x466.jpg 233w,\n                                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_585x585.jpg 292w\n                                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_732x732.jpg 366w,\n                                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_1168x1168.jpg 584w,\n                                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_1420x1420.jpg 760w,\n                                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),n.createElement("img",{alt:t.name,title:t.name,src:"https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_276x276.jpg")})):n.createElement("picture",null,n.createElement("source",{srcSet:"https://storage.yandexcloud.net/site-img/"+t.img_new+"600х400.webp?"+t.img_new_update,type:"image/webp"}),n.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+t.img_new+"600х400.jpg?"+t.img_new_update,alt:t.name,title:t.name}))),n.createElement("td",{className:"TableMiniName CellName"},n.createElement("span",{style:{height:40,width:"100%",display:"flex",alignItems:"center"}},t.name)),n.createElement("td",{className:"CellButton"},n.createElement(ra,{count:t.count,item_id:t.item_id,minus:e.minus.bind(e),add:e.add.bind(e)})),n.createElement("td",{className:"CellPrice"},n.createElement("div",{className:"TableMiniPrice"},new Intl.NumberFormat("ru-RU").format(t.all_price),n.createElement(sa,{style:{width:13,height:13,fill:"#525252",marginLeft:5}}))))}))),n.createElement("tfoot",null,n.createElement("tr",null,n.createElement("td",null,"Итого:"),n.createElement("td",null,n.createElement("div",null,new Intl.NumberFormat("ru-RU").format(this.state.allPrice),n.createElement(sa,{style:{width:14,height:14,fill:"#525252",marginLeft:5}})))))),n.createElement("div",{className:"SpacePromoRoot"},n.createElement(Et.Z,{component:"div",className:"SpacePromo",elevation:0},n.createElement(_t.Z,{onBlur:this.checkPromo.bind(this),value:this.state.promoName,onKeyDown:this.checkPromoKey.bind(this),onChange:this.changePromo.bind(this),placeholder:"Есть промокод"}),this.state.promoText.length>0?n.createElement("div",{className:!0===this.state.promoST?"promoIndicator true":"promoIndicator false"}):null),this.state.promoText.length>0&&!1===this.state.promoST?n.createElement("div",{className:"DescPromo"},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},this.state.promoText)):null),n.createElement("div",{className:"InCart"},null!==W.getToken()?n.createElement(r.OL,{to:"/"+W.getCity()+"/cart",exact:!0,style:{textDecoration:"none"},onClick:this.handleClose.bind(this)},n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained"},n.createElement(E.Z,{variant:"contained"},"Оформить заказ"))):n.createElement(_.Z,{disableElevation:!0,disableRipple:!0,variant:"contained"},n.createElement(E.Z,{variant:"contained",onClick:this.props.openLogin},"Оформить заказ"))))))}}]),a}(n.Component),pa=function(e){(0,c.Z)(a,e);var t=la(a);function a(){return(0,s.Z)(this,a),t.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){return n.createElement(ua,{data:this.props.data,city:this.props.city,this_link:this.props.this_link})}}]),a}(n.Component);function ha(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}ae().node,ae().any.isRequired,ae().any.isRequired;var ua=function(e){(0,c.Z)(a,e);var t=la(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"is_load",!1),(0,p.Z)((0,l.Z)(n),"sms1",!1),(0,p.Z)((0,l.Z)(n),"sms2",!1),(0,p.Z)((0,l.Z)(n),"componentDidMount",(function(){setTimeout((function(){var e=W.getUserName(),t=W.getToken();n.setState({token:localStorage.getItem("token")&&0!=localStorage.getItem("token").length?localStorage.getItem("token"):""}),t&&0==t.length&&localStorage.getItem("token")&&localStorage.getItem("token").length>0&&n.setToken(localStorage.getItem("token"),""),e.length>0&&(W.setUserName(e),n.setState({userName:e}));var a=W.getCartData();if((a.orderType||0==a.orderType)&&0==a.orderType&&a.orderAddr&&a.orderAddr.id&&-1!==a.orderAddr.id){var i=W.getAllPrice();1==parseInt(a.orderAddr.free_drive)?parseInt(i)>0?W.setSumDiv(0):W.setSumDiv(1):W.setSumDiv(parseInt(a.orderAddr.sum_div))}n.setState({is_load:!0}),n.load()}),300),(0,B.EH)((function(){n.setState({activePage:W.getPage()}),n.setState({token:localStorage.getItem("token")&&0!=localStorage.getItem("token").length?localStorage.getItem("token"):""}),W.getCity()!==n.state.cityName&&(n.setState({cityName:W.getCity()}),n.load());var e=W.getUserName();e&&0!=e.length&&n.setState({userName:e})}))})),(0,p.Z)((0,l.Z)(n),"handleKeyPress",(function(e){"Enter"===e.key&&n.sendSMS()})),(0,p.Z)((0,l.Z)(n),"handleClick",(function(e){n.setState({anchorEl:e.currentTarget})})),(0,p.Z)((0,l.Z)(n),"handleClose",(function(){n.setState({anchorEl:null})})),n.props&&n.props.data&&(n.is_load=!0,W.setDops(n.props.data.all.other.cats.need_dop),W.setAllItems(n.props.data.all.other.cats.all_items),W.setAllItemsCat(n.props.data.all.other.cats.arr),W.setAllItemsCatNew(n.props.data.all.other.cats.main_cat),W.setFreeItems(n.props.data.all.other.cats.free_items),W.setBanners(n.props.data.all.other.cats.baners),W.setCityRU(n.props.data.all.other.cats.this_city_name_ru),W.setCity(n.props.city)),n.state={this_link:n.props.this_link?n.props.this_link:"",categoryItemsNew:n.props.data?n.props.data.all.other.cats.main_cat:[],categoryItems:n.props.data?n.props.data.all.other.cats.arr:[],cartItems:[],activePage:"",is_load:!1,is_load_new:!1,openCity:!1,cityName:n.props.city?n.props.city:"",testData:[1,2,3,4],cityList:n.props.data?n.props.data.all.other.cats.city_list:[],openLoginNew:!1,pwd:"",ResPWD:!1,NeedCode:!1,typeLogin:0,openLogin:!1,userLogin:"",userLoginFormat:"",userCode:"",stage_1:!0,stage_2:!1,timerSMS:89,errPhone:"",errSMS:"",userName:"",token:"",soc_link:null,anchorEl:null,cityNameRu:n.props.data&&n.props.data.all.other.cats.this_city_name_ru&&n.props.data.all.other.cats.this_city_name_ru.length>0?n.props.data.all.other.cats.this_city_name_ru:"Город"},n}return(0,o.Z)(a,[{key:"load",value:function(){var e=this;W.getCity()&&fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ca.stringify({type:"get_cat_web",city_id:W.getCity(),user_id:W.getToken()})}).then((function(e){return e.json()})).then((function(t){W.setUserName(t.user_name),W.setDops(t.need_dop),W.setAllItems(t.all_items),W.setAllItemsCat(t.arr),W.setAllItemsCatNew(t.main_cat),W.setFreeItems(t.free_items),W.setBanners(t.baners),W.setCityRU(t.this_city_name_ru),e.setState({cityList:t.city_list,categoryItems:t.arr,categoryItemsNew:t.main_cat,is_load:!0,cityNameRu:t.this_city_name_ru,userName:t.user_name}),e.is_load=!1})).catch((function(e){}))}},{key:"openCity",value:function(){this.setState({openCity:!0})}},{key:"closeCity",value:function(){this.setState({openCity:!1})}},{key:"getNewLink",value:function(e){return window.location.pathname.replace(this.state.cityName,e)}},{key:"openLogin",value:function(){var e=this;localStorage.getItem("token")&&localStorage.getItem("token").length>0?fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ca.stringify({type:"get_user_data",user_id:localStorage.getItem("token")})}).then((function(e){return e.json()})).then((function(t){W.setToken(localStorage.getItem("token"),t),W.setUserName(t),e.is_load=!1,e.setState({userName:t,token:localStorage.getItem("token")}),"undefined"!=typeof window&&(window.location.pathname="/"+e.state.cityName+"/profile")})).catch((function(e){})):this.setState({openLoginNew:!0})}},{key:"closeLogin",value:function(){this.setState({openLogin:!1,openLoginNew:!1,ResPWD:!1,NeedCode:!1,userLogin:"",userLoginFormat:"",userCode:"",pwd:""})}},{key:"logIn",value:function(){var e=this,t=this.state.userLogin;t=(t=(t=(t=(t=(t=t.split(" ").join("")).split("(").join("")).split(")").join("")).split("-").join("")).split("_").join("")).slice(1),fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ca.stringify({type:"site_login",number:t,pwd:this.state.pwd})}).then((function(e){return e.json()})).then((function(t){!1===t.st?e.setState({errPhone:t.text}):(W.setToken(t.token,t.name),W.setUserName(t.name),e.is_load=!1,e.setState({userName:t.name,token:t.token}),e.closeLogin())})).catch((function(e){}))}},{key:"sendSMS",value:function(){var e=this;if(0==this.sms1){this.sms1=!0,this.setState({stage_1:!1,stage_2:!0,errPhone:"",errSMS:""});var t=this.state.userLogin;t=(t=(t=(t=(t=(t=t.split(" ").join("")).split("(").join("")).split(")").join("")).split("-").join("")).split("_").join("")).slice(1),this.setState({userLoginFormat:t}),grecaptcha.ready((function(){grecaptcha.execute("6LdhWpIdAAAAAA4eceqTfNH242EGuIleuWAGQ2su",{action:"submit"}).then((function(a){fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ca.stringify({type:"create_profile",number:t,token:a})}).then((function(e){return e.json()})).then((function(t){if(t.st){e.setState({errPhone:""});var a=setInterval((function(){e.setState({timerSMS:e.state.timerSMS-1}),0==e.state.timerSMS&&clearInterval(a)}),1e3)}else e.setState({errPhone:t.text});setTimeout((function(){e.sms1=!1}),300)}))}))}))}}},{key:"repeatSMS",value:function(){var e=this;!1===this.sms2&&(this.sms2=!0,this.setState({errSMS:"",is_load_new:!0}),grecaptcha.ready((function(){grecaptcha.execute("6LdhWpIdAAAAAA4eceqTfNH242EGuIleuWAGQ2su",{action:"submit"}).then((function(t){fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ca.stringify({type:"repeat_sms",number:e.state.userLoginFormat,token:t})}).then((function(e){return e.json()})).then((function(t){if(e.sms2=!1,t.st){e.setState({timerSMS:89});var a=setInterval((function(){e.setState({timerSMS:e.state.timerSMS-1}),0==e.state.timerSMS&&clearInterval(a)}),1e3)}else e.setState({errSMS:t.text});setTimeout((function(){e.setState({is_load_new:!1})}),300)}))}))})))}},{key:"checkCode",value:function(){var e=this;this.setState({errSMS:""}),fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ca.stringify({type:"check_profile",cod:this.state.userCode,number:this.state.userLoginFormat})}).then((function(e){return e.json()})).then((function(t){t.st?(W.setToken(t.token,t.name),e.closeLogin()):e.setState({errSMS:t.text})}))}},{key:"changeNumber",value:function(){this.setState({stage_1:!0,stage_2:!1,errPhone:"",errSMS:""})}},{key:"changeCode",value:function(e){var t=this;e=e.target.value,this.setState({userCode:e}),4==(parseInt(e)+"").length&&setTimeout((function(){t.checkCode()}),500)}},{key:"changeCodeNew",value:function(e){e=e.target.value,this.setState({userCode:e})}},{key:"LoginBySMS",value:function(){this.setState({openLoginNew:!1,openLogin:!0,errPhone:"",errSMS:""}),this.is_load=!1,this.sms1=!1,this.sms2=!1}},{key:"ResPWD",value:function(){this.setState({ResPWD:!0,NeedCode:!1})}},{key:"sendsmsrp",value:function(){var e=this;if(0==this.sms1){this.sms1=!0,this.setState({errPhone:"",errSMS:"",is_load_new:!0});var t=this.state.userLogin;t=(t=(t=(t=(t=(t=t.split(" ").join("")).split("(").join("")).split(")").join("")).split("-").join("")).split("_").join("")).slice(1),this.setState({userLoginFormat:t}),grecaptcha.ready((function(){grecaptcha.execute("6LdhWpIdAAAAAA4eceqTfNH242EGuIleuWAGQ2su",{action:"submit"}).then((function(a){fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ca.stringify({type:"sendsmsrp",number:t,pwd:e.state.pwd,token:a})}).then((function(e){return e.json()})).then((function(t){if(t.st){var a;e.setState((a={errPhone:"",NeedCode:!0},(0,p.Z)(a,"errPhone",""),(0,p.Z)(a,"errSMS",""),a));var n=setInterval((function(){e.setState({timerSMS:e.state.timerSMS-1}),0==e.state.timerSMS&&clearInterval(n)}),1e3)}else e.setState({errPhone:t.text});setTimeout((function(){e.sms1=!1,e.setState({is_load_new:!1})}),300)}))}))}))}}},{key:"checkcoderp",value:function(){var e=this;fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:ca.stringify({type:"checkcoderp",number:this.state.userLoginFormat,code:this.state.userCode})}).then((function(e){return e.json()})).then((function(t){t.st?(e.setState({errPhone:"",NeedCode:!0}),W.setToken(t.token,t.name),W.setUserName(t.name),e.is_load=!1,e.setState({userName:t.name,token:t.token,errPhone:"",errSMS:""}),e.closeLogin()):e.setState({errPhone:t.text}),setTimeout((function(){e.sms1=!1}),300)}))}},{key:"render",value:function(){var e=this,t=this.props.this_link,a=(t=t.split("/")).find((function(e){return"menu"==e}));if(a&&a.length>0&&!t.find((function(e){return"item"==e}))){var i=t.findIndex((function(e){return"menu"==e}));t[i+1]}if("undefined"!=typeof window){var s=window.location.href;if(this.state.this_link!=s&&(t=(t=s).split("/"),(a=t.find((function(e){return"menu"==e})))&&a.length>0&&!t.find((function(e){return"item"==e})))){var o=t.findIndex((function(e){return"menu"==e}));t[o+1]}}return!1===this.state.is_load?n.createElement(ne.Z,{position:"fixed",className:"header",style:{zIndex:2}},n.createElement($t.Z,{className:"sub_header"},n.createElement(g.Z,null,n.createElement(g.Z,{item:!0,style:{marginRight:15}},n.createElement(r.OL,{to:"/"+this.state.cityName},n.createElement("img",{alt:"Жако доставка роллов и пиццы",src:"https://jacochef.ru/src/img/Bely_fon_logo.png"}))),n.createElement(n.Fragment,null,n.createElement(g.Z,{item:!0,className:"CityProfileNav"},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span",onClick:this.openCity.bind(this),style:{display:"flex",flexDirection:"row"}},W.getCityRU()," ",n.createElement(ea.Z,null)),n.createElement(b.Z,{className:"cat",variant:"h5",component:"span",onClick:this.openLogin.bind(this)},"Войти")),this.state.categoryItemsNew.map((function(t,a){return n.createElement(g.Z,{item:!0},n.createElement(r.OL,{style:{padding:"4px 8px"},to:"/"+e.state.cityName+"/menu/"+t.link,className:"catLink"},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},t.name)))})),n.createElement(g.Z,{item:!0},n.createElement(r.OL,{style:{padding:"4px 8px"},to:"/"+this.state.cityName+"/akcii",className:"actii"==this.state.activePage?"catLink activeCat":"catLink"},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},"Акции"))),n.createElement(g.Z,{item:!0},n.createElement(r.OL,{style:{padding:"4px 8px"},to:"/"+this.state.cityName+"/contacts",className:"contact"==this.state.activePage?"catLink activeCat":"catLink"},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},"Контакты"))),n.createElement(g.Z,{item:!0},n.createElement(da,{openLogin:this.openLogin.bind(this)})))),n.createElement(U.Z,{mdUp:!0},n.createElement(b.Z,{variant:"h5",component:"span",className:"thisCity",onClick:this.openCity.bind(this)},n.createElement(w.G,{icon:I.FGq})," ",W.getCityRU()))),"home"==this.state.activePage?n.createElement(g.Z,{className:"scrollCat"},n.createElement(U.Z,{mdUp:!0},this.state.testData.map((function(e,t){return n.createElement(g.Z,{item:!0,key:t},n.createElement("div",{style:{width:120,height:28,marginRight:12,backgroundColor:"#e5e5e5"}}))})))):null):n.createElement("div",null,n.createElement(ne.Z,{position:"fixed",className:"header",style:{zIndex:2}},n.createElement($t.Z,{className:"sub_header"},n.createElement(g.Z,{style:{width:"100%"}},n.createElement(g.Z,{item:!0,style:{marginRight:15}},n.createElement(r.OL,{to:"/"+this.state.cityName,onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}},n.createElement("img",{alt:"Жако доставка роллов и пиццы",src:"https://jacochef.ru/src/img/Bely_fon_logo.png"}))),n.createElement(U.Z,{smDown:!0},n.createElement(g.Z,{item:!0,className:"CityProfileNav"},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span",onClick:this.openCity.bind(this),style:{display:"flex",flexDirection:"row"}},this.state.cityNameRu," ",n.createElement(ea.Z,null)),this.state.token.length>0?this.state.userName.length>0?n.createElement(r.OL,{to:"/"+this.state.cityName+"/profile",className:"cat"},this.state.userName):n.createElement(r.OL,{to:"/"+this.state.cityName+"/profile"},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},"Профиль")):n.createElement(b.Z,{className:"cat",variant:"h5",component:"span",onClick:this.openLogin.bind(this)},"Войти")),n.createElement("div",{style:{display:"flex",alignItems:"baseline",flexDirection:"row",width:"100%"}},this.state.categoryItemsNew.map((function(t,i){return n.createElement(g.Z,{item:!0,key:i},"home"!=e.state.activePage||a?n.createElement(r.OL,{to:"/"+e.state.cityName,name:t.main_link,className:"catLink",style:{padding:"4px 0.5vw"},onClick:function(){"undefined"==typeof window||localStorage.setItem("goTo",t.id)}},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},t.name)):t.cats.length>0?n.createElement(n.Fragment,null,n.createElement(r.OL,{id:"link_"+t.id,name:t.main_link,to:"/"+e.state.cityName,className:"catLink",style:{padding:"4px 0.5vw"},onClick:e.handleClick.bind(e)},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},t.name)),n.createElement(oa.Z,{id:"simple-menu",anchorEl:e.state.anchorEl,keepMounted:!0,open:Boolean(e.state.anchorEl),onClose:e.handleClose.bind(e),elevation:2,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},t.cats.map((function(t,a){return n.createElement(dt.Z,{key:a,style:{width:"100%"}},n.createElement(x.rU,{onClick:e.handleClose.bind(e),to:"cat"+t.id,spy:!0,isDynamic:!0,smooth:!0,offset:-60,activeClass:"activeCat",style:(0,p.Z)({width:"max-content",display:"flex",whiteSpace:"nowrap",padding:"4px 0.5vw"},"width","100%")},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},t.name)))})))):n.createElement(x.rU,{key:i,to:"cat"+t.id,spy:!0,isDynamic:!0,onSetActive:function(e){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),document.querySelector("#link_"+t.id).classList.add("activeCat")},smooth:!0,offset:-60,activeClass:"activeCat",id:"link_"+t.id,name:t.main_link,style:{width:"max-content",display:"flex",whiteSpace:"nowrap",padding:"4px 0.5vw"}},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},t.name)))})),n.createElement(g.Z,{item:!0},n.createElement(r.OL,{style:{padding:"4px 8px"},to:"/"+this.state.cityName+"/akcii",className:"actii"==this.state.activePage?"catLink activeCat":"catLink"},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},"Акции"))),n.createElement(g.Z,{item:!0},n.createElement(r.OL,{style:{padding:"4px 8px"},to:"/"+this.state.cityName+"/contacts",className:"contact"==this.state.activePage?"catLink activeCat":"catLink"},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},"Контакты")))),n.createElement(g.Z,{item:!0,style:{marginLeft:"auto"}},n.createElement(da,{openLogin:this.openLogin.bind(this)})))),n.createElement(U.Z,{mdUp:!0},n.createElement(b.Z,{variant:"h5",component:"span",className:"thisCity",onClick:this.openCity.bind(this)},n.createElement(w.G,{icon:I.FGq})," ",W.getCityRU()))),"home"==this.state.activePage?n.createElement(g.Z,{className:"scrollCat mobile"},n.createElement(U.Z,{mdUp:!0},this.state.categoryItems.map((function(t,i){return a&&a.length>0?n.createElement(x.rU,{key:i,to:"cat"+t.id,spy:!0,onSetActive:function(e){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),document.querySelector("#link_"+t.id).classList.add("activeCat"),document.getElementById("link_"+t.id).scrollIntoView(!0)},smooth:!0,offset:-100,activeClass:"activeCat",id:"link_"+t.id,name:t.main_link,style:{padding:"3px 5px"}},n.createElement(r.OL,{to:"/"+e.state.cityName,style:{padding:"3px 5px"},className:"catLink",onClick:function(){"undefined"==typeof window||localStorage.setItem("goTo",t.id)}},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},t.name))):n.createElement(x.rU,{key:i,to:"cat"+t.id,spy:!0,onSetActive:function(e){document.querySelector(".activeCat")&&document.querySelector(".activeCat").classList.remove("activeCat"),document.querySelector("#link_"+t.id).classList.add("activeCat"),document.getElementById("link_"+t.id).scrollIntoView(!0)},smooth:!0,offset:-100,activeClass:"activeCat",id:"link_"+t.id},n.createElement(b.Z,{className:"cat",variant:"h5",component:"span"},t.name))})))):null),n.createElement(G.Z,{open:this.state.openCity,fullWidth:!0,maxWidth:"xs",onClose:this.closeCity.bind(this),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:"ModalCity"},n.createElement(P.Z,{id:"alert-dialog-title"},"Выберите город"),n.createElement(T.Z,{className:"ModalContent_1_1",style:{paddingBottom:24,paddingTop:0}},this.state.cityList.map((function(t,a){return n.createElement(r.OL,{key:a,className:e.state.cityName==t.link?"active":"",to:{pathname:e.getNewLink(t.link)},onClick:function(){setTimeout((function(){W.saveCartData([]),window.location.reload()}),300)}},n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalLabel"},t.name))})))),n.createElement(G.Z,{open:this.state.openLogin,fullWidth:!0,maxWidth:"xs",onClose:this.closeLogin.bind(this),className:"ModalAuth"},n.createElement(P.Z,{id:"alert-dialog-title"},"Вход на сайт"),n.createElement(T.Z,{className:"ModalContent_1_1"},n.createElement("div",{className:"ModalContent_1_2"},n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalLabel"},"Номер телефона"),n.createElement(na(),{className:"InputMask",mask:"8 (999) 999-99-99",placeholder:"8 (999) 999-99-99",disabled:!this.state.stage_1,value:this.state.userLogin,onChange:function(t){return e.state.stage_1?e.setState({userLogin:t.target.value}):{}}}),this.state.stage_2?n.createElement(b.Z,{variant:"h5",component:"span",className:"changeNumber",onClick:this.changeNumber.bind(this)},"Изменить номер"):null,this.state.errPhone.length>0?n.createElement("div",{style:{marginTop:10,padding:16,backgroundColor:"#BB0025",borderRadius:4}},n.createElement(b.Z,{variant:"h5",component:"span",style:{fontSize:"1.1rem",color:"#fff"}},this.state.errPhone)):null),this.state.stage_2?n.createElement("div",{className:"ModalContent_1_3"},n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalLabel"},"Код из смс"),n.createElement("div",{className:"ModalContent_1_2"},n.createElement(na(),{className:"InputMask",mask:"9999",value:this.state.userCode,onChange:this.changeCode.bind(this)}),this.state.timerSMS>0?n.createElement(b.Z,{variant:"h5",component:"span",style:{fontSize:"0.8rem",paddingTop:10}},"Новое смс доступно через "+this.state.timerSMS+" сек."):n.createElement(b.Z,{variant:"h5",component:"span",style:{fontSize:"0.8rem",paddingTop:10,cursor:"pointer",width:"fit-content"},onClick:this.repeatSMS.bind(this)},"Получить новый код")),this.state.errSMS.length>0?n.createElement("div",{style:{marginTop:10,padding:16,backgroundColor:"#BB0025",borderRadius:4}},n.createElement(b.Z,{variant:"h5",component:"span",style:{fontSize:"1.1rem",color:"#fff"}},this.state.errSMS)):null):null),this.state.stage_1?n.createElement(Ye.Z,{style:{padding:"12px 24px"}},n.createElement(E.Z,{onClick:this.sendSMS.bind(this),style:{backgroundColor:"#BB0025",color:"#fff",padding:"6px 30px"}},"Выслать код")):null,this.state.stage_2?n.createElement(Ye.Z,{style:{padding:"12px 24px"}},n.createElement(E.Z,{onClick:this.checkCode.bind(this),style:{backgroundColor:"#BB0025",color:"#fff",padding:"6px 30px"}},"Подтвердить код")):null),n.createElement(G.Z,{open:this.state.openLoginNew,fullWidth:!0,maxWidth:"xs",onClose:this.closeLogin.bind(this),className:"ModalAuth"},n.createElement(P.Z,{style:{display:"none"}},!1===this.state.ResPWD?"Авторизация":"Восстановление пароля"),n.createElement(T.Z,{className:"ModalContent_1_1 newContent"},n.createElement(k.Z,{open:this.state.is_load_new,style:{zIndex:999,color:"#fff"}},n.createElement(N.Z,{color:"inherit"})),n.createElement(ie.Z,{value:this.state.typeLogin,onChange:function(t,a){e.setState({typeLogin:a,ResPWD:0!=a,errPhone:"",errSMS:""})},indicatorColor:"primary",variant:"fullWidth",style:{backgroundColor:"#fff",color:"#000",marginBottom:20}},n.createElement(re.Z,(0,u.Z)({style:{color:"#000"},label:"Вход"},ha(0))),n.createElement(re.Z,(0,u.Z)({style:{color:"#000"},label:"Регистрация"},ha(1)))),n.createElement("div",{className:"ModalContent_1_2"},!1===this.state.ResPWD?n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalLabel"},"Номер телефона"),n.createElement(na(),{className:"InputMask",mask:"8 (999) 999-99-99",placeholder:"8 (999) 999-99-99",disabled:!this.state.stage_1,value:this.state.userLogin,onChange:function(t){return e.state.stage_1?e.setState({userLogin:t.target.value}):{}}}),n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalLabel",style:{marginTop:20}},"Пароль"),n.createElement(at.Z,{size:"small",variant:"outlined",type:"password",value:this.state.pwd,disabled:!this.state.stage_1,onChange:function(t){return e.setState({pwd:t.target.value})}}),n.createElement(b.Z,{variant:"h5",component:"span",className:"changeNumberGray",onClick:this.LoginBySMS.bind(this)},"Войти по смс")):n.createElement(n.Fragment,null,!0===this.state.ResPWD&&!1===this.state.NeedCode?n.createElement(n.Fragment,null,n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalLabel"},"Номер телефона"),n.createElement(na(),{className:"InputMask",mask:"8 (999) 999-99-99",placeholder:"8 (999) 999-99-99",disabled:!this.state.stage_1,value:this.state.userLogin,onChange:function(t){return e.state.stage_1?e.setState({userLogin:t.target.value}):{}}}),n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalLabel",style:{marginTop:20}},0==this.state.typeLogin?"Новый пароль":"Придумайте пароль"),n.createElement(at.Z,{size:"small",variant:"outlined",type:"password",value:this.state.pwd,disabled:!this.state.stage_1,onChange:function(t){return e.setState({pwd:t.target.value})}})):n.createElement("div",{className:"ModalContent_1_3"},n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalLabel"},"Номер телефона"),n.createElement(na(),{className:"InputMask",mask:"8 (999) 999-99-99",placeholder:"8 (999) 999-99-99",disabled:!0,value:this.state.userLogin}),n.createElement("div",{className:"ModalContent_1_2"},n.createElement(b.Z,{variant:"h5",component:"span",className:"ModalLabel",style:{marginTop:20}},"Код из смс"),n.createElement(na(),{className:"InputMask",mask:"9999",value:this.state.userCode,onChange:this.changeCodeNew.bind(this)}),this.state.timerSMS>0?n.createElement(b.Z,{variant:"h5",component:"span",style:{fontSize:"0.8rem",paddingTop:10}},"Новое смс доступно через "+this.state.timerSMS+" сек."):n.createElement(b.Z,{variant:"h5",component:"span",style:{fontSize:"0.8rem",paddingTop:10,cursor:"pointer",width:"fit-content"},onClick:this.repeatSMS.bind(this)},"Получить новый код")),this.state.errSMS.length>0?n.createElement("div",{style:{marginTop:10,padding:16,backgroundColor:"#BB0025",borderRadius:4}},n.createElement(b.Z,{variant:"h5",component:"span",style:{fontSize:"1.1rem",color:"#fff"}},this.state.errSMS)):null)),this.state.errPhone.length>0?n.createElement("div",{style:{marginTop:10,padding:16,backgroundColor:"#BB0025",borderRadius:4}},n.createElement(b.Z,{variant:"h5",component:"span",style:{fontSize:"1.1rem",color:"#fff"}},this.state.errPhone)):null)),n.createElement(Ye.Z,{style:{padding:"12px 24px"}},!1===this.state.ResPWD?n.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",width:"100%",justifyContent:"space-between"}},n.createElement(b.Z,{variant:"h5",component:"span",className:"changeNumber",onClick:this.ResPWD.bind(this)},"Восстановить пароль"),n.createElement(E.Z,{onClick:this.logIn.bind(this),style:{backgroundColor:"#BB0025",color:"#fff",padding:"6px 30px"}},"Войти")):!1===this.state.NeedCode?n.createElement(E.Z,{onClick:this.sendsmsrp.bind(this),style:{backgroundColor:"#BB0025",color:"#fff",padding:"6px 30px"}},"Подтвердить номер"):n.createElement(E.Z,{onClick:this.checkcoderp.bind(this),style:{backgroundColor:"#BB0025",color:"#fff",padding:"6px 30px"}},"Авторизоваться"))),"home"==this.state.activePage?n.createElement(U.Z,{mdUp:!0},n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:85,zIndex:0,backgroundColor:"#bababa",opacity:.1}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:88,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:91,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:94,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:97,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:100,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:103,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:106,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:109,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",top:112,zIndex:0,backgroundColor:"#bababa",opacity:.01}})):null,n.createElement(U.Z,{mdUp:!0},n.createElement(ma,{login:this.openLogin.bind(this)})))}}]),a}(n.Component),ga=a(1647),fa=a(1417),ya=a(2026);function va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,d.Z)(e);if(t){var i=(0,d.Z)(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return(0,m.Z)(this,a)}}var Ea=a(7563),_a={itemsStore:W},ba=null;function wa(e){var t=e.code,a=e.children;return n.createElement(h.AW,{render:function(e){var n=e.staticContext;return n&&(n.status=t),a}})}function Ia(){return n.createElement(wa,{code:404},n.createElement(g.Z,{container:!0,className:"Contact mainContainer MuiGrid-spacing-xs-3",style:{marginTop:64}},n.createElement(g.Z,{item:!0,xs:12},n.createElement(b.Z,{variant:"h5",component:"h1"},"404 Страница не найдена"))))}var xa=function(e){(0,c.Z)(a,e);var t=va(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"componentDidMount",(function(){n.setState({page:W.getPage()}),(0,B.EH)((function(){n.setState({cityName:W.getCity()}),n.setState({page:W.getPage()}),n.loadPageInfo()}))})),n.state={soc_link:null,cityName:n.props.cityName,is_load:!1,page:""},n}return(0,o.Z)(a,[{key:"loadPageInfo",value:function(){var e=this;W.getCity()&&fetch(j().urlApi,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Ea.stringify({type:"get_page_info",city_id:W.getCity(),page:"info"})}).then((function(e){return e.json()})).then((function(t){e.setState({soc_link:t.soc_link,is_load:!0})})).catch((function(e){}))}},{key:"render",value:function(){return n.createElement("footer",{className:"footer "+("cart"==this.state.page?this.state.page:"")},n.createElement(g.Z,{container:!0,className:"mainContainer"},n.createElement(g.Z,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12,className:"copy"},n.createElement(b.Z,{variant:"body1"},"© Жако 2017 - ",(new Date).getFullYear())),n.createElement(g.Z,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12},n.createElement(r.OL,{to:"/"+this.state.cityName+"/about",style:{textDecoration:"none"}},n.createElement(b.Z,{variant:"body1"},"О Компании")),n.createElement(r.OL,{to:"/"+this.state.cityName+"/jobs",style:{textDecoration:"none"}},n.createElement(b.Z,{variant:"body1"},"Вакансии")),n.createElement(r.OL,{to:"/"+this.state.cityName+"/publichnaya-oferta",style:{textDecoration:"none"}},n.createElement(b.Z,{variant:"body1"},"Публичная оферта")),this.state.is_load&&this.state.soc_link&&this.state.soc_link.link_allergens.length?n.createElement(r.OL,{to:{pathname:this.state.soc_link.link_allergens},target:"_blank",style:{textDecoration:"none"}},n.createElement(b.Z,{variant:"body1"},"Калорийность, состав и аллергены")):null),n.createElement(g.Z,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12},n.createElement(r.OL,{to:"/"+this.state.cityName+"/politika-konfidencialnosti",style:{textDecoration:"none"}},n.createElement(b.Z,{variant:"body1"},"Политика конфиденциальности")),n.createElement(r.OL,{to:"/"+this.state.cityName+"/contacts",style:{textDecoration:"none"}},n.createElement(b.Z,{variant:"body1"},"Доставка и контакты")),n.createElement(r.OL,{to:"/"+this.state.cityName+"/instpayorders",style:{textDecoration:"none"}},n.createElement(b.Z,{variant:"body1"},"Правила оплаты товаров"))),this.state.is_load?n.createElement(g.Z,{item:!0,lg:3,md:3,sm:3,xl:3,xs:12,className:"socIcons"},this.state.soc_link&&this.state.soc_link.link_fb?n.createElement(r.OL,{to:{pathname:this.state.soc_link.link_fb},target:"_blank",style:{textDecoration:"none"}},n.createElement(w.G,{icon:fa.AYu,style:{fontSize:"2rem",padding:10}})):null,this.state.soc_link&&this.state.soc_link.link_inst?n.createElement(r.OL,{to:{pathname:this.state.soc_link.link_inst},target:"_blank",style:{textDecoration:"none"}},n.createElement(w.G,{icon:fa.Zzi,style:{fontSize:"2rem",padding:10}})):null,this.state.soc_link&&this.state.soc_link.link_ok?n.createElement(r.OL,{to:{pathname:this.state.soc_link.link_ok},target:"_blank",style:{textDecoration:"none"}},n.createElement(w.G,{icon:fa.eSE,style:{fontSize:"2rem",padding:10}})):null,this.state.soc_link&&this.state.soc_link.link_vk?n.createElement(r.OL,{to:{pathname:this.state.soc_link.link_vk},target:"_blank",style:{textDecoration:"none"}},n.createElement(w.G,{icon:fa.iD2,style:{fontSize:"2rem",padding:10}})):null,n.createElement(r.OL,{to:{pathname:"https://t.me/jacofood"},target:"_blank",style:{textDecoration:"none"}},n.createElement(w.G,{icon:fa.IKq,style:{fontSize:"2rem",padding:10}}))):null))}}]),a}(n.Component),Za=function(e){(0,c.Z)(a,e);var t=va(a);function a(e){var n;return(0,s.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,l.Z)(n),"componentDidMount",(function(){ba=(0,q.ZF)({apiKey:"AIzaSyChAHowCT2C7GRwfcxwt1Pi4SCV4CaVpP4",authDomain:"jacofoodsite.firebaseapp.com",projectId:"jacofoodsite",storageBucket:"jacofoodsite.appspot.com",messagingSenderId:"692082803779",appId:"1:692082803779:web:39a39963cd8bff927000f6"}),(0,J.IH)(ba),(0,ya.r)(ba),(0,B.EH)((function(){n.setState({activePage:W.getPage()}),n.setState({cityName:W.getCity()})}))})),n.state={categoryItems:[],cartItems:[],activePage:"",is_load:!1,openCity:!1,cityName:"",testData:[1,2,3,4,5,6,7,8,9],cityList:[],openLogin:!1,userLogin:"",userLoginFormat:"",userCode:"",stage_1:!0,stage_2:!1,timerSMS:59,errPhone:"",errSMS:"",userName:"",soc_link:null},n}return(0,o.Z)(a,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.activePage!==t.activePage||this.state.cityName!==t.cityName}},{key:"render",value:function(){return n.createElement(ga.zt,_a,n.createElement("div",{className:"home"},n.createElement(h.rs,null,n.createElement(h.AW,{path:"/:cityName/contacts",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Ve,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/akcii/:act_id",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement($e,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/akcii",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement($e,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/menu",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Fe,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Fe,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/item/:id",exact:!0},n.createElement(pa,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(Ie,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link,linkItem:this.props.globalState.linkItem,item:this.props.globalState.Item}))),n.createElement(h.AW,{path:"/:cityName/menu/:catLink/:itemId",exact:!0},n.createElement(pa,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement("div",{style:{paddingTop:80}},n.createElement(Ie,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link,linkItem:this.props.globalState.linkItem,item:this.props.globalState.Item}))),n.createElement(h.AW,{exact:!0,path:"/:cityName/profile/"},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(vt,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/menu/:itemLink",exact:!0},n.createElement(pa,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Le,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/cart",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Wt,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/about",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Ht,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/jobs",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(qt,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/instpayorders",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Kt,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/publichnaya-oferta",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Yt,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/:cityName/politika-konfidencialnosti",exact:!0},n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Xt,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link})),n.createElement(h.AW,{path:"/",exact:!0},n.createElement(h.l_,{push:!0,to:"/togliatti"})),n.createElement(h.AW,{path:"/profile",exact:!0},n.createElement(h.l_,{push:!0,to:"/togliatti"})),n.createElement(h.AW,null,n.createElement(ua,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}),n.createElement(Ia,{data:this.props.globalState.data,city:this.props.globalState.city,this_link:this.props.globalState.this_link}))),"cart"==this.state.activePage?n.createElement(U.Z,{mdUp:!0},n.createElement(U.Z,{only:"xs"},n.createElement("div",{className:"456",style:{width:"100%",height:3,position:"fixed",bottom:72,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:69,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:66,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:63,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:60,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:57,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:54,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:51,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:48,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:45,zIndex:0,backgroundColor:"#bababa",opacity:.1}})),n.createElement(U.Z,{only:"sm"},n.createElement("div",{className:"123",style:{width:"100%",height:3,position:"fixed",bottom:171,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:168,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:165,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:162,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:159,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:156,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:153,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:150,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:147,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:144,zIndex:0,backgroundColor:"#bababa",opacity:.1}}))):null,"cart"==this.state.activePage?null:n.createElement(U.Z,{mdUp:!0},n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:72,zIndex:0,backgroundColor:"#bababa",opacity:.01}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:69,zIndex:0,backgroundColor:"#bababa",opacity:.02}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:66,zIndex:0,backgroundColor:"#bababa",opacity:.03}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:63,zIndex:0,backgroundColor:"#bababa",opacity:.04}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:60,zIndex:0,backgroundColor:"#bababa",opacity:.05}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:57,zIndex:0,backgroundColor:"#bababa",opacity:.06}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:54,zIndex:0,backgroundColor:"#bababa",opacity:.07}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:51,zIndex:0,backgroundColor:"#bababa",opacity:.08}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:48,zIndex:0,backgroundColor:"#bababa",opacity:.09}}),n.createElement("div",{style:{width:"100%",height:3,position:"fixed",bottom:45,zIndex:0,backgroundColor:"#bababa",opacity:.1}})),n.createElement(xa,{cityName:this.props.globalState.city})))}}]),a}(n.Component);i.hydrate(n.createElement(r.VK,null,n.createElement(Za,{globalState:GLOBAL_STATE})),document.getElementById("app"))},8811:e=>{e.exports={urlApi:"https://jacochef.ru/api/site/test_app.php"}},8028:(e,t,a)=>{var n={"./ru":238,"./ru.js":238};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id=8028}},e=>{e.O(0,[216],(()=>(1254,e(e.s=1254)))),e.O()}]);
//# sourceMappingURL=main.20d705d8230bf71bcd84.js.map